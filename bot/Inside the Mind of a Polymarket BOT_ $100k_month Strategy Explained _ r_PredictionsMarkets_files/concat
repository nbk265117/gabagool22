SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./CPc507yujZ.js",import.meta.url,"CPc507yujZ");SML.di("./DiH4zLRIso.js",import.meta.url,"DiH4zLRIso");SML.di("./DNWCS1rLQE.js",import.meta.url,"DNWCS1rLQE");SML.di("./DFvuM_MTkg.js",import.meta.url,"DFvuM_MTkg");
SML.dm("-gARXes9C-",["CYrPuvCiTj","CPc507yujZ","DiH4zLRIso","DNWCS1rLQE","DFvuM_MTkg"],(async(t,e)=>{let r=class extends t.s{constructor(){super(...arguments),this.subredditName="",this.userName="",this.thingId="",this.subredditId="",this.userId="",this.forceOpen=!1,this.postId="",this.conversationId="",this.isUserDeleted=!1,this.triggerSource=e.a.USERNAME,this.openModNotes=async e=>{const{subredditName:r,userName:i,thingId:s,subredditId:o,userId:d,triggerSource:n,postId:p}=this,u=e??n;t.p(t.T.ModNotesRailOpen,{subredditName:r,userName:this.isUserDeleted?"deleted":i,thingId:s,subredditId:o,userId:this.isUserDeleted?"deleted":d,triggerSource:u,postId:p,conversationId:this.conversationId})},this.handleAnchorClick=t=>{t instanceof MouseEvent&&0!==t.button||t.ctrlKey||t.metaKey||(t.preventDefault(),this.openModNotes())},this.preventAnchorClick=t=>{const e=t.target;if(e instanceof HTMLSlotElement){e.assignedElements().forEach((t=>{(t instanceof HTMLAnchorElement||this.forceOpen||this.isUserDeleted)&&(t.onclick=this.handleAnchorClick,t.ontouchstart=this.handleAnchorClick)}))}}}render(){return this.isUserDeleted||this.subredditName&&this.subredditId&&this.userName&&this.userId?t.x` <slot @slotchange="${this.preventAnchorClick}"></slot> `:t.x`<slot></slot>`}};return t._([t.n({type:String,attribute:"subreddit-name"})],r.prototype,"subredditName",void 0),t._([t.n({type:String,attribute:"user-name"})],r.prototype,"userName",void 0),t._([t.n({type:String,attribute:"thing-id"})],r.prototype,"thingId",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],r.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"user-id"})],r.prototype,"userId",void 0),t._([t.n({type:Boolean,attribute:"force-open"})],r.prototype,"forceOpen",void 0),t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:String,attribute:"conversation-id"})],r.prototype,"conversationId",void 0),t._([t.n({type:Boolean,attribute:"is-user-deleted"})],r.prototype,"isUserDeleted",void 0),t._([t.n({type:String,attribute:"trigger-source"})],r.prototype,"triggerSource",void 0),r=t._([t.e("mod-notes-opener")],r),{get ModNotesOpener(){return r}}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("005PrA1Byk",["CYrPuvCiTj"],(async e=>{var n,a;!function(e){e.Regular="regular",e.Semibold="semibold"}(n||(n={})),function(e){e.Small="sm",e.Medium="md",e.Large="lg"}(a||(a={})),a.Small,e.a4.ExtraSmall,a.Medium,e.a4.Small,a.Large,e.a4.Medium;const t={sm:"text-12",md:"text-14",lg:"text-16"},i={always:"underline",hover:"hover:underline",none:"no-underline hover:no-underline"},r={primary:"",secondary:"text-secondary-plain hover:text-secondary-plain-hover no-visited visited:text-secondary-plain","plain-weak":"text-secondary-plain-weak hover:text-secondary-plain-hover no-visited visited:text-secondary-plain-weak",media:"text-media-onbackground no-visited visited:text-media-onbackground",inverted:"text-inverted-secondary-plain hover:text-inverted-secondary-plain-hover no-visited visited:text-neutral-background-weak"};return{get A(){return a},a:({attributes:n,children:a,fontWeight:d="regular",size:o,suppressVisitedStyle:l=!1,underline:s="hover",visited:c,appearance:m="primary",trailingIcon:u})=>{const{html:v,createElement:p}=e.a(),g=v`${a}${u?v`<span class="ms-2xs align-middle">${u}</span>`:""}`,x=`${n?.className||""} a cursor-pointer\n  ${m?r[m]:""}\n  ${o?t[o]:""}\n  ${"semibold"===d?"font-semibold":""}\n  ${l?"no-visited":""}\n  ${s?i[s]:""}\n  ${c?"visited":""}`;return p("a",{...n,rpl:!0,className:x},g)},get b(){return n},t:({toggled:n,appearance:a="favorite",filledIcon:t,outlineIcon:i,...r})=>e.u({...r,appearance:"bordered"===a&&n?"secondaryToggled":`${a}${n?"Toggled":""}`,leadingIcon:n?t:i})}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./BvU2E9FwXI.js",import.meta.url,"BvU2E9FwXI");SML.di("./DcrdnxhCfa.js",import.meta.url,"DcrdnxhCfa");SML.di("./Xj9Z_fzyKi.js",import.meta.url,"Xj9Z_fzyKi");SML.di("./2-Vu0jpcMv.js",import.meta.url,"2-Vu0jpcMv");SML.di("./rxXg4kAY8P.js",import.meta.url,"rxXg4kAY8P");SML.di("./zWWS8JSAAa.js",import.meta.url,"zWWS8JSAAa");SML.di("./Bb-T49I7YR.js",import.meta.url,"Bb-T49I7YR");SML.di("./Cz_WrixFD5.js",import.meta.url,"Cz_WrixFD5");SML.di("./CEkHpZAUVH.js",import.meta.url,"CEkHpZAUVH");SML.di("./B58tzg41t5.js",import.meta.url,"B58tzg41t5");SML.di("./BJdHdrH8mb.js",import.meta.url,"BJdHdrH8mb");SML.di("./DgaC1xItoR.js",import.meta.url,"DgaC1xItoR");SML.di("./CaC8XqiTGs.js",import.meta.url,"CaC8XqiTGs");SML.di("./DVa-SVjWU5.js",import.meta.url,"DVa-SVjWU5");SML.di("./D4Ab94OqLr.js",import.meta.url,"D4Ab94OqLr");SML.di("./BG_G1Cif8U.js",import.meta.url,"BG_G1Cif8U");SML.di("./BRVVLb7Eld.js",import.meta.url,"BRVVLb7Eld");SML.di("./DAeuL7zDX0.js",import.meta.url,"DAeuL7zDX0");SML.di("./DdQ8ToexAC.js",import.meta.url,"DdQ8ToexAC");SML.di("./BEOg1WTiXx.js",import.meta.url,"BEOg1WTiXx");SML.di("./DyzvzwR0Ee.js",import.meta.url,"DyzvzwR0Ee");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./DcxJbk2B3f.js",import.meta.url,"DcxJbk2B3f");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");
SML.dm("8J0j52AuM3",["CYrPuvCiTj","BvU2E9FwXI","DcrdnxhCfa","Xj9Z_fzyKi","2-Vu0jpcMv","rxXg4kAY8P","zWWS8JSAAa","Bb-T49I7YR","Cz_WrixFD5","CEkHpZAUVH","B58tzg41t5","BJdHdrH8mb","DgaC1xItoR","CaC8XqiTGs","DVa-SVjWU5","D4Ab94OqLr","BG_G1Cif8U","BRVVLb7Eld","DAeuL7zDX0","DdQ8ToexAC","BEOg1WTiXx","DyzvzwR0Ee","C8CrqKCiqJ","wzdls1o9Kk","BtqmVQuPYp","DcxJbk2B3f","B39chFHLCe","DGkwklwWNC"],(async(e,t,a,i,n,s,o,r,l)=>{var d;!function(e){e.GREAT="great",e.NOT_GREAT="not great"}(d||(d={}));let c=class extends e.s{constructor(){super(...arguments),this.otherReasonFormValue="",this.isOpen=!1,this.handleDismiss=()=>{e.k(this,r.n()),this.close()}}show(){e.k(this,r.m()),this.faceplateDialog?.showModal?.(),this.isOpen=!0}close(){this.faceplateDialog?.close?.(),this.isOpen=!1,this.selectedOption=void 0,this.otherReasonFormValue=""}showThankYouAlert(){this.dispatchEvent(e.d("faceplate-alert",{level:e.a0.success,message:"Thanks for rating"}))}handleUpvoteTranslation(){this.selectedOption=d.GREAT}handleDownvoteTranslation(){this.selectedOption=d.NOT_GREAT}handleSubmit(){this.selectedOption&&(e.k(this,r.o({reason:this.selectedOption,survey_text:this.otherReasonFormValue})),this.showThankYouAlert(),this.close())}render(){return e.x` <faceplate-dialog id="global-translation-feedback-faceplate-dialog" class="translation-feedback"> <div class="flex flex-col gap-lg"> <div class="flex justify-between"> <h3 class="font-bold text-24 text-neutral-content-strong m-0" data-testid="modal-title"> ${"Enjoying these translations?"} </h3> ${e.u({attributes:{onclick:this.handleDismiss},appearance:"secondary",leadingIcon:e.al({size:e.I.Medium}),size:e.v.Medium})} </div> <p class="m-0" data-testid="modal-subtitle"> ${"Tell us what you think about your translated Reddit experience."} </p> <div class="flex justify-center gap-md"> <button data-testid="upvote-translation" class="py-md px-lg cursor-pointer border-none rounded-md ${this.selectedOption===d.GREAT?"bg-neutral-background-selected":"bg-neutral-background-medium"}" @click="${this.handleUpvoteTranslation}" @keydown="${this.handleUpvoteTranslation}"> <img src="${CLIENT_CONFIG.STATIC_BASE_URL}assets/snoomojis/Snoo_Expression_Smile_EyesOpen.png" class="block m-auto pb-xs" width="56" height="56" alt=""> <p class="font-semibold text-14 text-center text-neutral-content-strong m-0"> ${"Great"} </p> </button> <button data-testid="downvote-translation" class="py-md px-lg cursor-pointer border-none rounded-md ${this.selectedOption===d.NOT_GREAT?"bg-neutral-background-selected":"bg-neutral-background-medium"}" @click="${this.handleDownvoteTranslation}" @keydown="${this.handleDownvoteTranslation}"> <img src="${CLIENT_CONFIG.STATIC_BASE_URL}assets/snoomojis/Snoo_Expression_Blanc.png" class="block m-auto pb-xs" width="56" height="56" alt=""> <p class="font-semibold text-14 text-center text-neutral-content-strong m-0"> ${"Not Great"} </p> </button> </div> ${this.selectedOption?e.x` <div class="flex w-full box-border"> <faceplate-textarea-input data-testid="other-reason-input" maxlength="500" appearance="${o.a.BORDERED}" size="${o.T.EXPANDED}" @keyup="${e=>{e.stopPropagation(),this.otherReasonFormValue=e.target.value}}" class="w-full" .value="${this.otherReasonFormValue}"> <span slot="label">${"Leave a comment (optional)"}</span> </faceplate-textarea-input> </div> `:e.x``} <div class="flex justify-end"> ${e.u({appearance:"primary",size:e.v.Large,shape:"pill",attributes:{onclick:this.handleSubmit,className:"flex box-border","data-testid":"submit-feedback-button",disabled:!this.selectedOption},children:e.x`<span class="font-semibold text-14">${"Give Feedback"}</span>`})} </div> </div> </faceplate-dialog> `;}};c.styles=[e.i`.translation-feedback{border-radius:16px;max-width:400px;padding:2rem 1.5rem 1.5rem 1.5rem;width:82%}`,e.t],e._([e.Y("#global-translation-feedback-faceplate-dialog")],c.prototype,"faceplateDialog",void 0),e._([e.j()],c.prototype,"selectedOption",void 0),e._([e.j()],c.prototype,"otherReasonFormValue",void 0),e._([e.j()],c.prototype,"isOpen",void 0),c=e._([e.e("global-translation-feedback-modal")],c);const u="data-protection-consent",h="faceplate-bottom-sheet#xpromo-bottom-sheet",m="faceplate-modal#blocking-modal",p=e.s;function k(e){return!!e?.open}let T=class extends p{constructor(){super(...arguments),this.activatableFeatures=[e.hQ,e.hR,e.hS,e.hT],this.isDesktop=!1,this.withFeedback=!1,this.withActivatedFeatures=!1,this.translationContextValue=e.aN,this.withCoachmark=!1,this.withTranslationSettings=!1,this.userLocale="",this.hasCoachmarkDisplayLimit=!1,this.translationActiveMsg="Translations enabled",this.handleTranslationActiveSwitch=()=>{const e=!this.translationContextValue.isTranslationActive;this.dispatchContextUpdateEvent({isTranslationActive:e})},this.closeTranslationCoachmark=()=>{this.translationCoachmark?.hide?.(),this.onCoachmarkClose()},this.openTranslationCoachmark=()=>{e.k(this,l.e(!!this.translationContextValue.isTranslationActive)),this.translationCoachmark?.show?.()},this.openTranslationMenu=()=>{e.k(this,l.f(!!this.translationContextValue.isTranslationActive)),this.isDesktop?this.translationDropdownMenu?.show?.():this.translationMenuBottomSheet?.showModal?.()},this.closeTranslationMenu=()=>{e.k(this,l.f(!!this.translationContextValue.isTranslationActive)),this.isDesktop?this.translationDropdownMenu?.close?.():this.translationMenuBottomSheet?.close?.()},this.openFeedbackModal=()=>{this.translationFeedbackModal?.show?.()},this.handleCoachmarkSettingsClick=()=>{this.closeTranslationCoachmark(),this.openTranslationMenu(),e.k(this,l.g(l.h.UpdateSettings))},this.handleTranslationActiveClick=t=>{t.stopPropagation(),e.k(this,r.q(!!this.translationContextValue.isTranslationActive,this.userLocale))},this.handleCoachmarkClick=e=>{e.stopPropagation()},this.handleCoachmarkCloseClick=()=>{this.closeTranslationCoachmark(),e.k(this,l.g(l.h.Dismiss))},this.handleNavMobileButtonClick=()=>{this.activateFeatures(),this.openTranslationMenu(),e.k(this,l.i(!!this.translationContextValue.isTranslationActive))},this.handleNavbarButtonClick=()=>{this.activateFeatures(),e.k(this,l.i(!!this.translationContextValue.isTranslationActive)),e.k(this,l.f(!!this.translationContextValue.isTranslationActive))},this.handleGiveFeedbackButtonClick=()=>{this.openFeedbackModal(),this.closeTranslationMenu()},this.onCoachmarkClose=()=>{setTimeout((()=>{this.dispatchContextUpdateEvent({shouldDisplayCoachmark:!1,shouldDisplayFeedbackCoachmark:!0})}),500)},this._activateFeature=e.w}connectedCallback(){super.connectedCallback();"mtseo-disabled"===e.a6.getItem(e.a7.I18nTranslationInterventionShown)&&(setTimeout((()=>{this.dispatchEvent(e.d("faceplate-alert",{level:e.a0.success,message:"Translations are disabled."}))}),1e3),e.a6.setItem(e.a7.I18nTranslationInterventionShown,"true"))}updated(e){this.withCoachmark&&!this.hasCoachmarkDisplayLimit&&e.has("translationContextValue")&&void 0!==this.translationContextValue.isTranslationActive&&this.displayCoachmark()}displayCoachmark(){const{coachmarkDisplayCount:e,shouldDisplayCoachmark:t}=this.translationContextValue;window.setTimeout((()=>{if(!t)return;if(this.hasCoachmarkObstacles())return;const a=e<1;this.dispatchContextUpdateEvent({coachmarkDisplayCount:e+1,shouldDisplayCoachmark:a,shouldDisplayFeedbackCoachmark:!a}),a&&this.openTranslationCoachmark(),this.hasCoachmarkDisplayLimit=!0}),1500)}hasCoachmarkObstacles(){const t=!!document.querySelector(u),a=function(t){const a=document.querySelector(t);return a?e.cR(k,a):[]}(h),i=!!document.querySelector(m);return t||a?.length>0||i}dispatchContextUpdateEvent(e){const t={...this.translationContextValue,...e},a=new CustomEvent("update-translation-context",{bubbles:!0,composed:!0,detail:t});this.dispatchEvent(a)}featureShouldBeActivated(t){return!!document.querySelector(`faceplate-loader[name=${t}]`)&&!!document.querySelector(`faceplate-partial[name=${t}]`)&&!e.hU(t)}activateFeatures(){return this.withActivatedFeatures?Promise.all(this.activatableFeatures.filter(this.featureShouldBeActivated).map((e=>this._activateFeature({name:e})))):Promise.resolve()}renderCoachmark(){return this.translationContextValue.shouldDisplayCoachmark?e.x`<rpl-coachmark-card slot="content" appearance="inverted"> ${a.i({size:e.I.Small,attributes:{slot:"title-icon"}})} <span slot="title" class="whitespace-nowrap">${this.translationActiveMsg}</span> <p class="max-w-[10rem] xs:max-w-none"> ${this.translationContextValue.isTranslationActive?"Posts and comments are automatically translated":"Automatically translate posts and comments"} </p> ${e.u({attributes:{"aria-label":"Close",id:"coachmark-close-button",onclick:this.handleCoachmarkCloseClick,slot:"close-button"},appearance:"plainInverted",leadingIcon:e.al({size:e.I.Small}),size:e.v.Small})} ${e.u({attributes:{slot:"primary-button",id:"coachmark-settings-button",onclick:this.handleCoachmarkSettingsClick},children:"Settings",appearance:"plainInverted",size:e.v.Small})} </rpl-coachmark-card>`:e.x``;}renderDesktopMenu(){return e.x`<faceplate-dropdown-menu position="bottom-end" id="translation-desktop-menu"> ${e.u({size:e.v.Medium,appearance:"plain",shape:"pill",leadingIcon:i.t({size:e.I.Medium}),attributes:{id:"translation-menu-button","aria-label":this.translationActiveMsg,onclick:this.handleNavbarButtonClick}})} <faceplate-menu slot="menu" dropdown hidden> ${s.l({label:e.x` <faceplate-switch-input id="hui-translation-switch" appearance="${t.S.PRIMARY}" class="inline-flex flex-row-reverse gap-sm" ?checked="${this.translationContextValue.isTranslationActive}" @input="${this.handleTranslationActiveSwitch}" @click="${this.handleTranslationActiveClick}"> <span class="-ml-xs">${this.translationActiveMsg}</span> </faceplate-switch-input> `,size:s.L.Medium})} ${this.withTranslationSettings?s.l({label:e.x` <span class="flex flex-row items-center"> ${n.s({size:e.I.Medium})} <span class="ml-xs"> ${"Translation Settings"} </span> </span> `,attributes:{id:"translation-settings-list-item"},size:s.L.Medium,href:"/settings/preferences"}):e.A} ${this.withFeedback?s.l({label:"Give translation feedback",attributes:{"data-testid":"hui-translation-button-feedback-option"},size:s.L.Medium,onClick:this.handleGiveFeedbackButtonClick}):e.A} </faceplate-menu> </faceplate-dropdown-menu>`;}renderMobileMenu(){return e.x`<div> ${e.u({size:e.v.Medium,appearance:"plain",shape:"pill",leadingIcon:i.t({size:e.I.Medium}),attributes:{id:"translation-menu-button",onclick:this.handleNavMobileButtonClick,"aria-label":this.translationActiveMsg}})} <faceplate-bottom-sheet id="translation-mobile-menu"> <div class="p-md flex flex-col items-stretch w-full gap-md"> <faceplate-switch-input id="hui-translation-switch" appearance="${t.S.PRIMARY}" class="flex flex-row-reverse justify-between gap-sm px-xs" ?checked="${this.translationContextValue.isTranslationActive}" @input="${this.handleTranslationActiveSwitch}" @click="${this.handleTranslationActiveClick}"> <span class="inline-flex items-center gap-xs"> ${i.t({size:e.I.Medium})} <span> ${this.translationActiveMsg} </span> </span> </faceplate-switch-input> ${this.withFeedback?s.l({label:"Give translation feedback",attributes:{"data-testid":"hui-translation-button-feedback-option"},size:s.L.Medium,onClick:this.handleGiveFeedbackButtonClick}):e.A} </div> </faceplate-bottom-sheet> </div>`;}render(){return e.x` <rpl-coachmark placement="${this.isDesktop?"bottom-end":"bottom"}" appearance="inverted" id="translation-coachmark" @click="${this.handleCoachmarkClick}" @rpl-coachmark:after-hide="${this.onCoachmarkClose}" style="--max-width:fit-content"> <div>${this.isDesktop?this.renderDesktopMenu():this.renderMobileMenu()}</div> ${this.renderCoachmark()} </rpl-coachmark> ${this.withFeedback?e.x` <global-translation-feedback-modal id="hui-translation-button-feedback-modal"></global-translation-feedback-modal>`:e.A} `}};T.styles=[e.t],e._([e.n({type:Boolean,attribute:"is-desktop"})],T.prototype,"isDesktop",void 0),e._([e.n({type:Boolean,attribute:"with-feedback"})],T.prototype,"withFeedback",void 0),e._([e.n({type:Boolean,attribute:"with-activated-features"})],T.prototype,"withActivatedFeatures",void 0),e._([e.aM({context:e.aO,subscribe:!0}),e.j()],T.prototype,"translationContextValue",void 0),e._([e.n({type:Boolean,attribute:"with-coachmark"})],T.prototype,"withCoachmark",void 0),e._([e.n({type:Boolean,attribute:"with-translation-settings"})],T.prototype,"withTranslationSettings",void 0),e._([e.n({type:String,attribute:"user-locale"})],T.prototype,"userLocale",void 0),e._([e.j()],T.prototype,"hasCoachmarkDisplayLimit",void 0),e._([e.Y("#translation-coachmark")],T.prototype,"translationCoachmark",void 0),e._([e.Y("#translation-desktop-menu")],T.prototype,"translationDropdownMenu",void 0),e._([e.Y("#translation-mobile-menu")],T.prototype,"translationMenuBottomSheet",void 0),e._([e.Y("#hui-translation-button-feedback-modal")],T.prototype,"translationFeedbackModal",void 0),T=e._([e.e("hui-translation-button")],T);const v="second_default",g="enabled_initialized";let N=class extends e.s{constructor(){super(...arguments),this.translationContextValue=e.aN,this.isNewAccountAge=!1,this.isNewImmersiveVisit=!1,this.withBackendSetting=!1,this.preferredLanguages="",this.fullPreferredLanguages="",this.defaultImmersiveOn=!1,this.requestClientGQL=e.ag}connectedCallback(){super.connectedCallback(),this.isSettingInitialized()?this.syncTranslationSettingsWithCookie():this.initializeTranslationSettings(),this.initializePreferredLanguageSettings()}updated(e){if(!e.has("translationContextValue")||!this.withBackendSetting)return;const t=e.get("translationContextValue"),a=this.translationContextValue.isTranslationActive,i=t?.isTranslationActive;if(void 0===i)return;(!0!==i&&!0===a||!1!==i&&!1===a)&&this.saveTranslationSettingInAccount(a)}async initializePreferredLanguageSettings(){const t=this.fetchTranslationSettingFromCookie(),a=t&&(t.multilingualState===v||t.multilingualState===g);if(!this.fullPreferredLanguages&&!this.preferredLanguages||!this.withBackendSetting||a)return;const i={...this.translationContextValue};let n;const s=!!this.fullPreferredLanguages&&this.fullPreferredLanguages.length>0;try{const{data:t}=await this.requestClientGQL({operation:e.af.TranslationPreferredLanguages}),a=t?.identity?.preferences?.preferredLanguages||[];if(n=this.defaultPreferredLanguageDecider(a),n&&(s||0===a.length)){const t=(await this.requestClientGQL({operation:e.af.UpdatePreferredLanguagesPreference,variables:{input:{languages:n}}})).data.updatePreferredLanguagesPreference;t?.ok?(e.k(this,r.u({reason:"success",languages:n,old_languages:a,error:"",sourceName:s?v:""})),i.multilingualState=s?v:g,this.dispatchContextUpdateEvent(i)):e.k(this,r.u({reason:"failure",languages:n,old_languages:a,error:`GQL update error: ${t?.errors}`,sourceName:s?v:""}))}else!s&&a.length>0&&(i.multilingualState=g,this.dispatchContextUpdateEvent(i))}catch(t){const{message:a}=t;e.k(this,r.u({reason:"failure",languages:n||[],old_languages:[],error:`Exception thrown: ${a}`,sourceName:s?v:""}))}}defaultPreferredLanguageDecider(e){return this.fullPreferredLanguages&&this.fullPreferredLanguages.length>0?e?[...new Set([...this.fullPreferredLanguages.split(","),...e])]:e:this.preferredLanguages&&this.preferredLanguages.length>0?[this.preferredLanguages]:null}async initializeTranslationSettings(){const t=this.fetchTranslationSettingFromCookie(),a=await this.fetchTranslationSettingFromGQL();let i,n={...this.translationContextValue};if(t&&(n={...n,...t}),null!==a&&a!==t?.isTranslationActive&&(n={...n,isTranslationActive:a},i=r.T.BACKEND),null===t&&null===a){const[e,t]=this.getFallbackIsTranslationActive();i=t,n={...n,isTranslationActive:e}}this.dispatchContextUpdateEvent(n),null===a&&void 0!==n.isTranslationActive&&this.saveTranslationSettingInAccount(n.isTranslationActive),i&&(n.isTranslationActive?e.k(this,r.v(i)):e.k(this,r.w(i))),sessionStorage.setItem(e.a7.TranslationInitialized,Date.now().toString()),e.k(this,l.j(!!n.isTranslationActive))}getFallbackIsTranslationActive(){return this.defaultImmersiveOn?[!0,r.T.MULTILINGUAL_ON]:(this.isNewImmersiveVisit,this.isNewAccountAge?[!0,r.T.ACCOUNT_AGE]:[!1,r.T.DEFAULT_OFF])}syncTranslationSettingsWithCookie(){const t=this.fetchTranslationSettingFromCookie();let a={...this.translationContextValue};t&&t.isTranslationActive!==a.isTranslationActive&&(a={...a,...t},this.dispatchContextUpdateEvent(a)),e.k(this,l.j(!!a.isTranslationActive))}fetchTranslationSettingFromCookie(){const t=e.am.get(e.hV)??"";return e.hW(t)}async fetchTranslationSettingFromGQL(){if(!this.withBackendSetting)return null;try{const{data:t}=await this.requestClientGQL({operation:e.af.IdentityImmersiveTranslationSetting}),a=t.identity?.preferences?.isMachineTranslationImmersive;return null==a||a===e.hX.Unset?null:a===e.hX.Enabled}catch{}return null}async saveTranslationSettingInAccount(t){if(!this.withBackendSetting)return null;try{await this.requestClientGQL({operation:e.af.UpdateAccountPreferences,variables:{input:{isMachineTranslationImmersive:t?e.hX.Enabled:e.hX.Disabled}}})}catch{}return null}dispatchContextUpdateEvent(e){const t=new CustomEvent("update-translation-context",{bubbles:!0,composed:!0,detail:e});this.dispatchEvent(t)}isSettingInitialized(){const t=localStorage.getItem(e.a7.LoginTime);if(t&&this.withBackendSetting){const e=new Date(t);if(Date.now()-e.getTime()<2e4)return!1}const a=sessionStorage.getItem(e.a7.TranslationInitialized);return!!(a&&Date.now()-parseInt(a,10)<36e5)}render(){return e.x`<div> <slot></slot> </div>`}};e._([e.aM({context:e.aO,subscribe:!0}),e.j()],N.prototype,"translationContextValue",void 0),e._([e.n({type:Boolean,attribute:"is-new-account-age"})],N.prototype,"isNewAccountAge",void 0),e._([e.n({type:Boolean,attribute:"is-new-immersive-visit"})],N.prototype,"isNewImmersiveVisit",void 0),e._([e.n({type:Boolean,attribute:"with-backend-setting"})],N.prototype,"withBackendSetting",void 0),e._([e.n({type:String,attribute:"preferred-languages"})],N.prototype,"preferredLanguages",void 0),e._([e.n({type:String,attribute:"full-preferred-languages"})],N.prototype,"fullPreferredLanguages",void 0),e._([e.n({type:Boolean,attribute:"default-immersive-on"})],N.prototype,"defaultImmersiveOn",void 0),N=e._([e.e("translation-settings-admin")],N)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.dm("B05XaUqcNL",["CYrPuvCiTj","wzdls1o9Kk"],(async(e,t)=>{let i=class extends e.s{constructor(){super(...arguments),this.userId=null,this.isModerator=!1,this.isProgressToastFeatureActivated=!1,this.pubsub=new e.z(this),this.achievementNotificationSubscriptionController=new e.bY(this),this.onAchievementNotificationRecieved=async i=>{if(i&&"achievements"===i.gameID){this.isModerator&&this.pubsub.publish(e.T.ReloadModGuidanceAchievements);try{const i=await e.ag({operation:e.af.AchievementUnlockedNotifications,variables:{maxImageWidth:32}}),a=[],s=i.data.identity?.redditor.trophyCase?.notifications;s?.forEach((e=>{if(a.push(e.id),"StreakExtendedNotification"===e.__typename)this.activateProgressToast({open:!0,notificationType:t.c3.STREAK_EXTENDED,streakLength:e.length});else if("TrophyProgressedNotification"===e.__typename){const i=e.trophy;"AchievementImageTrophy"===i.__typename&&this.activateProgressToast({open:!0,notificationType:t.c3.TROPHY_PROGRESSED,numberCompleted:i.progress?.done,total:i.progress?.total,progressUnit:i.progress?.unit,imgSrc:i.lockedImage.url,achievementId:i.id})}else if("TrophyUnlockedNotification"===e.__typename){const i=e.trophy;"AchievementImageTrophy"!==i.__typename&&"AchievementRepeatableImageTrophy"!==i.__typename||this.activateProgressToast({open:!0,notificationType:t.c3.TROPHY_UNLOCKED,message:i.name,imgSrc:i.lockedImage.url,unlockedImgSrc:i.gridImage.url,achievementId:i.id})}})),a&&a.length>0&&this.deleteAchievementNotifications(a)}catch(e){window.Sentry?.captureError?.(e)}}},this._activateFeature=async t=>e.w(t)}async activateProgressToast(t){if(!this.getIsAchievementsUpdatesEnabled())return;const i=!!document.querySelector("achievement-progress-toast");if(!this.isProgressToastFeatureActivated&&!i)try{this.isProgressToastFeatureActivated=!0,await this._activateFeature({name:e.hj})}catch(e){this.isProgressToastFeatureActivated=!1}this.pubsub.publish(e.T.AchievementsProgressToast,t)}getIsAchievementsUpdatesEnabled(){try{if(!e.a6.isAvailable())return!0;const t=e.a6.getItem(`${e.a7.AchievementsUpdatesEnabled}-${this.userId}`);return null===t||JSON.parse(t)}catch(e){window.Sentry?.captureError?.(e)}return!0}async connectedCallback(){super.connectedCallback(),this.getIsAchievementsUpdatesEnabled()&&this.subscribeToAchievementNotifications(),e.a6.isAvailable()&&e.a6.getItem(e.a7.AchievementsStore)===`${this.userId}-${e.hk.Enrolled}`||this.enrollUserIntoAchievements()}async deleteAchievementNotifications(t){try{await e.ag({operation:e.af.DeleteAchievementNotifications,variables:{ids:t}})}catch(e){window.Sentry?.captureError?.(e)}}async enrollUserIntoAchievements(){try{const t=await e.ag({operation:e.af.EnrollInStreaks,variables:{input:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,gameId:"achievements"}}}),i=t.data?.enrollInGamification?.ok;if(!i)return;e.a6.isAvailable()&&e.a6.setItem(e.a7.AchievementsStore,`${this.userId}-${t.data?.enrollInGamification?.status||""}`)}catch(e){window.Sentry?.captureError?.(e)}}subscribeToAchievementNotifications(){try{this.achievementNotificationSubscriptionController.subscribe({query:{operationName:"SubscribeSubscription",query:"\n            subscription SubscribeSubscription($input: SubscribeInput!) {\n              subscribe(input: $input) {\n                ... on BasicMessage {\n                  data {\n                    ... on GamificationAccomplishmentsMessageData {\n                      gameID\n                    }\n                  }\n                }\n              }\n            }\n            ",variables:{input:{channel:{teamOwner:"I18N",category:"GAMIFICATION",userID:this.userId}}}},onData:async e=>{this.onAchievementNotificationRecieved(e?.data?.subscribe.data)}})}catch(e){window.Sentry?.captureError?.(e)}}render(){return e.x``}};i.styles=[e.t],e._([e.n({type:String,attribute:"user-id"})],i.prototype,"userId",void 0),e._([e.n({type:Boolean,attribute:"moderator"})],i.prototype,"isModerator",void 0),i=e._([e.e("achievement-events")],i)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");
SML.dm("B39chFHLCe",["CYrPuvCiTj","wzdls1o9Kk","DGkwklwWNC"],(async(e,t,i)=>{const o={Neutral:"neutral",Inverted:"inverted",Primary:"primary"};class s extends e.R{constructor(){super(...arguments),this.contentSlotRef=e.Z(),this.defaultSlotRef=e.Z(),this.bodyRef=e.Z(),this.popperRef=e.Z(),this.interactionController=new t.a0(this,{isInteractedWith:e=>e.open,hoverDelayStart:t=>e.b$(getComputedStyle(t).getPropertyValue("--show-delay")),hoverDelayEnd:t=>e.b$(getComputedStyle(t).getPropertyValue("--hide-delay"))}),this.appearance=o.Neutral,this.content="",this.placement=i.P.Top,this.disabled=!1,this.distance=4,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.noAnimate=!1,this.eventUsedMap=new WeakMap,this.handleDocumentKeyDown=e=>{"Escape"===e.key&&(e.stopPropagation(),this.hide())},this.handleDocumentClick=e=>{if(!(e.target instanceof HTMLElement)||this.hidden)return;this.eventUsedMap.has(e)||t.a1(this,e.target)||this.hide()}}disconnectedCallback(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("click",this.handleDocumentClick)}willUpdate(e){e.has("open")&&this.hasUpdated&&this.handleOpenChange(),e.has("disabled")&&this.handleDisabledChange(),(e.has("content")||e.has("distance")||e.has("hoist")||e.has("placement")||e.has("skidding"))&&this.handleOptionsChange()}firstUpdated(){this.bodyRef.value&&(this.bodyRef.value.hidden=!this.open),this.open&&(document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("click",this.handleDocumentClick),this.popperRef.value&&(this.popperRef.value.active=!0,this.popperRef.value.reposition()))}startInteraction(e){this.eventUsedMap.set(e,!0),this.show()}finishInteraction(e){this.eventUsedMap.set(e,!0),this.hide()}async handleOpenChange(){if(!this.disabled&&this.contentSlotRef.value&&this.bodyRef.value&&this.popperRef.value)if(this.open){this.emitter.dispatch("show"),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("click",this.handleDocumentClick),await e.c0(this.bodyRef.value),this.bodyRef.value.hidden=!1,this.popperRef.value.active=!0;const{keyframes:t,options:i}=e.c1(this,"tooltip.show");await e.c2(this.popperRef.value.popup,t,i),this.popperRef.value.reposition(),this.emitter.dispatch("after-show")}else{this.emitter.dispatch("hide"),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("click",this.handleDocumentClick),await e.c0(this.bodyRef.value);const{keyframes:t,options:i}=e.c1(this,"tooltip.hide");await e.c2(this.popperRef.value.popup,t,i),this.popperRef.value.active=!1,this.bodyRef.value.hidden=!0,this.emitter.dispatch("after-hide")}}async handleOptionsChange(){this.hasUpdated&&this.popperRef.value&&(await this.updateComplete,this.popperRef.value.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,e.c3(this,this.emitter.eventId("after-show"))}async hide(){if(this.open)return this.open=!1,e.c3(this,this.emitter.eventId("after-hide"))}render(){return e.x` <rpl-popper part="popper" exportparts="
          popup:popper--popup,
          arrow:popper--arrow
        " class="${e.Q({tooltip:!0,"tooltip--open":this.open})}" placement="${this.placement}" distance="${this.distance}" skidding="${this.skidding}" strategy="${this.hoist?"fixed":"absolute"}" flip shift arrow safe-area @mouseenter="${this.interactionController.handleMouseEnter}" @mouseleave="${this.interactionController.handleMouseLeave}" @mousedown="${this.interactionController.handleMouseDown}" @mouseup="${this.interactionController.handleMouseUp}" @focusin="${this.interactionController.handleFocus}" @focusout="${this.interactionController.handleBlur}" ${e.$(this.popperRef)}> <slot slot="anchor" aria-describedby="tooltip" @click="${this.interactionController.handleClick}" ${e.$(this.defaultSlotRef)}></slot> <div part="body" id="tooltip" class="tooltip-body" role="tooltip" aria-live="${this.open?"polite":"off"}" ${e.$(this.bodyRef)}> <slot name="content" ${e.$(this.contentSlotRef)}>${this.content}</slot> <slot name="shortcut"></slot> </div> </rpl-popper> `}}return e._([e.n({type:String,reflect:!0})],s.prototype,"appearance",void 0),e._([e.n()],s.prototype,"content",void 0),e._([e.n()],s.prototype,"placement",void 0),e._([e.n({type:Boolean,reflect:!0})],s.prototype,"disabled",void 0),e._([e.n({type:Number})],s.prototype,"distance",void 0),e._([e.n({type:Boolean,reflect:!0})],s.prototype,"open",void 0),e._([e.n({type:Number})],s.prototype,"skidding",void 0),e._([e.n()],s.prototype,"trigger",void 0),e._([e.n({type:Boolean})],s.prototype,"hoist",void 0),e._([e.n({type:Boolean,attribute:"no-animate"})],s.prototype,"noAnimate",void 0),e.b_("tooltip.show",{keyframes:[{visibility:"visible",opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}}),e.b_("tooltip.hide",{keyframes:[{scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}}),{T:s,a:o}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("B5-3_kcphz",["CYrPuvCiTj"],(async a=>{const{svg:l}=a.a(),t=a.m(l`<path d="M18.035 7.667l-5.703-5.702a3.303 3.303 0 00-4.666 0L1.963 7.667a3.304 3.304 0 000 4.666l5.702 5.702A3.293 3.293 0 009.998 19c.844 0 1.69-.322 2.334-.965l5.701-5.702a3.304 3.304 0 00.002-4.666zm-6.982-2.456l-.25 6.058h-1.58l-.25-6.058h2.08zm-.007 8.988a1.157 1.157 0 01-.44.433 1.229 1.229 0 01-.614.157 1.196 1.196 0 01-1.041-.59 1.195 1.195 0 01-.161-.61 1.213 1.213 0 01.598-1.051c.184-.11.385-.165.604-.165a1.206 1.206 0 011.216 1.215c0 .223-.055.427-.162.611z"></path>`,"0 0 20 20","caution-fill");var r=a.a3("spoiler-fill",t);return{c:t,get i(){return r}}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./BpkEtnKDO3.js",import.meta.url,"BpkEtnKDO3");SML.di("./B5-3_kcphz.js",import.meta.url,"B5-3_kcphz");
SML.dm("B6C_8s9j0g",["CYrPuvCiTj","BpkEtnKDO3","B5-3_kcphz"],(async(N,a,I)=>{const{svg:A}=N.a(),R=N.m(A`<path d="M17.046 6.97c.577-.333 1.05-.06 1.05.606v5.77c0 .822-.439 1.582-1.15 1.993l-4.998 2.886c-.578.334-1.05.061-1.05-.606v-4.097l2.475-1.428a.25.25 0 00.125-.216V9.02l3.548-2.049zm-9.649.49l2.475-1.429a.248.248 0 01.25 0l2.475 1.43 3.548-2.049c.577-.333.578-.879 0-1.212l-4.999-2.886a2.3 2.3 0 00-2.3 0L3.848 4.2a.7.7 0 000 1.212l3.55 2.048zm1.7 6.062l-2.475-1.428a.25.25 0 01-.125-.216V9.02L2.948 6.97a.7.7 0 00-1.05.606v5.772c0 .822.44 1.582 1.151 1.993l4.998 2.885c.577.333 1.05.06 1.05-.606v-4.098z"></path>`,"0 0 20 20","devvit-fill");var E=N.a3("devvit-fill",R);const{svg:e}=N.a(),l=N.m(e`<path d="M18.748 13.149s-.296-2.342-.63-4.771C17.379 3 12.909 3 11.439 3h-3.32c-1.47 0-5.942 0-6.682 5.379-.333 2.423-.629 4.762-.63 4.766A3.412 3.412 0 004.186 17a3.402 3.402 0 003.24-2.352 1.083 1.083 0 011.031-.747h2.638c.471 0 .886.3 1.035.753a3.407 3.407 0 006.616-1.505h.003zM6.778 10.75a1.75 1.75 0 110-3.501 1.75 1.75 0 010 3.501zm5.5-2a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5zm2 3.5a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5z"></path>`,"0 0 20 20","game-controller-fill");var i=N.a3("topic-videogaming-fill",l),t=N.a3("nsfw-fill",a.n);const{svg:r}=N.a(),P=N.m(r`<path d="M8.312 9.202c.133.238.199.508.199.802 0 .296-.066.566-.199.802a1.483 1.483 0 01-.542.561 1.44 1.44 0 01-.748.204 1.4 1.4 0 01-.75-.207 1.501 1.501 0 01-.536-.565 1.64 1.64 0 01-.196-.797c0-.292.066-.562.198-.801.13-.236.311-.426.536-.564.229-.138.475-.205.748-.205.27 0 .521.069.748.205.228.137.409.327.542.566v-.001zM19 10c0 4.963-4.038 9-9 9s-9-4.037-9-9 4.038-9 9-9 9 4.037 9 9zm-8.951 0a2.946 2.946 0 00-1.488-2.601 3.03 3.03 0 00-1.532-.4c-.55 0-1.062.134-1.521.398a2.996 2.996 0 00-1.503 2.598c0 .55.137 1.061.405 1.518a2.97 2.97 0 001.098 1.088c.46.264.973.398 1.525.398.54 0 1.046-.129 1.503-.384.46-.256.83-.616 1.101-1.069.272-.453.411-.974.411-1.547l.001.001zm5.591 2.46l-.609-1.429-.157.166c-.112.12-.263.208-.46.272a1.855 1.855 0 01-1.452-.104 1.565 1.565 0 01-.599-.565 1.518 1.518 0 01-.22-.807c0-.298.074-.568.221-.801.149-.239.344-.42.595-.554.439-.232.966-.26 1.431-.09.195.072.354.168.476.284l.156.15.604-1.423-.109-.067a3.108 3.108 0 00-.852-.364c-.87-.227-1.755-.128-2.486.267a2.965 2.965 0 00-1.146 1.072 2.857 2.857 0 00-.426 1.527c0 .563.146 1.081.432 1.539.285.457.675.819 1.158 1.079.482.258 1.014.39 1.581.39.303 0 .61-.04.915-.118.304-.079.586-.198.839-.354l.109-.067-.001-.003z"></path>`,"0 0 20 20","original-fill");var T=N.a3("original-fill",P);const{svg:n}=N.a(),L=N.m(n`<path d="M18.037 7.667l-5.703-5.702a3.303 3.303 0 00-4.667 0L1.965 7.667a3.304 3.304 0 000 4.666l5.701 5.702A3.291 3.291 0 0010 19a3.29 3.29 0 002.333-.965l5.703-5.702a3.304 3.304 0 000-4.666h.002zm-3.884 3.724l-2.05-1.186a.82.82 0 00-.416-.127.844.844 0 00-.845.843c0 .31.176.57.426.717l2.035 1.19a2.492 2.492 0 01-1.617.607 2.496 2.496 0 01-1.685-.662 2.496 2.496 0 01-1.685.662 2.491 2.491 0 01-1.618-.605l2.035-1.192a.835.835 0 00.425-.717.844.844 0 00-.842-.843.815.815 0 00-.419.127l-2.049 1.188a2.524 2.524 0 01-.047-.471c0-1.116.736-2.053 1.744-2.38a2.474 2.474 0 01-.058-.527 2.51 2.51 0 011.678-2.36l-.007 2.36a.845.845 0 001.687 0c0-.785-.009-1.574-.009-2.36a2.509 2.509 0 011.68 2.36c0 .18-.021.357-.059.528a2.507 2.507 0 011.743 2.38c0 .16-.018.317-.047.469v-.001z"></path>`,"0 0 20 20","quarantined-fill");var O,s=N.a3("quarantined-fill",L);!function(N){N.APP="APP",N.GAME="GAME",N.NSFW="NSFW",N.ORIGINAL="ORIGINAL",N.SPOILER="SPOILER",N.QUARANTINED="QUARANTINED"}(O||(O={}));return {get C(){return O},c:({attributes:a,children:A,appearance:R})=>{const{html:e,createElement:l}=N.a(),r={size:N.a4.Small,attributes:{className:"inline-block",style:"vertical-align: text-bottom"}},P={[O.APP]:{className:"text-ai-plain",icon:E(r)},[O.GAME]:{className:"text-ai-plain",icon:i(r)},[O.NSFW]:{className:"text-category-nsfw",icon:t(r)},[O.ORIGINAL]:{className:"text-primary",icon:T(r)},[O.SPOILER]:{className:"text-category-spoiler",icon:I.i(r)},[O.QUARANTINED]:{className:"text-warning-content",icon:s(r)}},n=e`<span class="inline-block" aria-hidden="true">${[P[R].icon]}</span> <span class="font-semibold text-12 uppercase">${A}</span>`;return l("span",{...a,className:`flex items-center gap-2xs ${[P[R].className]}`,rpl:!0},n)},d:R,g:()=>({[O.NSFW]:{children:"NSFW",appearance:O.NSFW},[O.APP]:{children:"APP",appearance:O.APP},[O.GAME]:{children:"GAME",appearance:O.GAME},[O.SPOILER]:{children:"SPOILER",appearance:O.SPOILER},[O.QUARANTINED]:{children:"QUARANTINED",appearance:O.QUARANTINED},[O.ORIGINAL]:{children:"ORIGINAL",appearance:O.ORIGINAL}})};}));
SML.di("./Bmbt_QOvU6.js",import.meta.url,"Bmbt_QOvU6");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./B8bPYlQRZA.js",import.meta.url,"B8bPYlQRZA");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./BvPcMFr1Lr.js",import.meta.url,"BvPcMFr1Lr");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("B9Z38jXwJn",["CYrPuvCiTj"],(async e=>{const t="plain",a="plain-weak",n="secondary",s="bordered",r="media",l="plain",m={[e.v.ExtraSmall]:e.a4.ExtraSmall,[e.v.Small]:e.a4.Small,[e.v.Medium]:e.a4.Medium,[e.v.Large]:e.a4.Medium},o={xs:"px-sm",sm:"px-sm",md:"px-sm",lg:"px-xs"},d={xs:"text-12",sm:"text-12",md:"text-12",lg:"text-14"},i={xs:"var(--size-button-sm-h)",sm:"var(--size-button-sm-h)",md:"var(--size-button-md-h)",lg:"var(--size-button-md-h)"},c={xs:"var(--font-button-sm)",sm:"var(--font-button-sm)",md:"var(--font-button-sm)",lg:"var(--font-button-md)"},u={[t]:"button-plain",[a]:"button-plain-weak",[n]:"button-secondary",[s]:"button-bordered-cab",[r]:"button-media-cab"},b=e=>{const{attributes:t,size:a,appearance:n,selected:s}=e;return[t?.className||"",a?`${d[a]}`:"",u[n??l],s?"button-activated":"","inline-flex items-center"].join(" ")};return{A:u,B:i,I:m,c:({attributes:t,children:a,size:n=e.v.Medium,selected:s,appearance:r=l,leadingIcon:m,screenReaderContent:d,role:u})=>{let p=`flex ${e.aq[n]}`;a&&m&&(p+=" me-[var(--rem6)]");const{html:x,createElement:v}=e.a(),$=x`<span class="flex items-center"> ${m?x`<span class="${p}">${m}</span>`:void 0} ${a?x`<span> ${a} </span>`:void 0} </span> ${d?x`<faceplate-screen-reader-content> ${d} </faceplate-screen-reader-content>`:""}`,f=t?.href,h="bordered"===r?"border-sm":"border-md";return v(null!=f?"a":"button",{...t,role:u??t?.role,style:`height: ${i[n]}; font: ${c[n]}`,className:`button ${h} ${b({appearance:r,size:n,attributes:t,selected:s})}\n       ${o[n]}\n      `,rpl:!0},$)},g:b}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.dm("BA-YMBSJ68",["CYrPuvCiTj","wzdls1o9Kk"],(async(t,e)=>{let o=class extends t.s{constructor(){super(),this.ts="",this.short=!1,this.format="",this.locale="",this.date=new Date(this.ts)}getLocale(){return this.locale.length?this.locale:e.by()}createRenderRoot(){return this}render(){const o=e.b_(this.getLocale(),{dateStyle:"full",timeStyle:"long"}).format(this.date),r={short:this.short,format:this.format.length?this.format:void 0},i=e.b$(this.date,this.getLocale(),r);return t.x` <time datetime="${this.date.toISOString()}" title="${o}">${i}</time> `}};t._([t.n({type:String})],o.prototype,"ts",void 0),t._([t.n({attribute:"ts",converter:t=>e.bA(t||"")})],o.prototype,"date",void 0),t._([t.n({type:Boolean})],o.prototype,"short",void 0),t._([t.n({type:String})],o.prototype,"format",void 0),t._([t.n({type:String})],o.prototype,"locale",void 0),o=t._([t.e("faceplate-timeago")],o)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.dm("BA-YMBSJ68",["CYrPuvCiTj","wzdls1o9Kk"],(async(t,e)=>{let o=class extends t.s{constructor(){super(),this.ts="",this.short=!1,this.format="",this.locale="",this.date=new Date(this.ts)}getLocale(){return this.locale.length?this.locale:e.by()}createRenderRoot(){return this}render(){const o=e.b_(this.getLocale(),{dateStyle:"full",timeStyle:"long"}).format(this.date),r={short:this.short,format:this.format.length?this.format:void 0},i=e.b$(this.date,this.getLocale(),r);return t.x` <time datetime="${this.date.toISOString()}" title="${o}">${i}</time> `}};t._([t.n({type:String})],o.prototype,"ts",void 0),t._([t.n({attribute:"ts",converter:t=>e.bA(t||"")})],o.prototype,"date",void 0),t._([t.n({type:Boolean})],o.prototype,"short",void 0),t._([t.n({type:String})],o.prototype,"format",void 0),t._([t.n({type:String})],o.prototype,"locale",void 0),o=t._([t.e("faceplate-timeago")],o)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("BGnZpZ200J",["CYrPuvCiTj"],(async a=>{const{svg:s}=a.a();return{s:a.m(s`<path d="M12.8 17.524l6.89-6.887a.9.9 0 000-1.273L12.8 2.477a1.64 1.64 0 00-1.782-.349 1.64 1.64 0 00-1.014 1.518v2.593C4.054 6.728 1.192 12.075 1 17.376a1.353 1.353 0 00.862 1.32 1.35 1.35 0 001.531-.364l.334-.381c1.705-1.944 3.323-3.791 6.277-4.103v2.509c0 .667.398 1.262 1.014 1.518a1.638 1.638 0 001.783-.349v-.002zm-.994-1.548V12h-.9c-3.969 0-6.162 2.1-8.001 4.161.514-4.011 2.823-8.16 8-8.16h.9V4.024L17.784 10l-5.977 5.976z"></path>`,"0 0 20 20","share",!0)}}));
SML.di("./BsJjghG59d.js",import.meta.url,"BsJjghG59d");SML.di("./CEf2DD9Ins.js",import.meta.url,"CEf2DD9Ins");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./B-DM_KtOOe.js",import.meta.url,"B-DM_KtOOe");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("B_JCIjxvZc",["CYrPuvCiTj"],(async t=>{const s=t.s,e=new DOMParser;let o=class extends s{constructor(){super(...arguments),this.userId="",this.subredditId="",this.pubsub=new t.z(this),this.onUpdateFlairEvent=({html:t,subredditId:s,userId:o,isEnabled:d})=>{if(this.userId===o&&this.subredditId===s){const s=t&&d,o=s?t:'<span class="hidden"></span>',i=e.parseFromString(o,"text/html").body.firstChild;i&&(this.shadowRoot?.querySelector("slot")?.assignedElements({flatten:!0})[0].replaceWith(i),s?this.showHost():this.hideHost())}}}static get styles(){return t.i`:host{--display:flex;display:var(--display);overflow:hidden}`}onSlotChanged(t){const s=t.target?.assignedElements({flatten:!0});s?.some((t=>"SPAN"===t.nodeName&&t.classList.contains("hidden")))&&this.hideHost()}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.CommunityAuthorFlairUpdated,this.onUpdateFlairEvent)}hideHost(){(this.shadowRoot?.host).style.setProperty("--display","none")}showHost(){(this.shadowRoot?.host).style.setProperty("--display","flex")}render(){return t.x`<slot @slotchange="${this.onSlotChanged}"></slot>`}};t._([t.n()],o.prototype,"userId",void 0),t._([t.n()],o.prototype,"subredditId",void 0),o=t._([t.e("author-flair-event-handler")],o)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("Ba1OdyQt-v",["CYrPuvCiTj"],(async t=>{let o=class extends t.s{constructor(){super(...arguments),this.isDesktop=!1,this.isLoggedIn=!1,this.isFollowed=!1,this.trackingSource="profile",this.isCompactVariant=!1,this.pubsub=new t.z(this),this.isDisabled=!1,this.onFollowStateChanged=({followed:t,userId:o})=>{this.redditorId===o&&(this.isFollowed=t)},this.toggleLoadingState=()=>{const t=this.querySelector(this.isFollowed?".unfollow-button":".follow-button");if(!t)return;const o=t.querySelector(".loading-icon"),e=t.querySelector(".button-leading-icon")?.parentElement;o?.classList.toggle("hidden"),e?.classList.toggle("hidden"),this.isDesktop&&!this.isCompactVariant||t.querySelector(".button-text")?.classList.toggle("hidden")}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.onClick),this.pubsub.subscribe(t.T.ProfileFollowStateChanged,this.onFollowStateChanged,!1)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.onClick)}async onClick(){if(this.redditorId&&this.isLoggedIn){if(this.isDisabled)return;this.isDisabled=!0,this.toggleLoadingState();const o={input:{accountId:this.redditorId,state:this.isFollowed?t.aC.None:t.aC.Followed}};try{const e=await t.ag({operation:t.af.UpdateProfileFollowState,variables:o});this.toggleLoadingState(),e.data.updateProfileFollowState?.ok&&!e.data.updateProfileFollowState?.errors&&this.pubsub.publish(t.T.ProfileFollowStateChanged,{followed:!this.isFollowed,userId:this.redditorId})}catch(t){window.Sentry?.captureError?.(t),this.toggleLoadingState()}this.isDisabled=!1}}render(){return t.x`<slot name="button-${this.isFollowed?"unfollow":"follow"}"></slot>`}};o.styles=[t.t],t._([t.n({type:Boolean,attribute:"is-desktop"})],o.prototype,"isDesktop",void 0),t._([t.n({type:Boolean,attribute:"is-logged-in"})],o.prototype,"isLoggedIn",void 0),t._([t.n({type:Boolean,attribute:"is-followed"})],o.prototype,"isFollowed",void 0),t._([t.n({type:String,attribute:"redditor-id"})],o.prototype,"redditorId",void 0),t._([t.n({type:String,attribute:"tracking-source"})],o.prototype,"trackingSource",void 0),t._([t.n({type:Boolean,attribute:"is-compact-variant"})],o.prototype,"isCompactVariant",void 0),o=t._([t.e("follow-button")],o)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("BcLz9SQAFR",["CYrPuvCiTj"],(async a=>{var l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 13.7a.897.897 0 01-.636-.264l-4.6-4.6a.9.9 0 111.272-1.273L10 11.526l3.964-3.963a.9.9 0 011.272 1.273l-4.6 4.6A.897.897 0 0110 13.7z"/></svg>';a.b("icon-caret-down",l,l)}));
SML.di("./BvU2E9FwXI.js",import.meta.url,"BvU2E9FwXI");SML.di("./CtcjEHk-o6.js",import.meta.url,"CtcjEHk-o6");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./BpkEtnKDO3.js",import.meta.url,"BpkEtnKDO3");SML.di("./DVa-SVjWU5.js",import.meta.url,"DVa-SVjWU5");SML.di("./D4Ab94OqLr.js",import.meta.url,"D4Ab94OqLr");SML.di("./BG_G1Cif8U.js",import.meta.url,"BG_G1Cif8U");SML.di("./BRVVLb7Eld.js",import.meta.url,"BRVVLb7Eld");SML.di("./Yp_OV6CjXa.js",import.meta.url,"Yp_OV6CjXa");SML.di("./xypwL4VFtb.js",import.meta.url,"xypwL4VFtb");
SML.dm("BjvWteBjNn",["CtcjEHk-o6","CYrPuvCiTj","BpkEtnKDO3","BvU2E9FwXI","DVa-SVjWU5","D4Ab94OqLr","BG_G1Cif8U","BRVVLb7Eld","Yp_OV6CjXa","xypwL4VFtb"],(async(e,a,n)=>{let t=class extends a.s{constructor(){super(...arguments),this.blurredContainer=null,this.handleSlotchange=a=>{if(!(a.target instanceof HTMLSlotElement))return;const n=a.target.assignedNodes({flatten:!0});for(const a of n)if(a instanceof e.S){this.blurredContainer=a,this.blurredContainer.setAttribute("blurred","");break}}}static get styles(){return[a.t,a.V(":host {\n  display: block;\n  position: relative;\n  height: 100%;\n}\n.prompt.hidden {\n  display: none;\n}\n.prompt {\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.45);\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  left: 0;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n.icon {\n  color: hsla(0, 0%, 100%, 0.6);\n  font-size: 36px;\n  text-align: center;\n}\n.title,\n.text {\n  color: hsla(0, 0%, 100%, 0.8);\n  max-width: 300px;\n  text-align: center;\n}\n.title {\n  font: var(--font-title-h3);\n  margin: 18px 0 0;\n}\n.text {\n  font: var(--font-title-h4);\n  font-weight: normal;\n  margin: 10px 0 24px;\n}\n@media (max-width: 320px) {\n  .text {\n    margin: 12px 0 20px;\n  }\n}\n")]}render(){return a.x` <slot @slotchange="${this.handleSlotchange}"></slot> <div class="prompt"> <div class="icon">${n.n({size:a.I.ExtraLarge})}</div> <h3 class="title"> ${"Mature Content"} </h3> <p class="text"> ${"This is mature content and may not be appropriate for certain viewers. To continue, use the app to verify youâ€™re over 18 and browse anonymously."} </p> <slot name="view-in-app-button"></slot> </div> `;}};t=a._([a.e("xpromo-nsfw-blocking-container")],t)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./CEkHpZAUVH.js",import.meta.url,"CEkHpZAUVH");SML.di("./BWUv70NGv2.js",import.meta.url,"BWUv70NGv2");SML.di("./CYHAYFiK-j.js",import.meta.url,"CYHAYFiK-j");
SML.dm("BkeOOvXyxu",["CYrPuvCiTj","BWUv70NGv2","CEkHpZAUVH","CYHAYFiK-j"],(async(t,e)=>{var s;!function(t){t.small="small",t.medium="medium"}(s||(s={}));let i=class extends t.s{constructor(){super(...arguments),this.size=s.medium}render(){return t.x` <button class="flex items-center justify-center p-0 m-0 border-none rounded-1 h-[var(--emote-btn-size)] w-[var(--emote-btn-size)] bg-transparent hover:bg-neutral-background-hover cursor-pointer"> <slot class="emote"></slot> </button> `}};function o({pageType:t,url:e}){return {page_type:t,...(e ? {pane_name:e} : {})};}function r({subredditId:t,subredditName:e}){return {id:t,...(e ? {name:e} : {})};}i.styles=[t.i`:host{--emote-btn-size:2.25rem;--emote-size:1.75rem;display:block}:host([size=small]){--emote-btn-size:1.25rem;--emote-size:1.25rem}.emote::slotted(img){width:var(--emote-size);height:var(--emote-size);object-fit:contain;margin:0!important;padding:0!important}`,t.t],t._([t.n({type:String,reflect:!0})],i.prototype,"size",void 0),i=t._([t.e("community-status")],i);const a=s=>t.c({source:e.S.COMMUNITY_STATUS,action:e.A.CLICK,noun:e.N.STATUS_LINK},{action_info:o(s),subreddit:r(s)}),n=t.s;let l=class extends n{constructor(){super(...arguments),this.subredditId="",this.subredditName="",this.open=()=>{this.bottomSheet?.showModal()},this.close=()=>{this.bottomSheet?.close()},this.handleKeyUp=t=>{"Enter"!==t.key&&"Space"!==t.key||this.close()},this.handleStatusClicks=e=>{const s=e.composedPath().find((t=>t instanceof HTMLAnchorElement));s&&t.k(this,a({subredditId:this.subredditId,subredditName:this.subredditName,pageType:this._getPageType(),url:s.href}))},this._getPageType=t.N}render(){return t.x` <button @click="${this.open}" class="m-0 p-0 border-none bg-transparent"> <slot name="trigger"></slot> </button> <faceplate-bottom-sheet id="bottom-sheet"> <div class="flex flex-col w-full box-border px-md py-xl"> <div class="flex justify-center align-center"> <slot name="emote"></slot> </div> <p class="text-center m-0 line-clamp-8 text-14 font-semibold"> ${""} <slot name="status" @click="${this.handleStatusClicks}"></slot> </p> <slot @click="${this.close}" @keyup="${this.handleKeyUp}" name="primary-btn"></slot> ${t.u({appearance:"secondary",attributes:{onclick:this.close,className:"mt-sm",id:"close-button"},children:"Close"})} </div> </faceplate-bottom-sheet> `;}};l.styles=[t.i`:host{display:inline-flex}slot[name=emote]::slotted(img){max-height:148px;margin-bottom:32px!important}slot[name=primary-btn]::slotted(*){margin-top:24px}`,t.t],t._([t.n({type:String,attribute:"subreddit-id"})],l.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],l.prototype,"subredditName",void 0),t._([t.Y("#bottom-sheet")],l.prototype,"bottomSheet",void 0),l=t._([t.e("community-status-bottom-sheet")],l);const d=t.s;let m=class extends d{constructor(){super(...arguments),this.subredditId="",this.subredditName="",this.handleClick=()=>{this.hovercard?.close()},this.handleKeyUp=t=>{"Enter"===t.key&&this.handleClick()},this.handleStatusClicks=e=>{const s=e.composedPath().find((t=>t instanceof HTMLAnchorElement));s&&t.k(this,a({subredditId:this.subredditId,subredditName:this.subredditName,pageType:this._getPageType(),url:s.href}))},this._getPageType=t.N}render(){return t.x` <faceplate-hovercard position="bottom" appearance="inverted"> <span> <slot name="trigger"></slot> </span> <article slot="content" class="flex flex-col relative py-sm w-[184px]"> <div class="absolute right-2xs top-2xs"> <slot name="edit-btn" @click="${this.handleClick}" @keyup="${this.handleKeyUp}"></slot> </div> <div class="flex justify-center align-center"> <slot name="emote"></slot> </div> <p class="text-center m-0 mt-md line-clamp-12 text-12"> ${""} <slot name="status" @click="${this.handleStatusClicks}"></slot> </p> </article> </faceplate-hovercard> `}};m.styles=[t.i`slot[name=emote]::slotted(img){max-height:140px;max-width:148px!important;margin-bottom:0!important}faceplate-hovercard::part(content-container){background:var(--color-neutral-content-strong)}`,t.t],t._([t.n({type:String,attribute:"subreddit-id"})],m.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],m.prototype,"subredditName",void 0),t._([t.Y("faceplate-hovercard")],m.prototype,"hovercard",void 0),m=t._([t.e("community-status-tooltip")],m)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("BpkEtnKDO3",["CYrPuvCiTj"],(async a=>{const{svg:c}=a.a();return{n:a.m(c`<path d="M12.823 10.928a.72.72 0 010 .799.844.844 0 01-.337.282c-.146.07-.304.105-.482.105a1.13 1.13 0 01-.479-.101.836.836 0 01-.343-.278.68.68 0 01-.125-.402.7.7 0 01.123-.405.852.852 0 01.335-.293c.144-.072.31-.11.49-.11.182 0 .346.038.486.11a.83.83 0 01.332.293zm-1.225-1.686c.12.066.257.1.406.1a.823.823 0 00.405-.1.733.733 0 00.385-.655.699.699 0 00-.103-.376.675.675 0 00-.283-.256.889.889 0 00-.403-.092.888.888 0 00-.404.092.698.698 0 00-.39.632.734.734 0 00.389.654h-.002zm6.437 3.09l-5.703 5.703A3.291 3.291 0 0110 19c-.844 0-1.69-.322-2.333-.965l-5.704-5.702a3.304 3.304 0 010-4.666l5.703-5.702a3.303 3.303 0 014.666 0l5.703 5.702a3.304 3.304 0 010 4.666zm-9.941-5.62L5.832 7.739l-.03.013v1.44l1.23-.545v4.64H8.57V6.71h-.475zm6.33 4.697c0-.333-.088-.642-.263-.917a1.996 1.996 0 00-.665-.638 1.86 1.86 0 00.615-1.382c0-.363-.097-.687-.286-.963a1.884 1.884 0 00-.766-.643 2.45 2.45 0 00-1.05-.227c-.377 0-.732.075-1.053.224a1.906 1.906 0 00-.774.64 1.65 1.65 0 00-.292.966c0 .279.059.545.175.79.107.227.255.426.44.595a1.974 1.974 0 00-.665.64 1.708 1.708 0 00.048 1.907c.209.296.502.533.87.704.367.17.784.257 1.24.257.45 0 .866-.085 1.232-.252a2.15 2.15 0 00.872-.7c.211-.298.319-.634.319-1l.003-.001z"></path>`,"0 0 20 20","nsfw-fill")}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./BO1LrDxm4o.js",import.meta.url,"BO1LrDxm4o");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.dm("BsAnZPSwRL",["CYrPuvCiTj","BO1LrDxm4o","wzdls1o9Kk"],(async e=>{var t;!function(e){e.NONE="NONE",e.VIEWED="VIEWED",e.DISMISSED="DISMISSED"}(t||(t={}));const i="data-chat-feed-element-dismiss",s="data-chat-feed-element-clickable",n="click";let a=class extends(e.W(e.s)){constructor(){super(...arguments),this.consumptionState=t.NONE,this.uxtsVariant="chat_channel_unit_in_home_feed_scc",this.isRecommended=!1,this.isMultiChat=!1,this.onDismiss=t=>{const i=this.nextElementSibling;i&&"HR"===i.nodeName&&this.parentElement?.removeChild(i),this.parentNode?.removeChild(this),t.stopPropagation(),e.fg(e.fi.Dismiss,e.fh.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})},this.onChatFeedElementClick=()=>{e.fg(e.fi.Click,e.fh.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})}}connectedCallback(){super.connectedCallback(),this.isMultiChat?this.uxtsVariant="chat_channel_unit_in_home_feed_multiple":this.isRecommended&&(this.uxtsVariant="chat_channel_unit_in_home_feed_scc_and_ucc"),this.enableObserver(),this.addDismissHandlers(),this.addClickHandlers()}disconnectedCallback(){super.disconnectedCallback(),this.disableObserver(),this.removeDismissHandlers(),this.removeClickHandlers()}addDismissHandlers(){this.querySelector(`[${i}]`)?.addEventListener(n,this.onDismiss)}removeDismissHandlers(){this.querySelector(`[${i}]`)?.removeEventListener(n,this.onDismiss)}addClickHandlers(){this.querySelector(`[${s}]`)?.addEventListener(n,this.onChatFeedElementClick)}removeClickHandlers(){this.querySelector(`[${s}]`)?.removeEventListener(n,this.onChatFeedElementClick)}observerIsIntersectingCallback(){this.consumptionState===t.NONE&&(this.consumptionState=t.VIEWED,e.fg(e.fi.View,e.fh.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant}))}render(){return e.x`<slot></slot>`}};a.styles=[e.t],e._([e.n({type:Boolean,attribute:"is-recommended"})],a.prototype,"isRecommended",void 0),e._([e.n({type:Boolean,attribute:"is-multi-chat"})],a.prototype,"isMultiChat",void 0),a=e._([e.e("chat-feed-element-wrapper")],a)}));
SML.di("./DvlRbkZOwh.js",import.meta.url,"DvlRbkZOwh");SML.di("./DwqkHQ-372.js",import.meta.url,"DwqkHQ-372");SML.di("./Zd5yXyfQfP.js",import.meta.url,"Zd5yXyfQfP");SML.di("./cgS7eWPGTO.js",import.meta.url,"cgS7eWPGTO");SML.di("./B58tzg41t5.js",import.meta.url,"B58tzg41t5");SML.di("./BO1LrDxm4o.js",import.meta.url,"BO1LrDxm4o");SML.di("./BIlQ5upx3L.js",import.meta.url,"BIlQ5upx3L");SML.di("./D-6nwsOAeR.js",import.meta.url,"D-6nwsOAeR");SML.di("./CS9Bvjy47m.js",import.meta.url,"CS9Bvjy47m");SML.di("./DTFTCiYeLz.js",import.meta.url,"DTFTCiYeLz");SML.di("./CZtlI9NlXS.js",import.meta.url,"CZtlI9NlXS");SML.di("./CfHs7HFqsb.js",import.meta.url,"CfHs7HFqsb");SML.di("./Cn4bL7RQ6A.js",import.meta.url,"Cn4bL7RQ6A");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./DP23czhiS0.js",import.meta.url,"DP23czhiS0");SML.di("./BXJPp76cO9.js",import.meta.url,"BXJPp76cO9");SML.di("./rxXg4kAY8P.js",import.meta.url,"rxXg4kAY8P");SML.di("./CPEjWpDINz.js",import.meta.url,"CPEjWpDINz");SML.di("./WZG2fwvhir.js",import.meta.url,"WZG2fwvhir");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./BJdHdrH8mb.js",import.meta.url,"BJdHdrH8mb");SML.di("./DgoM9Eeg91.js",import.meta.url,"DgoM9Eeg91");SML.di("./C7_NSrottS.js",import.meta.url,"C7_NSrottS");SML.di("./Dba41u4k37.js",import.meta.url,"Dba41u4k37");SML.di("./DdQ8ToexAC.js",import.meta.url,"DdQ8ToexAC");SML.di("./Cwnwa9tZ9F.js",import.meta.url,"Cwnwa9tZ9F");SML.di("./CG47sgWgmT.js",import.meta.url,"CG47sgWgmT");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");SML.di("./Dnnn6I8KtA.js",import.meta.url,"Dnnn6I8KtA");SML.di("./B8bPYlQRZA.js",import.meta.url,"B8bPYlQRZA");SML.di("./BvPcMFr1Lr.js",import.meta.url,"BvPcMFr1Lr");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./DdVmpu0IVk.js",import.meta.url,"DdVmpu0IVk");SML.di("./Q1SsBT7kMe.js",import.meta.url,"Q1SsBT7kMe");SML.di("./BEOg1WTiXx.js",import.meta.url,"BEOg1WTiXx");SML.di("./K6BvuFajM1.js",import.meta.url,"K6BvuFajM1");SML.di("./2-Vu0jpcMv.js",import.meta.url,"2-Vu0jpcMv");SML.di("./3EH0PElp1F.js",import.meta.url,"3EH0PElp1F");SML.di("./CoC1qmwLAS.js",import.meta.url,"CoC1qmwLAS");SML.di("./B2lxgm_IZD.js",import.meta.url,"B2lxgm_IZD");SML.di("./005PrA1Byk.js",import.meta.url,"005PrA1Byk");SML.di("./41znR01Ful.js",import.meta.url,"41znR01Ful");SML.di("./D1jB1lRGDu.js",import.meta.url,"D1jB1lRGDu");SML.di("./B9Z38jXwJn.js",import.meta.url,"B9Z38jXwJn");SML.di("./pihWhdUG1Q.js",import.meta.url,"pihWhdUG1Q");SML.di("./BHY4TeT-gy.js",import.meta.url,"BHY4TeT-gy");SML.di("./CbYjzDlHSg.js",import.meta.url,"CbYjzDlHSg");SML.di("./CVFZT5qG1t.js",import.meta.url,"CVFZT5qG1t");SML.di("./HQokY_KEgH.js",import.meta.url,"HQokY_KEgH");SML.di("./Bv2UEnJP_M.js",import.meta.url,"Bv2UEnJP_M");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./DcxJbk2B3f.js",import.meta.url,"DcxJbk2B3f");SML.di("./DkWJZxM_zm.js",import.meta.url,"DkWJZxM_zm");SML.di("./C7tY_fu9Em.js",import.meta.url,"C7tY_fu9Em");SML.di("./BGnZpZ200J.js",import.meta.url,"BGnZpZ200J");SML.di("./Hw1PFKH8z9.js",import.meta.url,"Hw1PFKH8z9");SML.di("./Dj7wutmAw0.js",import.meta.url,"Dj7wutmAw0");SML.di("./JaGlTj3I-9.js",import.meta.url,"JaGlTj3I-9");SML.di("./h2J0CF1huj.js",import.meta.url,"h2J0CF1huj");SML.di("./By2sopqXTk.js",import.meta.url,"By2sopqXTk");SML.di("./CeSKxcW4bq.js",import.meta.url,"CeSKxcW4bq");
SML.dm("BtqmVQuPYp",[],(async()=>{class t{constructor(e,o){this.element=e,this.touch1=null,this.touch2=null,this.touchStartX=null,this.touchStartY=null,this.touchEndX=null,this.touchEndY=null,this.touchMove1=null,this.touchMove2=null,this.touchMoveX=null,this.touchMoveY=null,this.velocityX=null,this.velocityY=null,this.longPressTimer=null,this.doubleTapTimer=null,this.doubleTapWaiting=!1,this.thresholdX=0,this.thresholdY=0,this.disregardVelocityThresholdX=0,this.disregardVelocityThresholdY=0,this.swipingHorizontal=!1,this.swipingVertical=!1,this.swipingDirection=null,this.swipedHorizontal=!1,this.swipedVertical=!1,this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null,this.handlers={panstart:[],panmove:[],panend:[],swipeleft:[],swiperight:[],swipeup:[],swipedown:[],tap:[],doubletap:[],longpress:[],pinch:[],pinchend:[],rotate:[],rotateend:[]},this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this.opts=Object.assign({},t.defaults,o),this.element.addEventListener("touchstart",this._onTouchStart,i),this.element.addEventListener("touchmove",this._onTouchMove,i),this.element.addEventListener("touchend",this._onTouchEnd,i),this.opts.mouseSupport&&!("ontouchstart"in window)&&(this.element.addEventListener("mousedown",this._onTouchStart,i),document.addEventListener("mousemove",this._onTouchMove,i),document.addEventListener("mouseup",this._onTouchEnd,i))}destroy(){var t,i;this.element.removeEventListener("touchstart",this._onTouchStart),this.element.removeEventListener("touchmove",this._onTouchMove),this.element.removeEventListener("touchend",this._onTouchEnd),this.element.removeEventListener("mousedown",this._onTouchStart),document.removeEventListener("mousemove",this._onTouchMove),document.removeEventListener("mouseup",this._onTouchEnd),clearTimeout(null!==(t=this.longPressTimer)&&void 0!==t?t:void 0),clearTimeout(null!==(i=this.doubleTapTimer)&&void 0!==i?i:void 0)}on(t,i){if(this.handlers[t])return this.handlers[t].push(i),{type:t,fn:i,cancel:()=>this.off(t,i)}}off(t,i){if(this.handlers[t]){const e=this.handlers[t].indexOf(i);-1!==e&&this.handlers[t].splice(e,1)}}fire(t,i){for(let e=0;e<this.handlers[t].length;e++)this.handlers[t][e](i)}onTouchStart(t){var i,e,o,s,h,n,l,u,r,d,c,a,v,p,m,T,g,M,w,f,y,X,Y,E,b,S;let V=!1;if("mousedown"!==t.type){if(this.touch1||(this.touch1=t.changedTouches[0],V=!0),(V&&t.changedTouches.length>1||!V)&&!this.touch2)return this.touch2=[...t.changedTouches].find((t=>{var i;return t.identifier!==(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||null,this.originalDistance=Math.sqrt(Math.pow((null!==(e=null===(i=this.touch2)||void 0===i?void 0:i.screenX)&&void 0!==e?e:0)-(null!==(n=null!==(s=null===(o=this.touchMove1)||void 0===o?void 0:o.screenX)&&void 0!==s?s:null===(h=this.touch1)||void 0===h?void 0:h.screenX)&&void 0!==n?n:0),2)+Math.pow((null!==(u=null===(l=this.touch2)||void 0===l?void 0:l.screenY)&&void 0!==u?u:0)-(null!==(a=null!==(d=null===(r=this.touchMove1)||void 0===r?void 0:r.screenY)&&void 0!==d?d:null===(c=this.touch1)||void 0===c?void 0:c.screenY)&&void 0!==a?a:0),2)),void(this.originalAngle=Math.atan2((null!==(p=null===(v=this.touch2)||void 0===v?void 0:v.screenY)&&void 0!==p?p:0)-(null!==(M=null!==(T=null===(m=this.touchMove1)||void 0===m?void 0:m.screenY)&&void 0!==T?T:null===(g=this.touch1)||void 0===g?void 0:g.screenY)&&void 0!==M?M:0),(null!==(f=null===(w=this.touch2)||void 0===w?void 0:w.screenX)&&void 0!==f?f:0)-(null!==(E=null!==(X=null===(y=this.touchMove1)||void 0===y?void 0:y.screenX)&&void 0!==X?X:null===(Y=this.touch1)||void 0===Y?void 0:Y.screenX)&&void 0!==E?E:0))/(Math.PI/180));if(!V)return}(V||"mousedown"===t.type)&&(this.thresholdX=this.opts.threshold("x",this),this.thresholdY=this.opts.threshold("y",this),this.disregardVelocityThresholdX=this.opts.disregardVelocityThreshold("x",this),this.disregardVelocityThresholdY=this.opts.disregardVelocityThreshold("y",this),this.touchStartX="mousedown"===t.type?t.screenX:(null===(b=this.touch1)||void 0===b?void 0:b.screenX)||0,this.touchStartY="mousedown"===t.type?t.screenY:(null===(S=this.touch1)||void 0===S?void 0:S.screenY)||0,this.touchMoveX=null,this.touchMoveY=null,this.touchEndX=null,this.touchEndY=null,this.swipingDirection=null,this.longPressTimer=setTimeout((()=>this.fire("longpress",t)),this.opts.longPressTime),this.scale=1,this.rotation=0,this.fire("panstart",t))}onTouchMove(t){var i,e,o,s,h,n,l,u,r,d,c,a,v;if("mousemove"===t.type&&(!this.touchStartX||null!==this.touchEndX))return;let p,m;if("mousemove"!==t.type&&(p=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),this.touchMove1=p||this.touchMove1,m=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)})),this.touchMove2=m||this.touchMove2),"mousemove"===t.type||p){const u=("mousemove"===t.type?t.screenX:null!==(i=null==p?void 0:p.screenX)&&void 0!==i?i:0)-(null!==(e=this.touchStartX)&&void 0!==e?e:0);this.velocityX=u-(null!==(o=this.touchMoveX)&&void 0!==o?o:0),this.touchMoveX=u;const r=("mousemove"===t.type?t.screenY:null!==(s=null==p?void 0:p.screenY)&&void 0!==s?s:0)-(null!==(h=this.touchStartY)&&void 0!==h?h:0);this.velocityY=r-(null!==(n=this.touchMoveY)&&void 0!==n?n:0),this.touchMoveY=r;const d=Math.abs(this.touchMoveX),c=Math.abs(this.touchMoveY);this.swipingHorizontal=d>this.thresholdX,this.swipingVertical=c>this.thresholdY,this.swipingDirection=d>c?this.swipingHorizontal?"horizontal":"pre-horizontal":this.swipingVertical?"vertical":"pre-vertical",Math.max(d,c)>this.opts.pressThreshold&&clearTimeout(null!==(l=this.longPressTimer)&&void 0!==l?l:void 0),this.fire("panmove",t)}"mousemove"!==t.type&&null!=this.touchMove1&&null!=this.touchMove2&&(this.newDistance=Math.sqrt(Math.pow(this.touchMove2.screenX-this.touchMove1.screenX,2)+Math.pow(this.touchMove2.screenY-this.touchMove1.screenY,2)),this.scale=this.newDistance/(null!==(u=this.originalDistance)&&void 0!==u?u:0),this.fire("pinch",t),this.newAngle=Math.atan2((null!==(r=this.touchMove2.screenY)&&void 0!==r?r:0)-(null!==(d=this.touchMove1.screenY)&&void 0!==d?d:0),(null!==(c=this.touchMove2.screenX)&&void 0!==c?c:0)-(null!==(a=this.touchMove1.screenX)&&void 0!==a?a:0))/(Math.PI/180),this.rotation=this.newAngle-(null!==(v=this.originalAngle)&&void 0!==v?v:0),this.fire("rotate",t))}onTouchEnd(t){var i,e,o,s,h,n,l,u,r,d;let c;if("mouseup"!==t.type&&(c=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||(this.touch1=null,this.touchMove1=null),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)}))||(this.touch2=null,this.touchMove2=null)),"mouseup"!==t.type||this.touchStartX&&null===this.touchEndX){if("mouseup"===t.type||c){this.touchEndX="mouseup"===t.type?t.screenX:null!==(i=null==c?void 0:c.screenX)&&void 0!==i?i:0,this.touchEndY="mouseup"===t.type?t.screenY:null!==(e=null==c?void 0:c.screenY)&&void 0!==e?e:0,this.fire("panend",t),clearTimeout(null!==(o=this.longPressTimer)&&void 0!==o?o:void 0);const a=this.touchEndX-(null!==(s=this.touchStartX)&&void 0!==s?s:0),v=Math.abs(a),p=this.touchEndY-(null!==(h=this.touchStartY)&&void 0!==h?h:0),m=Math.abs(p),T=Math.sqrt(Math.pow(a,2)+Math.pow(p,2)),g=Math.abs(T),M=m/v;v>this.thresholdX||m>this.thresholdY||this.opts.diagonalSwipes&&(g>this.thresholdX||g>this.thresholdY)?(this.swipedHorizontal=v>this.thresholdX||this.opts.diagonalSwipes&&g>this.thresholdX,this.swipedVertical=m>this.thresholdY||this.opts.diagonalSwipes&&g>this.thresholdY,(!this.opts.diagonalSwipes||M<Math.tan((45-this.opts.diagonalLimit)*Math.PI/180)||M>Math.tan((45+this.opts.diagonalLimit)*Math.PI/180))&&(v>=m&&(this.swipedVertical=!1),m>v&&(this.swipedHorizontal=!1)),this.swipedHorizontal&&(a<0?((null!==(n=this.velocityX)&&void 0!==n?n:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdX)&&this.fire("swipeleft",t):((null!==(l=this.velocityX)&&void 0!==l?l:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdX)&&this.fire("swiperight",t)),this.swipedVertical&&(p<0?((null!==(u=this.velocityY)&&void 0!==u?u:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdY)&&this.fire("swipeup",t):((null!==(r=this.velocityY)&&void 0!==r?r:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdY)&&this.fire("swipedown",t))):v<this.opts.pressThreshold&&m<this.opts.pressThreshold&&(this.doubleTapWaiting?(this.doubleTapWaiting=!1,clearTimeout(null!==(d=this.doubleTapTimer)&&void 0!==d?d:void 0),this.fire("doubletap",t)):(this.doubleTapWaiting=!0,this.doubleTapTimer=setTimeout((()=>this.doubleTapWaiting=!1),this.opts.doubleTapTime),this.fire("tap",t)))}this.touch1||this.touch2||(this.fire("pinchend",t),this.fire("rotateend",t),this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null)}}}t.defaults={threshold:(t,i)=>Math.max(25,Math.floor(.15*("x"===t?window.innerWidth||document.body.clientWidth:window.innerHeight||document.body.clientHeight))),velocityThreshold:10,disregardVelocityThreshold:(t,i)=>Math.floor(.5*("x"===t?i.element.clientWidth:i.element.clientHeight)),pressThreshold:8,diagonalSwipes:!1,diagonalLimit:15,longPressTime:500,doubleTapTime:300,mouseSupport:!0};let i=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){i={passive:!0}}}))}catch(t){}return{T:t}}));

SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./CrgF_JGUIv.js",import.meta.url,"CrgF_JGUIv");SML.di("./By2sopqXTk.js",import.meta.url,"By2sopqXTk");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./B74fdX6mon.js",import.meta.url,"B74fdX6mon");SML.di("./BG_G1Cif8U.js",import.meta.url,"BG_G1Cif8U");SML.di("./h2J0CF1huj.js",import.meta.url,"h2J0CF1huj");SML.di("./CCzrQmnfhp.js",import.meta.url,"CCzrQmnfhp");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./B3J7HiP0EM.js",import.meta.url,"B3J7HiP0EM");SML.di("./G2F6lxYj4X.js",import.meta.url,"G2F6lxYj4X");SML.di("./Cszz6xIhIJ.js",import.meta.url,"Cszz6xIhIJ");SML.di("./zWWS8JSAAa.js",import.meta.url,"zWWS8JSAAa");SML.di("./CM4Yt4lwBK.js",import.meta.url,"CM4Yt4lwBK");SML.di("./Cv3__sHJQf.js",import.meta.url,"Cv3__sHJQf");SML.di("./iJcINZywq8.js",import.meta.url,"iJcINZywq8");SML.di("./BesoUDZOXX.js",import.meta.url,"BesoUDZOXX");SML.di("./BRVVLb7Eld.js",import.meta.url,"BRVVLb7Eld");SML.di("./CEf2DD9Ins.js",import.meta.url,"CEf2DD9Ins");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");SML.di("./Cwi6AYJAzh.js",import.meta.url,"Cwi6AYJAzh");SML.di("./BJdHdrH8mb.js",import.meta.url,"BJdHdrH8mb");SML.di("./B58tzg41t5.js",import.meta.url,"B58tzg41t5");SML.di("./DcxJbk2B3f.js",import.meta.url,"DcxJbk2B3f");SML.di("./D4Ab94OqLr.js",import.meta.url,"D4Ab94OqLr");SML.di("./jzmnNb68mH.js",import.meta.url,"jzmnNb68mH");SML.di("./DAeuL7zDX0.js",import.meta.url,"DAeuL7zDX0");SML.di("./DdQ8ToexAC.js",import.meta.url,"DdQ8ToexAC");SML.di("./BEOg1WTiXx.js",import.meta.url,"BEOg1WTiXx");SML.di("./DyzvzwR0Ee.js",import.meta.url,"DyzvzwR0Ee");SML.di("./BICQS8sewj.js",import.meta.url,"BICQS8sewj");SML.di("./DgaC1xItoR.js",import.meta.url,"DgaC1xItoR");SML.di("./CaC8XqiTGs.js",import.meta.url,"CaC8XqiTGs");SML.di("./CmAn0qma3f.js",import.meta.url,"CmAn0qma3f");SML.di("./BpRbUpfRsm.js",import.meta.url,"BpRbUpfRsm");SML.di("./B2lxgm_IZD.js",import.meta.url,"B2lxgm_IZD");
SML.dm("BuFVZG-nP7",["CYrPuvCiTj","CrgF_JGUIv","By2sopqXTk","wzdls1o9Kk","B74fdX6mon","BG_G1Cif8U","h2J0CF1huj","CCzrQmnfhp","C8CrqKCiqJ","B3J7HiP0EM","CM4Yt4lwBK","G2F6lxYj4X","Cszz6xIhIJ","zWWS8JSAAa","Cv3__sHJQf","iJcINZywq8","BesoUDZOXX","BRVVLb7Eld","CEf2DD9Ins","B39chFHLCe","DGkwklwWNC","Cwi6AYJAzh","BJdHdrH8mb","B58tzg41t5","DcxJbk2B3f","D4Ab94OqLr","jzmnNb68mH","DAeuL7zDX0","DdQ8ToexAC","BEOg1WTiXx","DyzvzwR0Ee","BICQS8sewj","DgaC1xItoR","CaC8XqiTGs","CmAn0qma3f","BpRbUpfRsm","B2lxgm_IZD"],(async(e,t,a,s,o,i,n,r,l,d,m)=>{class u extends CustomEvent{constructor(e){super(u.eventName,{bubbles:!0,composed:!0,cancelable:!0,detail:e})}}u.eventName="mod-removal-reason-added";class E extends CustomEvent{constructor(e){super(E.eventName,{bubbles:!0,composed:!0,cancelable:!0,detail:e})}}E.eventName="removal-reason-form-element-clicked";let h=class extends o.F{constructor(){super(),this._eventController=new e.E(this),this.handleFormElementClicked=e=>{e.target?.name&&this.dispatchEvent(new E({formElement:e.target.name}))},this.handleRemovalReasonInputChanged=e=>{if(e.target instanceof d.R){const t=e.target.value!==d.a.DontNotify;this.toggleNotificationSender(t),this.toggleMessageInput(t)}e.target instanceof d.b&&"removal-reason"===e.target.name&&this.toggleDefaultPolicyInput("default-removal-reason"===e.target.value)},this.convertFormDataToGql=e=>{const t=e.get("notification-method"),a=e.get("notification-sender"),s={reasonId:this.getRemovalReasonId(e),type:this.parseRemovalReasonMessageType(t,a),message:t===d.a.DontNotify?null:e.get("message"),isLockComment:e.has("lock")},o=e.get("modNote")||void 0,i={itemId:e.get("thing")?.toString()||"",removalReason:s,modNote:o};return this.lastSubmittedData=i,JSON.stringify({...i,csrf_token:e.get("csrf_token")})},this.encoders={...this.encoders,"application/json":this.convertFormDataToGql}}connectedCallback(){super.connectedCallback(),this._eventController.define(d.c,this.handleRemovalReasonInputChanged),this._eventController.define("click",this.handleFormElementClicked)}toggleNotificationSender(e){const t=this.elements["notification-sender"];t&&(e?t.removeAttribute("disabled"):t.setAttribute("disabled",""))}toggleField(e,t){e&&(t?(e.classList.remove("hidden"),e.setAttribute("required","")):(e.classList.add("hidden"),e.removeAttribute("required")))}toggleMessageInput(e){const t=this.elements.message;t&&this.toggleField(t,e)}toggleDefaultPolicyInput(e){const t=this.elements["default-removal-reason"];t&&this.toggleField(t,e)}showError(){const t={level:e.a0.error,message:"Something went wrong",cause:e.bm.QueryBadResponse};this.dispatchEvent(e.d("faceplate-alert",t))}async handleResponse(t){if(!t.ok)return this.dispatchEvent(e.d(R.eventName)),this.showError();try{const a=await t.text(),s={level:e.a0.success,message:"Removal reason added"},o=this.lastSubmittedData?.itemId||"";if(l.j(o)){const t={postId:o,action:r.a.addRemovalReason,value:!0};e.p(e.T.PostUpdated,t)}else{const t={commentId:o,action:n.C.addRemovalReason,value:!0};e.p(e.T.CommentUpdated,t)}if(a){const t={parentThingId:o,body:a};e.p(e.T.CommentCreated,t)}this.dispatchEvent(e.d(R.eventName)),this.dispatchEvent(e.d("faceplate-alert",s)),this.lastSubmittedData&&this.dispatchEvent(new u(this.lastSubmittedData))}catch{this.showError()}}parseRemovalReasonMessageType(t,a){return t===d.a.Comment?a===d.d.Mod?e.hD.CommentAsSubreddit:e.hD.CommentAsMod:t===d.a.Modmail?a===d.d.Mod?e.hD.MessageAsSubreddit:e.hD.MessageAsMod:null}getRemovalReasonId(e){const t=e.get("removal-reason");return"default-removal-reason"===t?e.get("default-removal-reason"):t}};h=e._([e.e("removal-reason-form")],h),i.r(h);const c={"removal-reason":"subreddit_removal_reason","default-removal-reason":"default_removal_reason",message:"message_to_user","notification-method":"notification_method","notification-sender":"notification_sender",modNote:"mod_note"};class p extends CustomEvent{constructor(e){super(p.eventName,{detail:e,bubbles:!0,composed:!0})}}p.eventName="mod-add-removal-reason-show-modal";class R extends CustomEvent{constructor(){super(R.eventName)}}R.eventName="mod-add-removal-reason-toggle-loading";let T=class extends e.s{constructor(){super(...arguments),this.pubsub=new e.z(this),this.getInputValue=e=>this.removalReasonForm?.querySelector(`input[name="${e}"]`)?.value,this.buildAndTrackEvent=t=>{const s={action:"click",...t,authorId:this.getInputValue("authorId"),subredditId:this.getInputValue("subredditId"),subredditName:this.subredditName,thingId:this.thingId};e.k(this,a.r(s))},this.firstUpdated=()=>{this.isSmartEscalationsCommunityRulesEnabled&&this.updateComplete.then((()=>{this.primaryButton?.addEventListener("click",(()=>{this.removalReasonForm?.isValid&&(this.toggleButtonLoadingIndicator(),this.initSmartEscalations())}))}))},this.handleAddRemovalReasonEvent=({detail:e})=>{""!==e?this.show(e):this.thingId=void 0},this.handleFormElementClicked=e=>{const t={type:c[e.detail.formElement]||e.detail.formElement},a=this.removalReasonForm?.elements[e.detail.formElement]?.value||this.getInputValue(e.detail.formElement);if("lock"===e.detail.formElement&&(t.isLocked="on"===a),"notification-method"===e.detail.formElement){if(!a)return;t.notificationMethod=a}if("notification-sender"===e.detail.formElement){if(!a)return;t.sendAs=a}this.buildAndTrackEvent(t)},this.handleSelectRemovalReason=async e=>{const t=this.removalReasonInput?.removalReasonSuggestionsContext;e.detail.trackEvent&&this.buildAndTrackEvent({type:e.detail.isSitewide?"default_removal_reason":"subreddit_removal_reason",reason:e.detail.id,noun:"removal_reason_select",subredditId:t?.eventContext?.subredditId,postId:t?.eventContext?.postId,commentId:t?.eventContext?.commentId});const a=this.removalReasonForm,s=this.shadowRoot?.querySelector("faceplate-textarea-input");s&&e.detail.message&&(s.value=await this.renderRemovalReasonMessage(e.detail.id,e.detail.message),await s.updateComplete,s.syncInputValidity(),a?.notifyObservers(s))},this.renderRemovalReasonMessage=async(e,t)=>{try{return await this.renderRemovalReasonAsSavedResponseTemplate(e)}catch{return t}},this.renderSavedResponseTemplateBySubredditId=t.r,this.renderRemovalReasonAsSavedResponseTemplate=async e=>{const t=await this.renderSavedResponseTemplateBySubredditId({responseId:e,subredditId:this.getInputValue("subredditId")||"",contentId:this.thingId});return t?t.templateValidation?.ok?(this.removalReasonInput?.setInvalidMacro(!1),t.response.markdown):(this.removalReasonInput?.setInvalidMacro(!0),""):""},this.handleAddedRemovalReason=t=>{let s=function(t){let a;a=t.type===e.hD.CommentAsMod||t.type===e.hD.CommentAsSubreddit?"comment":t.type===e.hD.MessageAsMod||t.type===e.hD.MessageAsSubreddit?"modmail":"no message";const s=t.type===e.hD.CommentAsSubreddit||t.type===e.hD.MessageAsSubreddit?"subreddit":"self";return{is_locked:t.isLockComment,notify:a,send_as:s}}(t.detail.removalReason);const o=this.removalReasonInput?.removalReasonSuggestionsContext?.predictedRemovalSavedResponses?.map((e=>e.id));o&&(s={...s,suggestion_list:o}),e.k(this,a.d(s,this.removalReasonInput?.value??void 0,this.removalReasonInput?.removalReasonSuggestionsContext?.eventContext)),this.isSmartEscalationsCommunityRulesEnabled&&!this.isExpandSuggestedActionsEnabled?(this.buildAndTrackEvent({type:"submit_button",reason:"default-removal-reason"===this.removalReasonInput?.value?this.defaultRemovalReasonInput?.value??void 0:this.removalReasonInput?.value??void 0,notificationMethod:this.removalReasonForm?.elements["notification-method"]?.value,sendAs:this.removalReasonForm?.elements["notification-sender"]?.value,isLocked:"on"===this.getInputValue("lock"),modNote:this.getInputValue("modNote"),message:this.getInputValue("message")}),this.pubsub.publish(e.T.RemovalReasonStatus,{status:m.R.SUCCESS})):this.close()},this.handleCancel=t=>{t.stopImmediatePropagation(),this.buildAndTrackEvent({type:"close_button"}),e.k(this,a.e()),this.close()},this.toggleButtonLoadingIndicator=()=>{this.primaryButton?.querySelector("faceplate-progress")?.classList.toggle("hidden"),this.primaryButton?.querySelector("span.submit-button-content")?.classList.toggle("opacity-0")},this.showHideSubmitButton=()=>{this.removalReasonInput?this.primaryButton?.classList.remove("hidden"):this.primaryButton?.classList.add("hidden")},this.close=()=>{this.modal?.open&&(this.modal?.close(),document.body.style.overflow="auto",document.body.style.pointerEvents="auto")},this.initSmartEscalations=()=>{const t=this.getInputValue("authorId"),a=this.getInputValue("subredditId"),s=t&&a&&this.thingId;s&&this.pubsub.publish(e.T.SmartEscalationsInit,{thingId:this.thingId,authorId:t,subredditId:a,removalReasonId:(this.defaultRemovalReasonInput?.value||this.removalReasonInput?.value)??"",removalReasonDisplayText:(this.defaultRemovalReasonInput?.displayText||this.removalReasonInput?.displayText)??""}),!s&&this.close()}}get removalReasonInput(){return this.shadowRoot?.querySelector('[name="removal-reason"]')}get defaultRemovalReasonInput(){return this.shadowRoot?.querySelector('[name="default-removal-reason"]')}get removalReasonForm(){return this.shadowRoot?.querySelector("removal-reason-form")}get primaryButton(){return this.shadowRoot?.querySelector('faceplate-modal [slot=primaryButton] button[type="submit"]')}get selectedSuggestionValue(){const e=this.removalReasonInput?.shadowRoot?.querySelector("removal-reason-suggestions"),t=e?.getSelectedChip();return t?.dataset.removalReasonId}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(e.T.AddRemovalReasonClose,this.close,!1),this.addEventListener(d.S.eventName,this.handleSelectRemovalReason),this.addEventListener(u.eventName,this.handleAddedRemovalReason),this.addEventListener(R.eventName,this.toggleButtonLoadingIndicator),this.addEventListener(E.eventName,this.handleFormElementClicked),window.addEventListener(p.eventName,this.handleAddRemovalReasonEvent)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener(p.eventName,this.handleAddRemovalReasonEvent),this.removeEventListener(d.S.eventName,this.handleSelectRemovalReason),this.removeEventListener(u.eventName,this.handleAddedRemovalReason),this.removeEventListener(R.eventName,this.toggleButtonLoadingIndicator),this.addEventListener(E.eventName,this.handleFormElementClicked)}async show(e){e&&(this.thingId=e,await this.updateComplete),this.modal?.showModal(),await(this.partial?.load()),this.buildAndTrackEvent({action:"view"}),this.primaryButton?.querySelector("faceplate-progress")?.classList.add("hidden"),this.primaryButton?.querySelector("span.submit-button-content")?.classList.remove("opacity-0"),this.showHideSubmitButton()}render(){return e.x` <removal-reason-form class="mb-0" enctype="application/json" method="POST" action="/svc/shreddit/mod/removal-reason"> <faceplate-modal class="max-w-[540px] w-[90v w] z-30"> <div slot="closeButton"> ${e.u({appearance:"secondary",leadingIcon:e.al({size:e.I.Small}),size:e.v.Small,attributes:{type:"button",onclick:this.handleCancel}})} </div> <input type="hidden" name="thing" value="${this.thingId}"> ${s.ay(this.thingId,e.x` <faceplate-partial class="w-100" src="/svc/shreddit/removal-reason-form/${this.thingId}" loading="${e.C.Programmatic}"> <div class="w-100 h-4xl flex items-center justify-center"> <faceplate-progress value="20" class="animate-spin"></faceplate-progress> </div> </faceplate-partial> `)} <div slot="primaryButton"> ${e.u({children:e.x`<faceplate-progress value="20" class="animate-spin loading-icon hidden absolute left-0 right-0 m-auto w-[16px]" style="--loader-size:1rem"></faceplate-progress> <span class="submit-button-content"> ${"Submit"}</span>`,appearance:"primary",attributes:{type:"submit",className:"w-100 relative"}})} </div> <div slot="secondaryButton"> ${e.u({children:"Cancel",appearance:"plain",attributes:{className:"w-100",type:"button",onclick:this.handleCancel}})} </div> </faceplate-modal> </removal-reason-form> `;}};return T.styles=[e.t],e._([e.n({type:Boolean,attribute:"is-smart-escalations-community-rules-enabled"})],T.prototype,"isSmartEscalationsCommunityRulesEnabled",void 0),e._([e.n({type:Boolean,attribute:"is-expand-suggested-actions-enabled"})],T.prototype,"isExpandSuggestedActionsEnabled",void 0),e._([e.n({type:String})],T.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"subreddit-name"})],T.prototype,"subredditName",void 0),e._([e.Y("faceplate-modal")],T.prototype,"modal",void 0),e._([e.Y("faceplate-partial")],T.prototype,"partial",void 0),T=e._([e.e("add-removal-reason-modal")],T),{A:p}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("By2sopqXTk",["CYrPuvCiTj"],(async o=>{var e,t,n;!function(o){o.AddRemovalReason="mod-add-removal-reason",o.IgnoreReports="mod-ignore-reports",o.UnignoreReports="mod-unignore-reports",o.Distinguish="mod-distinguish",o.Undistinguish="mod-undistinguish",o.Sticky="mod-sticky",o.Unsticky="mod-unsticky",o.Lock="mod-lock",o.Unlock="mod-unlock",o.ApproveContent="mod-approve-content",o.RemoveContent="mod-remove-content",o.RemoveContentAsSpam="mod-remove-spam-content",o.ConfirmRemoval="mod-confirm-removal",o.RemoveContentMenu="mod-remove-content-menu",o.MarkNsfw="mod-mark-nsfw",o.UnmarkNsfw="mod-unmark-nsfw",o.MarkSpoiler="mod-mark-spoiler",o.UnmarkSpoiler="mod-unmark-spoiler",o.AdjustCrowdControl="mod-adjust-crowd-control",o.OpenEditPostFlairModal="mod-open-edit-post-flair-modal",o.SnoozeReporter="mod-snooze-reporter",o.UnsnoozeReporter="mod-unsnooze-reporter",o.UpdateHighlightedPost="mod-update-highlighted-post",o.RemoveHighlightedPost="mod-remove-highlighted-post",o.ApproveContentOptimistic="mod-approve-content-optimistic",o.RemoveContentOptimistic="mod-remove-content-optimistic",o.ConfirmRemovalOptimistic="mod-confirm-removal-optimistic",o.RemoveContentAsSpamOptimistic="mod-remove-spam-optimistic",o.ShareToModChat="mod-share-to-mod-chat",o.ViewChatThread="view-chat-thread"}(e||(e={})),function(o){o.Distinguish="admin-distinguish",o.Undistinguish="admin-undistinguish"}(t||(t={})),function(o){o.Dismissed="Dismissed",o.Ignored="Ignored",o.Reported="Reported"}(n||(n={}));const i=o=>o.startsWith("t1_");return{get A(){return t},get M(){return e},get R(){return n},a:()=>o.c({source:"post",action:"click",noun:"restore_reports"}),b:()=>o.c({source:"comment",action:"click",noun:"restore_reports"}),c:()=>o.c({source:"comment",action:"click",noun:"ignore_reports"}),d:(e,t,n)=>o.c({source:"removal_reasons",action:"click",noun:"submit"},{mod_action:{removalreason:e},action_info:{reason:t},subreddit:{id:n?.subredditId},post:{id:n?.postId??""},comment:{id:n?.commentId}}),e:()=>o.c({source:"removal_reasons",action:"click",noun:"cancel"}),g:t=>{switch(t){case o.g4.ApproveComment:case o.g4.ApproveLink:return e.ApproveContent;case o.g4.RemoveComment:case o.g4.RemoveLink:return e.RemoveContent;case o.g4.SpamComment:case o.g4.SpamLink:return e.RemoveContentAsSpam;case o.g4.AddRemovalReason:return e.AddRemovalReason;default:return e.ApproveContent}},h:(e,t)=>o.c({source:"moderator",action:"highlight",noun:"post"},{post:{id:e},...t?{action_info:{page_type:t}}:{}}),p:()=>o.c({source:"post",action:"click",noun:"ignore_reports"}),r:e=>{const{authorId:t,subredditId:n,postId:r,commentId:s,subredditName:m,thingId:d,action:a,noun:c="removal_reasons_flow",type:p,reason:u,isLocked:l,sendAs:g,notificationMethod:v}=e;return o.c({source:"moderator",action:a,noun:c},{user:{id:t},subreddit:{id:n,name:m},post:{id:r??""},comment:{id:s},action_info:{source_name:"removal_reasons",type:p,reason:u},mod_action:{removalreason:{is_locked:l,send_as:g,notify:v}},...d&&(h=d,h.startsWith("t3_"))&&{post:{id:d}},...d&&i(d)&&{comment:{id:d}}});var h},u:(e,t)=>o.c({source:"moderator",action:"unhighlight",noun:"post"},{post:{id:e},...t?{action_info:{page_type:t}}:{}})}}));
SML.di("./tXzIaFuSwM.js",import.meta.url,"tXzIaFuSwM");SML.di("./BW9Ggz05AR.js",import.meta.url,"BW9Ggz05AR");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./CoC1qmwLAS.js",import.meta.url,"CoC1qmwLAS");SML.di("./BXJPp76cO9.js",import.meta.url,"BXJPp76cO9");SML.di("./rxXg4kAY8P.js",import.meta.url,"rxXg4kAY8P");SML.di("./h2J0CF1huj.js",import.meta.url,"h2J0CF1huj");SML.di("./CCzrQmnfhp.js",import.meta.url,"CCzrQmnfhp");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./B58tzg41t5.js",import.meta.url,"B58tzg41t5");SML.di("./BJdHdrH8mb.js",import.meta.url,"BJdHdrH8mb");SML.di("./CV4Ikkt2q4.js",import.meta.url,"CV4Ikkt2q4");SML.di("./DcxJbk2B3f.js",import.meta.url,"DcxJbk2B3f");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./By2sopqXTk.js",import.meta.url,"By2sopqXTk");
SML.dm("C0vgVdMODB",["CYrPuvCiTj","CoC1qmwLAS","BXJPp76cO9","rxXg4kAY8P","h2J0CF1huj","CCzrQmnfhp","C8CrqKCiqJ","tXzIaFuSwM","BW9Ggz05AR","B58tzg41t5","BJdHdrH8mb","CV4Ikkt2q4","DcxJbk2B3f","wzdls1o9Kk","By2sopqXTk"],(async(e,a,n,t,r,o,s)=>{const i=e.s;let d=class extends i{constructor(){super(...arguments),this.contentId="",this.isSnoozed=!1,this.reportReason="",this.pubsub=new e.z(this),this.onPostUpdateAction=e=>{if(e.postId!==this.contentId)return;const{action:a}=e;switch(a){case o.a.snoozeReporter:this.isSnoozed=!0;break;case o.a.unsnoozeReporter:this.isSnoozed=!1}},this.onCommentUpdateAction=e=>{if(e.commentId!==this.contentId)return;const{action:a}=e;switch(a){case r.C.snoozeReporter:this.isSnoozed=!0;break;case r.C.unsnoozeReporter:this.isSnoozed=!1}}}connectedCallback(){super.connectedCallback(),s.j(this.contentId)?this.pubsub.subscribe(e.T.PostUpdated,this.onPostUpdateAction):this.pubsub.subscribe(e.T.CommentUpdated,this.onCommentUpdateAction)}renderReportOverflowMenu(){const r="Snooze reporter",o="Pause reports from this user for 7 days",s="Un-snooze reporter",i="Receive reports from this user again";return e.x` <mod-dropdown-closer> <faceplate-dropdown-menu @click="${e=>e.stopPropagation()}" position="bottom-end"> ${e.u({appearance:"plain",size:e.v.ExtraSmall,children:n.o({size:e.I.ExtraSmall})})} <faceplate-menu slot="menu"> ${t.l({label:this.isSnoozed?s:r,description:this.isSnoozed?i:o,leadingIcon:a.n({size:e.I.Small}),onClick:this.toggleSnooze})} </faceplate-menu> </faceplate-dropdown-menu> </mod-dropdown-closer> `}sendTrackingEvent(a,n,t){const r=t?"snoozereports":"unsnoozereports",o=s.j(a)?"post":"comment",i=s.j(a)?a:null,d=s.j(a)?null:a,u=e.c({source:"moderator",action:r,noun:o},{...(i && {post:{id:i}}),...(d && {comment:{id:d}}),...(n && {action_info:{reason:n}})});e.k(this,u)}showToast({success:a,isSnoozed:n}){const t="Reports from these users will be paused",r="Reports from these users will be resumed",o="Failed to update reports",s=a?n?t:r:o,i=a?e.a0.info:e.a0.error,d=e.d("faceplate-alert",{level:i,message:s});this.dispatchEvent(d)}async updateReportState(a){try{const{data:n}=await e.ag({operation:e.af.UpdateReportState,variables:{input:{itemId:this.contentId,reportText:this.reportReason,isSnoozed:a}}});return n?.updateReport?.ok??!1}catch(e){return!1}}async toggleSnooze(a){const n=!this.isSnoozed;this.sendTrackingEvent(this.contentId,this.reportReason,n);const t=await this.updateReportState(n);t&&(n?s.j(this.contentId)?this.pubsub.publish(e.T.PostUpdated,{postId:this.contentId,action:o.a.snoozeReporter,value:!0}):this.pubsub.publish(e.T.CommentUpdated,{commentId:this.contentId,action:r.C.snoozeReporter,value:!0}):s.j(this.contentId)?this.pubsub.publish(e.T.PostUpdated,{postId:this.contentId,action:o.a.unsnoozeReporter,value:!0}):this.pubsub.publish(e.T.CommentUpdated,{commentId:this.contentId,action:r.C.unsnoozeReporter,value:!0})),this.showToast({success:t,isSnoozed:this.isSnoozed})}render(){const a={"flex items-center m-0 p-0":!0,"bg-secondary-background":this.isSnoozed};return e.x`<li class="${e.Q(a)}"> <slot name="${e.aa(this.isSnoozed?"snoozed":void 0)}" class="flex-auto block"></slot> ${this.renderReportOverflowMenu()} </li> `}};d.styles=[e.t],e._([e.n({type:String,attribute:"content-id"})],d.prototype,"contentId",void 0),e._([e.n({type:Boolean,attribute:"is-snoozed"})],d.prototype,"isSnoozed",void 0),e._([e.n({type:String,attribute:"report-reason"})],d.prototype,"reportReason",void 0),d=e._([e.e("user-report-summary")],d)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("C7tY_fu9Em",["CYrPuvCiTj"],(async a=>{const{svg:l}=a.a();return{l:a.m(l`<path d="M14.088 11.843a.9.9 0 01-.637-1.536l1.97-1.971a2.66 2.66 0 000-3.757c-1.003-1.003-2.754-1.005-3.756 0L9.694 6.55A.9.9 0 118.42 5.278l1.97-1.971a4.427 4.427 0 013.152-1.306c1.19 0 2.31.463 3.152 1.305a4.463 4.463 0 010 6.303l-1.971 1.971a.897.897 0 01-.637.264v-.001zm-4.48 4.851l1.97-1.97a.9.9 0 10-1.273-1.272l-1.97 1.97c-1.003 1.004-2.755 1.002-3.757 0a2.66 2.66 0 010-3.757l1.97-1.971a.898.898 0 000-1.272.901.901 0 00-1.272 0l-1.971 1.971a4.463 4.463 0 000 6.303 4.43 4.43 0 003.152 1.305c1.19 0 2.31-.465 3.151-1.307zm-.747-4.282l3.55-3.55a.9.9 0 10-1.272-1.273l-3.551 3.55a.9.9 0 00.637 1.537.9.9 0 00.637-.263l-.001-.001z"></path>`,"0 0 20 20","link")}}));
SML.di("./Cszz6xIhIJ.js",import.meta.url,"Cszz6xIhIJ");SML.di("./Ba1OdyQt-v.js",import.meta.url,"Ba1OdyQt-v");SML.di("./BO1LrDxm4o.js",import.meta.url,"BO1LrDxm4o");SML.di("./CA_3X1MrHP.js",import.meta.url,"CA_3X1MrHP");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.dm("CBp0iHQU2Y",["CYrPuvCiTj","Cszz6xIhIJ","Ba1OdyQt-v","BO1LrDxm4o","CA_3X1MrHP","wzdls1o9Kk"],(async E=>{E.g()&&(SML.di("./BuusMXXC0P.js",import.meta.url,"BuusMXXC0P"),SML.di("./DhIxnhsJO5.js",import.meta.url,"DhIxnhsJO5"),SML.di("./Bto96eTLPT.js",import.meta.url,"Bto96eTLPT"))}));
SML.di("./By2sopqXTk.js",import.meta.url,"By2sopqXTk");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("CCzrQmnfhp",["By2sopqXTk","CYrPuvCiTj"],(async(t,e)=>{var o;!function(t){t.follow="follow",t.hide="hide",t.save="save",t.delete="delete",t.markAsSpoiler="mark_as_spoiler",t.markAsNsfw="mark_as_nsfw",t.markAsCommercialCommunication="mark_as_commercial_communication",t.distinguishAsMod="distinguish_as_mod",t.distinguishAsAdmin="distinguish_as_admin",t.updatePostFlair="update_post_flair",t.lock="lock",t.sticky="sticky",t.addRemovalReason="add_removal_reason",t.edit="edit",t.updateContent="update_content",t.updatePostBodyPending="update_post_body_pending",t.approve="approve",t.remove="remove",t.removeAsSpam="remove_as_spam",t.ignoreReports="ignore_reports",t.confirmRemoval="confirm_removal",t.updateSendReplies="update_send_replies",t.snoozeReporter="snooze_reporter",t.unsnoozeReporter="unsnooze_reporter",t.updateHighlightedPost="update_highlighted_post",t.approveOptimistic="approve_optimistic",t.removeOptimistic="remove_optimistic",t.removeAsSpamOptimistic="remove_as_spam_optimistic",t.confirmRemovalOptimistic="confirm_removal_optimistic",t.shareToModChat="share_to_mod_chat"}(o||(o={}));const i={isPostFollowed:o.follow,isPostHidden:o.hide,isPostSaved:o.save,isPostSpoiler:o.markAsSpoiler,isPostNsfw:o.markAsNsfw,isPostCommercialCommunication:o.markAsCommercialCommunication,isPostDistinguishedAsAdmin:o.distinguishAsAdmin,isPostStickied:void 0,isReceivingPostReplies:o.updateSendReplies,[t.M.Distinguish]:o.distinguishAsMod,[t.M.Undistinguish]:o.distinguishAsMod,[t.M.Lock]:o.lock,[t.M.Unlock]:o.lock,[t.M.Sticky]:o.sticky,[t.M.Unsticky]:o.sticky,[t.M.AddRemovalReason]:o.addRemovalReason,[t.M.ApproveContent]:o.approve,[t.M.RemoveContent]:o.remove,[t.M.RemoveContentAsSpam]:o.removeAsSpam,[t.M.ConfirmRemoval]:o.confirmRemoval,[t.M.IgnoreReports]:o.ignoreReports,[t.M.UnignoreReports]:o.ignoreReports,[t.M.SnoozeReporter]:o.snoozeReporter,[t.M.UnsnoozeReporter]:o.unsnoozeReporter,[t.M.RemoveHighlightedPost]:o.updateHighlightedPost,[t.A.Distinguish]:o.distinguishAsAdmin,[t.A.Undistinguish]:o.distinguishAsAdmin,[t.M.ApproveContentOptimistic]:o.approveOptimistic,[t.M.RemoveContentOptimistic]:o.removeOptimistic,[t.M.RemoveContentAsSpamOptimistic]:o.removeAsSpamOptimistic,[t.M.ConfirmRemovalOptimistic]:o.confirmRemovalOptimistic};o.hide,o.markAsSpoiler,o.markAsNsfw,o.markAsCommercialCommunication;var a;!function(t){t[t.Follow=5]="Follow",t[t.Edit=10]="Edit",t[t.Report=20]="Report",t[t.Save=30]="Save",t[t.TranslationSetting=35]="TranslationSetting",t[t.LanguageAndTranslations=40]="LanguageAndTranslations",t[t.Delete=70]="Delete",t[t.AdminDistinguish=80]="AdminDistinguish",t[t.BrandAffiliate=90]="BrandAffiliate",t[t.Notifs=100]="Notifs",t[t.Reply=110]="Reply",t[t.Award=120]="Award",t[t.Insights=130]="Insights",t[t.ShareAsPost=140]="ShareAsPost"}(a||(a={}));const r="429";function s(t){return t?.[0]?.message??"Something went wrong";}return{get C(){return a},E:"post__click_unrsvp",P:["isPostFollowed","isPostHidden","isPostSaved","isPostSpoiler","isPostNsfw","isPostCommercialCommunication","isPostDistinguishedAsAdmin","isPostStickied","isReceivingPostReplies"],R:r,S:i,get a(){return o},b:"post__click_rsvp",c:"edit",d:async function(t){const o={input:t},{data:i,errors:a}=await e.ag({operation:e.af.DeletePost,variables:o});if(a?.length)throw new Error(s(a));const{deletePost:r}=i;if(!r?.ok)throw new Error(s(r?.errors))},e:"overflow__click_comments",f:"overflow__click_share",g:async function(t,o){const i={input:{postId:t,saveState:o?e.he.None:e.he.Saved}},{data:a,errors:r}=await e.ag({operation:e.af.UpdatePostSaveState,variables:i});if(r?.length)throw new Error(s(r));if(a?.updatePostSaveState?.ok)return!o;throw new Error(s(a?.updatePostSaveState?.errors))},h:async function(t,o){const i={input:{postId:t,followState:o?e.hf.Unfollowed:e.hf.Followed}},{data:a,errors:r}=await e.ag({operation:e.af.UpdatePostFollowState,variables:i});if(r?.length)throw new Error(s(r));if(a?.updatePostFollowState?.ok)return!o;throw new Error(s(a?.updatePostFollowState?.errors))},i:async function(t,o){const i={input:{postId:t,distinguishState:o?e.dk.None:e.dk.Distinguished,distinguishType:o?e.dg.None:e.dg.AdminDistinguished}},{data:a,errors:r}=await e.ag({operation:e.af.UpdatePostDistinguishedState,variables:i});if(r?.length)throw new Error(s(r));if(a?.updatePostDistinguishState?.ok)return a.updatePostDistinguishState.distinguishType===e.dg.AdminDistinguished;throw new Error(s(a?.updatePostDistinguishState?.errors))},j:async function(t,o){const i={input:{postId:t,spoilerState:o?e.hb.None:e.hb.Spoiler}},{data:a,errors:r}=await e.ag({operation:e.af.UpdatePostSpoilerState,variables:i});if(r?.length)throw new Error(s(r));if(a?.updatePostSpoilerState?.ok)return a.updatePostSpoilerState.spoilerState===e.hb.Spoiler;throw new Error(s(a?.updatePostSpoilerState?.errors))},k:async function(t,o){const i={input:{postId:t,nsfwState:o?e.hc.None:e.hc.Nsfw}},{data:a,errors:r}=await e.ag({operation:e.af.UpdatePostNsfwState,variables:i});if(r?.length)throw new Error(s(r));if(a?.updatePostNsfwState?.ok)return a.updatePostNsfwState.nsfwState===e.hc.Nsfw;throw new Error(s(a?.updatePostNsfwState?.errors))},l:async function(t,o){const i={input:{thingId:t,commercialCommunicationState:!o}},{data:a,errors:r}=await e.ag({operation:e.af.UpdateCommercialCommunicationState,variables:i});if(r?.length)throw new Error(s(r));if(a?.updateCommercialCommunicationState?.ok)return!o;throw new Error(s(a?.updateCommercialCommunicationState?.errors))},m:async function(t,o){const i={postId:t,sendRepliesState:o?e.hd.DoNotSend:e.hd.Send},{data:a,errors:r}=await e.ag({operation:e.af.UpdatePostSendRepliesState,variables:{input:i}});if(r?.length)throw new Error(s(r));if(a?.updatePostSendRepliesState?.ok)return a.updatePostSendRepliesState?.sendRepliesState===e.hd.Send;throw new Error(s(a?.updatePostSendRepliesState?.errors))},n:async function(t,o){const i={input:{postId:t,hideState:o?e.ha.None:e.ha.Hidden}},{data:a,errors:r}=await e.ag({operation:e.af.UpdatePostHideState,variables:i});if(r?.length)throw new Error(s(r));if(a?.updatePostHideState?.ok)return a.updatePostHideState.hideState===e.ha.Hidden;throw new Error(s(a?.updatePostHideState?.errors))},o:async function(t){const o={input:t},{data:i,errors:a}=await e.ag({operation:e.af.UpdatePostStickyState,variables:o});if(a?.length)throw new Error(s(a));if(!i?.updatePostStickyState?.ok)throw new Error(s(i?.updatePostStickyState?.errors))},u:async function(t){const o={input:t},{data:i,errors:a}=await e.ag({operation:e.af.UpdateAdHideState,variables:o});if(a?.length)throw new Error(s(a));if(i?.updateAdHideState?.ok)return i.updateAdHideState.hideState===e.ha.Hidden;if(i?.updateAdHideState?.errors&&(i?.updateAdHideState?.errors[0]).code===r)throw new Error(r);throw new Error(s(i?.updateAdHideState?.errors))}}}));
SML.di("./Bls-ENUvNr.js",import.meta.url,"Bls-ENUvNr");SML.di("./CYbIJv5Otr.js",import.meta.url,"CYbIJv5Otr");SML.di("./C_d6S7z0pa.js",import.meta.url,"C_d6S7z0pa");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./CA7qO1Exxg.js",import.meta.url,"CA7qO1Exxg");SML.di("./CYHAYFiK-j.js",import.meta.url,"CYHAYFiK-j");SML.di("./DcxJbk2B3f.js",import.meta.url,"DcxJbk2B3f");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./tXzIaFuSwM.js",import.meta.url,"tXzIaFuSwM");
SML.dm("CDNBvSzVST",["Bls-ENUvNr","CYbIJv5Otr","C_d6S7z0pa","CYrPuvCiTj","CA7qO1Exxg","CYHAYFiK-j","DcxJbk2B3f","wzdls1o9Kk","tXzIaFuSwM"],(async()=>{"enabled"!==window.CLIENT_EXPERIMENTS?.shreddit_system_theme&&SML.di("./C2-PODlphO.js",import.meta.url,"C2-PODlphO")}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");
SML.dm("CEf2DD9Ins",["CYrPuvCiTj","B39chFHLCe","wzdls1o9Kk","DGkwklwWNC"],(async(o,r)=>{var t=o.i`${o.a2}:host{--max-width:20rem;--hide-delay:0ms;--show-delay:750ms;display:contents}:host,:host([appearance=neutral]){--rpl-tooltip-code-background-color:var(--color-neutral-background-hover);--rpl-tooltip-background-color:var(--color-neutral-background);--rpl-tooltip-color:var(--color-neutral-content-strong)}:host([appearance=inverted]){--rpl-tooltip-code-background-color:var(--color-inverted-neutral-background-hover);--rpl-tooltip-background-color:var(--color-inverted-neutral-background);--rpl-tooltip-color:var(--color-inverted-neutral-content-strong)}:host([appearance=primary]){--rpl-tooltip-background-color:var(--color-tooltip-bg-primary);--rpl-tooltip-color:var(--color-tooltip-text-primary)}.tooltip{--arrow-size:var(--rpl-tooltip-arrow-size, 4px);--arrow-color:var(--rpl-tooltip-background-color)}.tooltip[placement^=top]::part(arrow){box-shadow:1px 1px 2px rgba(0,0,0,.05)}.tooltip[placement^=bottom]::part(arrow){box-shadow:-1px -1px 2px rgba(0,0,0,.05)}.tooltip[placement^=left]::part(arrow){box-shadow:0 -2px 2px rgba(0,0,0,.05)}.tooltip[placement^=right]::part(arrow){box-shadow:-2px 0 2px rgba(0,0,0,.05)}.tooltip::part(popup){z-index:var(--rpl-z-index-tooltip,var(--faceplate-tooltip-z-index,1))}.tooltip[placement^=top]::part(popup){transform-origin:bottom}.tooltip[placement^=bottom]::part(popup){transform-origin:top}.tooltip[placement^=left]::part(popup){transform-origin:right}.tooltip[placement^=right]::part(popup){transform-origin:left}.tooltip-body{display:flex;justify-content:center;align-items:center;width:max-content;max-width:var(--max-width);border-radius:var(--rpl-tooltip-border-radius,.25rem);box-shadow:var(--rpl-tooltip-box-shadow,var(--boxshadow-tooltip));background-color:var(--rpl-tooltip-background-color);font:var(--rpl-tooltip-font,var(--font-12-16-semibold));color:var(--rpl-tooltip-color);padding:var(--rpl-tooltip-padding,.5rem);pointer-events:none;user-select:none;-webkit-user-select:none;gap:var(--rem4)}::slotted([slot=shortcut]),::slotted(code[slot=shortcut]){font:var(--rpl-tooltip-font,var(--font-12-16-semibold))!important;color:var(--rpl-tooltip-color)!important;background-color:var(--rpl-tooltip-code-background-color)!important;border:none!important;border-radius:calc(var(--rpl-tooltip-border-radius,.25rem) - var(--rem2))!important;padding:var(--rem4)!important}`;let a=class extends r.T{};return a.styles=t,a=o._([o.e("rpl-tooltip")],a),{get R(){return a}}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");
SML.dm("CEf2DD9Ins",["CYrPuvCiTj","B39chFHLCe","wzdls1o9Kk","DGkwklwWNC"],(async(o,r)=>{var t=o.i`${o.a2}:host{--max-width:20rem;--hide-delay:0ms;--show-delay:750ms;display:contents}:host,:host([appearance=neutral]){--rpl-tooltip-code-background-color:var(--color-neutral-background-hover);--rpl-tooltip-background-color:var(--color-neutral-background);--rpl-tooltip-color:var(--color-neutral-content-strong)}:host([appearance=inverted]){--rpl-tooltip-code-background-color:var(--color-inverted-neutral-background-hover);--rpl-tooltip-background-color:var(--color-inverted-neutral-background);--rpl-tooltip-color:var(--color-inverted-neutral-content-strong)}:host([appearance=primary]){--rpl-tooltip-background-color:var(--color-tooltip-bg-primary);--rpl-tooltip-color:var(--color-tooltip-text-primary)}.tooltip{--arrow-size:var(--rpl-tooltip-arrow-size, 4px);--arrow-color:var(--rpl-tooltip-background-color)}.tooltip[placement^=top]::part(arrow){box-shadow:1px 1px 2px rgba(0,0,0,.05)}.tooltip[placement^=bottom]::part(arrow){box-shadow:-1px -1px 2px rgba(0,0,0,.05)}.tooltip[placement^=left]::part(arrow){box-shadow:0 -2px 2px rgba(0,0,0,.05)}.tooltip[placement^=right]::part(arrow){box-shadow:-2px 0 2px rgba(0,0,0,.05)}.tooltip::part(popup){z-index:var(--rpl-z-index-tooltip,var(--faceplate-tooltip-z-index,1))}.tooltip[placement^=top]::part(popup){transform-origin:bottom}.tooltip[placement^=bottom]::part(popup){transform-origin:top}.tooltip[placement^=left]::part(popup){transform-origin:right}.tooltip[placement^=right]::part(popup){transform-origin:left}.tooltip-body{display:flex;justify-content:center;align-items:center;width:max-content;max-width:var(--max-width);border-radius:var(--rpl-tooltip-border-radius,.25rem);box-shadow:var(--rpl-tooltip-box-shadow,var(--boxshadow-tooltip));background-color:var(--rpl-tooltip-background-color);font:var(--rpl-tooltip-font,var(--font-12-16-semibold));color:var(--rpl-tooltip-color);padding:var(--rpl-tooltip-padding,.5rem);pointer-events:none;user-select:none;-webkit-user-select:none;gap:var(--rem4)}::slotted([slot=shortcut]),::slotted(code[slot=shortcut]){font:var(--rpl-tooltip-font,var(--font-12-16-semibold))!important;color:var(--rpl-tooltip-color)!important;background-color:var(--rpl-tooltip-code-background-color)!important;border:none!important;border-radius:calc(var(--rpl-tooltip-border-radius,.25rem) - var(--rem2))!important;padding:var(--rem4)!important}`;let a=class extends r.T{};return a.styles=t,a=o._([o.e("rpl-tooltip")],a),{get R(){return a}}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");
SML.dm("CEkHpZAUVH",["CYrPuvCiTj","BtqmVQuPYp"],(async(t,e)=>{const i="var(--bottom-sheet-max-height)";let s=class extends t.s{constructor(){super(...arguments),this.open=!1,this.blocking=!1,this.docked=!1,this.focusManager=new t.aK(this,this),this.inFocusTrap=!1,this._isModal=!1,this._isExpanded=!1,this._isExpandable=!1,this._isDockable=!1,this._gesture=new e.T(this,{mouseSupport:!1}),this._cachedHeight="auto",this._dockedHeight="auto",this._cachedHeightAtTouchStartPx=0,this._rafID=null,this._mutationObserver=void 0,this.show=t=>{this._isModal=!1,this._isExpanded=(t&&"expanded"in t&&t.expanded)??!1,this._isExpandable=t?.expandable??!1,this._isDockable=t?.dockable??!1,this.open=!0,this._isExpandable&&(this._gesture.on("panstart",this._onTouchStart),this._gesture.on("panmove",this._onTouchMove),this._gesture.on("panend",this._onTouchEnd)),this._isExpanded?this._content.style.height=i:""!==this._content.style.height&&"auto"!==this._content.style.height||(this._cachedHeight=this._content.clientHeight+"px",this._content.style.height=this._cachedHeight),this._dockedHeight=this._headerElements[0]?this._headerElements[0].clientHeight-1+"px":"auto",this._mutationObserver||this._connectMutationObserver()},this.showModal=e=>{if(this.open)throw new Error('The element already has an "open" attribute, and therefore cannot be opened modally');t.hp.add(this),this.show(e),this._isModal=!0,t.hq.add(this)},this.close=()=>{const e=t.d("faceplate-close");this.dispatchEvent(e),e.defaultPrevented||(this.open=!1,this._isExpanded=!1,this.inFocusTrap&&(t.hq.remove(this),t.hp.remove(this)),this._isExpandable&&(this._gesture.off("panstart",this._onTouchStart),this._gesture.off("panmove",this._onTouchMove),this._gesture.off("panend",this._onTouchEnd)),this._content.style.height=this._cachedHeight)},this.expand=()=>{if(this.open&&this._isExpandable&&!this._isExpanded){const e=t.d("faceplate-expand");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=i,this.docked=!1,this._isExpanded=!0}},this.collapse=()=>{if(this.open&&this._isExpandable&&this._isExpanded){const e=t.d("faceplate-collapse");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=this._cachedHeight,this.docked=!1,this._isExpanded=!1}},this.dock=()=>{if(!this.open||!this._isDockable||this.docked)return;const e=t.d("faceplate-dock");this.dispatchEvent(e),e.defaultPrevented||(this._cancelRAF(),this._content.style.height=this._dockedHeight,this.docked=!0)},this.undock=()=>{if(!this.open||!this._isDockable||!this.docked)return;const e=this._isExpandable&&this._isExpanded?i:this._cachedHeight,s=t.d("faceplate-undock");this.dispatchEvent(s),s.defaultPrevented||(this._cancelRAF(),this._content.style.height=e,this.docked=!1)},this.recalculateCachedHeight=()=>{const e=this._cachedHeight;this._content.style.height="auto";const s=this._content.clientHeight+"px";this._cachedHeight=s,this._isDockable&&this.docked?this._content.style.height=this._dockedHeight:this._isExpandable&&this._isExpanded?this._content.style.height=i:(this._content.style.height=e,window.requestAnimationFrame((()=>{this._content.style.height=s,this._cancelRAF()})));const o=t.d("__TEST-ONLY_bottom-sheet-recalculation",{cachedHeight:this._cachedHeight,dockedHeight:this._dockedHeight,expandedHeight:i});this.dispatchEvent(o)},this._onTouchStart=()=>{this._cancelRAF(),this._content.style.transitionDuration="0ms",this._cachedHeightAtTouchStartPx=this._content.clientHeight},this._onTouchMove=()=>{this._cancelRAF(),this._isExpanded&&(this._gesture.touchMoveY??0)<=0||(this._rafID=window.requestAnimationFrame((()=>{null!=this._gesture.touchMoveY&&(this._content.style.height=this._cachedHeightAtTouchStartPx-this._gesture.touchMoveY+"px")})))},this._onTouchEnd=()=>{if(this._cancelRAF(),this._content.style.transitionDuration="300ms",!this.open||null==this._gesture.touchMoveY)return;const t=this._gesture.touchMoveY>=this._gesture.thresholdY,e=this._gesture.touchMoveY<=-this._gesture.thresholdY;t?this._isExpanded?this.collapse():this._closeIfNotBlocked():e?this._isExpanded||this.expand():this._isExpanded?this._content.style.height=i:this._content.style.height=this._cachedHeight},this._cancelRAF=()=>{this._rafID&&(window.cancelAnimationFrame(this._rafID),this._rafID=null)},this._renderHandle=()=>this._isExpandable?t.x`<div id="handle" class="${this._isModal?"out":"in"}"></div>`:null,this._handleBackDropKeyUp=t=>{"Enter"===t.key&&this._closeIfNotBlocked()},this._closeIfNotBlocked=()=>{this.blocking||this.close()},this.render=()=>t.x` <div id="backdrop" part="backdrop" class="${this._isModal&&this.open?"blocker":""}" @click="${this._closeIfNotBlocked}" @keyup="${this._handleBackDropKeyUp}"></div> <div id="content" part="content" role="${t.aa(this.open?"dialog":void 0)}" aria-label="${t.aa(this.label??void 0)}" aria-modal="${t.aa(this.open&&this._isModal?"true":void 0)}"> ${this._renderHandle()} <slot name="header"></slot> <slot></slot> </div> `}static get styles(){return t.i`:host{--bottom-sheet-max-height:85vh}@supports (height:95dvh){:host{--bottom-sheet-max-height:95dvh}}:host{position:fixed;bottom:0;inset-inline-start:0;opacity:0;transition-duration:.3s;transition-property:visibility,opacity;transition-timing-function:ease;visibility:hidden;pointer-events:none}:host([open]){opacity:1;z-index:2;visibility:visible}:host([open])>#content{pointer-events:auto;transform:translateY(0)}:host>#backdrop{position:fixed;--backdrop-position-value:-100%;inset-inline:var(--backdrop-position-value) var(--backdrop-position-value);top:var(--backdrop-position-value);bottom:var(--backdrop-position-value)}:host>#backdrop.blocker{background:var(--color-scrim);pointer-events:auto}:host>#content{align-items:center;background:var(--color-ui-modalbackground);bottom:0;border-start-start-radius:var(--rem12);border-start-end-radius:var(--rem12);box-shadow:var(--boxshadow-modal);box-sizing:border-box;display:flex;flex-direction:column;inset-inline-start:0;position:fixed;touch-action:none;transform:translateY(100%);transition-duration:.3s;transition-property:height,transform;transition-timing-function:ease;width:100vw;max-height:var(--bottom-sheet-max-height)}:host>slot:not([name]){align-items:center;display:flex;flex-direction:column;gap:var(--spacer-sm)}#handle{position:absolute;top:0;inset-inline-start:50%;transform:translateX(-50%);height:var(--rem4);width:var(--rem48);border-radius:var(--rem4)}#handle.in{top:var(--spacer-xs);background-color:var(--color-neutral-border)}#handle.out{top:calc(-1 * var(--spacer-xs));background-color:var(--color-global-white)}`}disconnectedCallback(){super.disconnectedCallback(),this._gesture.destroy(),t.hq.remove(this),t.hp.remove(this),this._mutationObserver?.disconnect()}_connectMutationObserver(){this._mutationObserver=new MutationObserver((()=>{window.requestAnimationFrame(this.recalculateCachedHeight)})),this._mutationObserver.observe(this,{characterData:!0,childList:!0,attributes:!1,subtree:!0})}};t._([t.n({type:Boolean,reflect:!0})],s.prototype,"open",void 0),t._([t.n({type:Boolean})],s.prototype,"blocking",void 0),t._([t.n({type:Boolean,reflect:!0})],s.prototype,"docked",void 0),t._([t.n({type:String,attribute:"ariaLabel"})],s.prototype,"label",void 0),t._([t.Y("#content")],s.prototype,"_content",void 0),t._([t.r({slot:"header"})],s.prototype,"_headerElements",void 0),s=t._([t.e("faceplate-bottom-sheet")],s)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");
SML.dm("CEkHpZAUVH",["CYrPuvCiTj","BtqmVQuPYp"],(async(t,e)=>{const i="var(--bottom-sheet-max-height)";let s=class extends t.s{constructor(){super(...arguments),this.open=!1,this.blocking=!1,this.docked=!1,this.focusManager=new t.aK(this,this),this.inFocusTrap=!1,this._isModal=!1,this._isExpanded=!1,this._isExpandable=!1,this._isDockable=!1,this._gesture=new e.T(this,{mouseSupport:!1}),this._cachedHeight="auto",this._dockedHeight="auto",this._cachedHeightAtTouchStartPx=0,this._rafID=null,this._mutationObserver=void 0,this.show=t=>{this._isModal=!1,this._isExpanded=(t&&"expanded"in t&&t.expanded)??!1,this._isExpandable=t?.expandable??!1,this._isDockable=t?.dockable??!1,this.open=!0,this._isExpandable&&(this._gesture.on("panstart",this._onTouchStart),this._gesture.on("panmove",this._onTouchMove),this._gesture.on("panend",this._onTouchEnd)),this._isExpanded?this._content.style.height=i:""!==this._content.style.height&&"auto"!==this._content.style.height||(this._cachedHeight=this._content.clientHeight+"px",this._content.style.height=this._cachedHeight),this._dockedHeight=this._headerElements[0]?this._headerElements[0].clientHeight-1+"px":"auto",this._mutationObserver||this._connectMutationObserver()},this.showModal=e=>{if(this.open)throw new Error('The element already has an "open" attribute, and therefore cannot be opened modally');t.hp.add(this),this.show(e),this._isModal=!0,t.hq.add(this)},this.close=()=>{const e=t.d("faceplate-close");this.dispatchEvent(e),e.defaultPrevented||(this.open=!1,this._isExpanded=!1,this.inFocusTrap&&(t.hq.remove(this),t.hp.remove(this)),this._isExpandable&&(this._gesture.off("panstart",this._onTouchStart),this._gesture.off("panmove",this._onTouchMove),this._gesture.off("panend",this._onTouchEnd)),this._content.style.height=this._cachedHeight)},this.expand=()=>{if(this.open&&this._isExpandable&&!this._isExpanded){const e=t.d("faceplate-expand");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=i,this.docked=!1,this._isExpanded=!0}},this.collapse=()=>{if(this.open&&this._isExpandable&&this._isExpanded){const e=t.d("faceplate-collapse");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=this._cachedHeight,this.docked=!1,this._isExpanded=!1}},this.dock=()=>{if(!this.open||!this._isDockable||this.docked)return;const e=t.d("faceplate-dock");this.dispatchEvent(e),e.defaultPrevented||(this._cancelRAF(),this._content.style.height=this._dockedHeight,this.docked=!0)},this.undock=()=>{if(!this.open||!this._isDockable||!this.docked)return;const e=this._isExpandable&&this._isExpanded?i:this._cachedHeight,s=t.d("faceplate-undock");this.dispatchEvent(s),s.defaultPrevented||(this._cancelRAF(),this._content.style.height=e,this.docked=!1)},this.recalculateCachedHeight=()=>{const e=this._cachedHeight;this._content.style.height="auto";const s=this._content.clientHeight+"px";this._cachedHeight=s,this._isDockable&&this.docked?this._content.style.height=this._dockedHeight:this._isExpandable&&this._isExpanded?this._content.style.height=i:(this._content.style.height=e,window.requestAnimationFrame((()=>{this._content.style.height=s,this._cancelRAF()})));const o=t.d("__TEST-ONLY_bottom-sheet-recalculation",{cachedHeight:this._cachedHeight,dockedHeight:this._dockedHeight,expandedHeight:i});this.dispatchEvent(o)},this._onTouchStart=()=>{this._cancelRAF(),this._content.style.transitionDuration="0ms",this._cachedHeightAtTouchStartPx=this._content.clientHeight},this._onTouchMove=()=>{this._cancelRAF(),this._isExpanded&&(this._gesture.touchMoveY??0)<=0||(this._rafID=window.requestAnimationFrame((()=>{null!=this._gesture.touchMoveY&&(this._content.style.height=this._cachedHeightAtTouchStartPx-this._gesture.touchMoveY+"px")})))},this._onTouchEnd=()=>{if(this._cancelRAF(),this._content.style.transitionDuration="300ms",!this.open||null==this._gesture.touchMoveY)return;const t=this._gesture.touchMoveY>=this._gesture.thresholdY,e=this._gesture.touchMoveY<=-this._gesture.thresholdY;t?this._isExpanded?this.collapse():this._closeIfNotBlocked():e?this._isExpanded||this.expand():this._isExpanded?this._content.style.height=i:this._content.style.height=this._cachedHeight},this._cancelRAF=()=>{this._rafID&&(window.cancelAnimationFrame(this._rafID),this._rafID=null)},this._renderHandle=()=>this._isExpandable?t.x`<div id="handle" class="${this._isModal?"out":"in"}"></div>`:null,this._handleBackDropKeyUp=t=>{"Enter"===t.key&&this._closeIfNotBlocked()},this._closeIfNotBlocked=()=>{this.blocking||this.close()},this.render=()=>t.x` <div id="backdrop" part="backdrop" class="${this._isModal&&this.open?"blocker":""}" @click="${this._closeIfNotBlocked}" @keyup="${this._handleBackDropKeyUp}"></div> <div id="content" part="content" role="${t.aa(this.open?"dialog":void 0)}" aria-label="${t.aa(this.label??void 0)}" aria-modal="${t.aa(this.open&&this._isModal?"true":void 0)}"> ${this._renderHandle()} <slot name="header"></slot> <slot></slot> </div> `}static get styles(){return t.i`:host{--bottom-sheet-max-height:85vh}@supports (height:95dvh){:host{--bottom-sheet-max-height:95dvh}}:host{position:fixed;bottom:0;inset-inline-start:0;opacity:0;transition-duration:.3s;transition-property:visibility,opacity;transition-timing-function:ease;visibility:hidden;pointer-events:none}:host([open]){opacity:1;z-index:2;visibility:visible}:host([open])>#content{pointer-events:auto;transform:translateY(0)}:host>#backdrop{position:fixed;--backdrop-position-value:-100%;inset-inline:var(--backdrop-position-value) var(--backdrop-position-value);top:var(--backdrop-position-value);bottom:var(--backdrop-position-value)}:host>#backdrop.blocker{background:var(--color-scrim);pointer-events:auto}:host>#content{align-items:center;background:var(--color-ui-modalbackground);bottom:0;border-start-start-radius:var(--rem12);border-start-end-radius:var(--rem12);box-shadow:var(--boxshadow-modal);box-sizing:border-box;display:flex;flex-direction:column;inset-inline-start:0;position:fixed;touch-action:none;transform:translateY(100%);transition-duration:.3s;transition-property:height,transform;transition-timing-function:ease;width:100vw;max-height:var(--bottom-sheet-max-height)}:host>slot:not([name]){align-items:center;display:flex;flex-direction:column;gap:var(--spacer-sm)}#handle{position:absolute;top:0;inset-inline-start:50%;transform:translateX(-50%);height:var(--rem4);width:var(--rem48);border-radius:var(--rem4)}#handle.in{top:var(--spacer-xs);background-color:var(--color-neutral-border)}#handle.out{top:calc(-1 * var(--spacer-xs));background-color:var(--color-global-white)}`}disconnectedCallback(){super.disconnectedCallback(),this._gesture.destroy(),t.hq.remove(this),t.hp.remove(this),this._mutationObserver?.disconnect()}_connectMutationObserver(){this._mutationObserver=new MutationObserver((()=>{window.requestAnimationFrame(this.recalculateCachedHeight)})),this._mutationObserver.observe(this,{characterData:!0,childList:!0,attributes:!1,subtree:!0})}};t._([t.n({type:Boolean,reflect:!0})],s.prototype,"open",void 0),t._([t.n({type:Boolean})],s.prototype,"blocking",void 0),t._([t.n({type:Boolean,reflect:!0})],s.prototype,"docked",void 0),t._([t.n({type:String,attribute:"ariaLabel"})],s.prototype,"label",void 0),t._([t.Y("#content")],s.prototype,"_content",void 0),t._([t.r({slot:"header"})],s.prototype,"_headerElements",void 0),s=t._([t.e("faceplate-bottom-sheet")],s)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("CGPyLNNlj9",["CYrPuvCiTj"],(async e=>{let t=class extends e.s{constructor(){super(...arguments),this.recentPostIds=[],this.country="",this.userId="",this.cookieDomain=""}handleClearRecentPosts(){e.ao({country:this.country,name:e.gn(this.userId),value:"",options:{...e.b1,nonessential:!0,sameSite:"strict",domain:this.cookieDomain||void 0}}),this.recentPostIds=[],window.dispatchEvent(e.d(e.gp))}render(){const t="Recent Posts";return this.userId?this.recentPostIds.length<1?e.x``:e.x`<aside class="flex flex-col recent-posts-right-rail xs:my-md bg-neutral-background-weak rounded-4" aria-label="${t}" part="wrapper"> <div class="flex justify-between items-center"> <h3 class="flex items-center font-semibold text-secondary-weak leading-4 uppercase px-md text-12 my-[18px]"> ${t} </h3> <faceplate-tracker source="post" action="click" noun="clear_recent_module"> <button @click="${this.handleClearRecentPosts}" class="button-plain button-small border-none bg-transparent text-primary px-md my-[16px] text-14 cursor-pointer"> ${"Clear"} </button> </faceplate-tracker> </div> <div class="flex"> <slot name="posts"></slot> </div> </aside>`:e.x``;}};t.styles=[e.t],e._([e.n({type:String,attribute:"recent-post-ids"})],t.prototype,"recentPostIds",void 0),e._([e.n({type:String})],t.prototype,"country",void 0),e._([e.n({type:String,attribute:"user-id"})],t.prototype,"userId",void 0),e._([e.n({type:String,attribute:"cookie-domain"})],t.prototype,"cookieDomain",void 0),t=e._([e.e("recent-posts")],t)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("CQ8UxZireV",["CYrPuvCiTj"],(async s=>{const e=s.a7.PaidUaBlockingModalData;let i=class extends s.s{constructor(){super(...arguments),this.sessionData={dialogShown:!1,sessionStartTime:void 0,isPaidUaSession:!1},this.timeThresholdReached=!1,this.handleCookieBannerHide=s=>{"data-protection-consent-sheet"===s.target.id&&(this.sessionData.dialogShown||this.hasReachedMaxScreenviews()||this.timeThresholdReached)&&this.showDialog()},this.hasReachedMaxScreenviews=()=>s.h9()>=2}static get styles(){return[s.t]}get dialog(){return this.querySelector("rpl-dialog")}connectedCallback(){super.connectedCallback(),this.loadSessionData(),this.isPaidUaSession()&&(document.addEventListener("rpl-dialog-sheet:hide",this.handleCookieBannerHide),this.sessionData.sessionStartTime||this.setSessionStartTime(),this.sessionData.dialogShown||this.hasReachedMaxScreenviews()?requestAnimationFrame((()=>{this.showDialogIfNotCookieBanner()})):this.startTimeTracking())}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("rpl-dialog-sheet:hide",this.handleCookieBannerHide),this.cleanup()}isPaidUaSession(){if(this.sessionData.isPaidUaSession)return!0;return!!new URLSearchParams(window.location.search).has("utm_source","UA")&&(this.sessionData.isPaidUaSession=!0,this.saveSessionData(),!0)}loadSessionData(){const s=sessionStorage.getItem(e);if(s)try{this.sessionData=JSON.parse(s)}catch{this.sessionData={dialogShown:!1,sessionStartTime:Date.now(),isPaidUaSession:this.isPaidUaSession()},this.saveSessionData()}}saveSessionData(){sessionStorage.setItem(e,JSON.stringify(this.sessionData))}showDialogIfNotCookieBanner(){document.querySelector("#data-protection-consent-dialog")||this.showDialog()}setSessionStartTime(){this.sessionData.sessionStartTime=Date.now(),this.saveSessionData()}startTimeTracking(){this.timeCheckInterval=setInterval((()=>{if(this.sessionData.dialogShown)return void this.stopTimeTracking();this.sessionData.sessionStartTime||this.setSessionStartTime();Date.now()-this.sessionData.sessionStartTime>=3e4&&(this.timeThresholdReached=!0,this.showDialogIfNotCookieBanner(),this.stopTimeTracking())}),1e3)}stopTimeTracking(){this.timeCheckInterval&&(clearInterval(this.timeCheckInterval),this.timeCheckInterval=void 0)}showDialog(){this.isPaidUaSession()&&(this.sessionData.dialogShown=!0,this.saveSessionData(),this.dialog?.showModal())}cleanup(){this.stopTimeTracking()}render(){return s.x`<slot></slot>`}};s._([s.j()],i.prototype,"sessionData",void 0),i=s._([s.e("paid-ua-blocking-modal")],i)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.dm("CZtlI9NlXS",["CYrPuvCiTj","wzdls1o9Kk"],(async(e,t)=>{let o=function(){try{return"1E4 bits"===new Intl.NumberFormat("en",{style:"unit",unit:"bit",unitDisplay:"long",notation:"scientific"}).format(1e4)}catch(e){return!1}}();const n=1e3,a=1e6,i=1e9;function r(e,r,$){if(o){const o=(null==$?void 0:$.options)||{notation:(null==$?void 0:$.short)?"compact":"standard"};return t.cB(r,o).format(e)}return(u=e)>=99999999949?`${Math.floor(u/i)}b`:u>=999999949&&u<99999999949?`${(u/i).toFixed(1)}b`:u>=99999949&&u<999999949?`${Math.floor(u/a)}m`:u>=999949&&u<99999949?`${(u/a).toFixed(1)}m`:u>=99949&&u<999949?`${Math.floor(u/n)}k`:u>=n&&u<99949?`${(u/n).toFixed(1)}k`:String(u);var u}let $=class extends e.s{constructor(){super(...arguments),this.number=0,this.locale="",this.pretty=!1}getLocale(){return this.locale||t.by()}createRenderRoot(){return this}render(){const e=this.formatOptions?{options:this.formatOptions}:{short:this.pretty};return r(this.number,this.getLocale(),e)}};return e._([e.n({type:Number})],$.prototype,"number",void 0),e._([e.n({type:String})],$.prototype,"locale",void 0),e._([e.n({type:Object})],$.prototype,"formatOptions",void 0),e._([e.n({type:Boolean})],$.prototype,"pretty",void 0),$=e._([e.e("faceplate-number")],$),{a:function(t,o=!1){return o||0!==t?e.bZ({one:`Allows up to ${t} emoji`,other:`Allows up to ${t} emojis`,count:t}):"";},b:function(t,o=!1){return o||0!==t?e.bZ({one:`${t} question left today.`,other:`${t} questions left today.`,count:t}):"";},c:function(t,o=!1){return o||0!==t?e.bZ({one:`${t} question left this week.`,other:`${t} questions left this week.`,count:t}):"";},d:function(e){const{count:t,none:o,single:n,many:a}=e;return 0===t&&void 0!==o?o:1===t?n:a},f:r,p:function(t,o=!1){return o||0!==t?e.bZ({one:`Allows text and up to ${t} emoji`,other:`Allows text and up to ${t} emojis`,count:t}):"";}};}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.dm("CaC8XqiTGs",["CYrPuvCiTj","wzdls1o9Kk"],(async(t,e)=>{const o="title-icon",s="close-button",a="primary-button",l="secondary-button",n="tertiary-button";class i extends t.R{constructor(){super(...arguments),this.appearance="neutral",this.autoClose=!1,this.emitCloseButtonClickEvent=()=>{this.emitter.dispatch("close-button-clicked",{bubbles:!0,composed:!0})},this.handleCloseButtonClick=t=>{t.stopPropagation(),this.autoClose&&this.emitCloseButtonClickEvent()},this.handleCloseButtonKeydown=t=>{this.autoClose&&"Enter"===t.key&&this.emitCloseButtonClickEvent()}}render(){const i=e.o(this,o),r=e.o(this,s),d=e.o(this,a),c=e.o(this,l),m=e.o(this,n),p=d||c||m;return t.x`<div> <slot name="${"title-graphic"}"></slot> <div class="main"> <div class="content"> <div class="title-row"> <slot name="${o}" class="${i?"has-slotted":""}"></slot> <slot name="${"title"}"></slot> <slot name="${s}" part="close-button" class="${r?"has-slotted":""}" @click="${this.handleCloseButtonClick}" @keydown="${this.handleCloseButtonKeydown}"></slot> </div> <div class="body"><slot></slot></div> </div> <div class="footer ${p?"has-slotted":""}"> <slot name="${n}" class="${m?"has-slotted":""}"></slot> <div class="footer-right"> <slot name="${l}"></slot> <slot name="${a}"></slot> </div> </div> </div> </div>`}}t._([t.n({type:String,reflect:!0})],i.prototype,"appearance",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"auto-close"})],i.prototype,"autoClose",void 0);var r=t.i`${t.a2}:host{display:flex;flex-direction:column;border-radius:var(--rem16);overflow:hidden;box-shadow:var(--boxshadow-modal);gap:var(--rem8);background-color:var(--color-neutral-background);color:var(--color-neutral-content-strong)}:host([appearance=inverted]){background-color:var(--color-inverted-neutral-background);color:var(--color-inverted-neutral-content-strong)}.main{display:flex;flex-direction:column;padding:var(--rem8) var(--rem8) var(--rem8) var(--rem16)}slot[name=title-graphic]{display:flex}.title-row{display:flex}.body{padding-inline-end:var(--rem8)}slot[name=title-icon].has-slotted{display:flex;padding-top:var(--rem8);padding-inline-end:var(--rem12)}slot[name=title]{display:flex;align-items:center;flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-size:var(--rem14);font-weight:700}slot:not([name]){white-space:wrap}slot[name=close-button].has-slotted{display:flex;padding-inline-start:var(--rem4)}slot[name=primary-button]{display:flex;padding-inline-end:var(--rem8)}slot[name=tertiary-button].has-slotted{font-size:var(--rem12);flex-shrink:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-inline-end:var(--rem8)}.footer{display:flex;align-items:center;justify-content:end;padding-inline-end:var(--rem8)}.footer.has-slotted{padding-top:var(--rem8)}.footer:has(slot[name=tertiary-button].has-slotted){justify-content:space-between}.footer-right{display:flex}`;let d=class extends i{};return d.styles=r,d=t._([t.e("rpl-coachmark-card")],d),{get RPLCoachmarkCard(){return d}}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("CcWrGyc4YB",["CYrPuvCiTj"],(async e=>{const t=e=>e instanceof HTMLButtonElement||e instanceof HTMLAnchorElement||["button","link","menuitem","tab","checkbox","combobox","gridcell","application","treeitem"].includes(e?.getAttribute("role")??"");class i extends e.R{constructor(){super(...arguments),this._triggerElement=null,this.keydown=!1,this.dialogId="",this.noModal=!1,this.handleClick=()=>{this.keydown||this.sendActivatedEvent()},this.handleKeydown=e=>{"Enter"===e.key&&(this.keydown=!0)},this.handleKeyup=e=>{"Enter"===e.key&&!0===this.keydown&&(this.keydown=!1,this.sendActivatedEvent())},this.handleBlur=()=>{this.keydown=!1}}set triggerElement(t){const i=this._triggerElement?.getAttribute("aria-expanded")??!1,n=this._triggerElement,r=t;n&&(n?.removeAttribute("aria-haspopup"),n?.removeAttribute("aria-expanded"),n?.removeEventListener("click",this.handleClick),n?.removeEventListener("keydown",this.handleKeydown),n?.removeEventListener("keyup",this.handleKeyup),n?.addEventListener("blur",this.handleBlur)),r&&(this.action!==e.i7.Hide&&(r.setAttribute("aria-haspopup","dialog"),r.setAttribute("aria-expanded",`${i}`)),r.addEventListener("click",this.handleClick),r.addEventListener("keydown",this.handleKeydown),r.addEventListener("keyup",this.handleKeyup),r.addEventListener("blur",this.handleBlur),this._triggerElement=r)}get triggerElement(){return this._triggerElement}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),"action"===e&&(this.triggerElement=this._triggerElement)}addOpenAttributes(){this.triggerElement&&this.triggerElement.setAttribute("aria-expanded","true")}removeOpenAttributes(){this.triggerElement&&this.triggerElement.setAttribute("aria-expanded","false")}handleSlotChange(){this.triggerElement=((e,i=5)=>{let n=e??null,r=0;if(t(n))return n;for(;n&&r<i;){if(n=n?.assignedElements?n?.assignedElements()?.[0]??null:n?.children[0]??null,t(n))return n;r++}return null})(this.slottedElements?.[0]??null)}sendActivatedEvent(){if(this.triggerElement?.hasAttribute("disabled"))return;if(!this.dialogId)return void console.warn("No dialogId set on rpl-dialog-trigger, unable to trigger");const e={dialogId:this.dialogId,triggerElement:this,noModal:this.noModal,action:this.action};this.emitter.dispatch("trigger-clicked",{bubbles:!0,composed:!0,detail:e})}render(){return e.x`<slot @slotchange="${this.handleSlotChange}"></slot>`}}e._([e.n({type:String,reflect:!0,attribute:"dialog-id"})],i.prototype,"dialogId",void 0),e._([e.n({type:Boolean,reflect:!0,attribute:"no-modal"})],i.prototype,"noModal",void 0),e._([e.n({type:String,reflect:!0})],i.prototype,"action",void 0),e._([e.r()],i.prototype,"slottedElements",void 0);var n=e.i`:host{display:contents}`;let r=class extends i{};r.styles=n,r=e._([e.e("rpl-dialog-trigger")],r)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./CCzrQmnfhp.js",import.meta.url,"CCzrQmnfhp");SML.di("./DuqlmJMEve.js",import.meta.url,"DuqlmJMEve");
SML.dm("CmYKFGzQfS",["CYrPuvCiTj","C8CrqKCiqJ","CCzrQmnfhp","DuqlmJMEve"],(async(t,e,i)=>{let s=window.location,o=class extends t.s{constructor(){super(...arguments),this.postId="",this.viewContext=e.P.AggregateFeed,this.viewType=t.ad.CardView,this.showFullContent=!1,this.isUpdatingPostBody=!1,this.pubsub=new t.z(this),this.onPostUpdateAction=({postId:s,action:o,value:r})=>{if(this.postId===s)switch(o){case i.a.edit:this.editController?.setEditing(r);break;case i.a.updatePostBodyPending:this.isUpdatingPostBody=r;break;case i.a.updateContent:this.dispatchEvent(t.d(e.f,{postId:s})),this.editController?.resetEditing()}},this.revealTruncatedContent=()=>{this.querySelector(`#${this.postId}-overflow-cover`)?.classList?.add(e.C),this.readMoreButton?.classList?.remove(e.x),this.readMoreButton?.classList?.add(e.C);const t=this.querySelector(`#${this.postId}-post-rtjson-content`);t?.classList?.remove(...e.B.split(" "))},this.handleClickReadMore=()=>{this.revealTruncatedContent(),this.dispatchEvent(t.d(e.R,{postId:this.postId}))}}get isPDP(){return e.i(this.viewContext)}get readMoreButton(){return this.querySelector(`#${this.postId}-read-more-button`)}connectedCallback(){this.pubsub.subscribe(t.T.PostUpdated,this.onPostUpdateAction),this.readMoreButton?.addEventListener("click",this.handleClickReadMore),t.g()&&this.initEditTools(),super.connectedCallback()}disconnectedCallback(){this.readMoreButton?.removeEventListener("click",this.handleClickReadMore),super.disconnectedCallback()}checkPostEditMode(){const e=new URLSearchParams(s.search);if(e.get(i.c)){this.pubsub.publish(t.T.PostUpdated,{postId:this.postId,action:i.a.edit,value:!0}),e.delete(i.c);const o=e.toString(),r=s.pathname+(o.length?"?":"")+o;window.history.replaceState({},document.title,r)}}async initEditTools(){const{EditController:t}=await Promise.resolve().then((function(){return d}));this.editController=new t(this,{getPostId:()=>this.postId,getViewContext:()=>this.viewContext});const{PartialUpdateController:e}=await SML.di("./CklYFqVWeP.js",import.meta.url,"CklYFqVWeP");this.partialUpdateController=new e(this,{getPostId:()=>this.postId,getViewContext:()=>this.viewContext,getViewType:()=>this.viewType,getSubredditPrefixedName:()=>this.subredditPrefixedName}),this.checkPostEditMode()}handleTextBodySlotChange(t){this.showFullContent||requestAnimationFrame((()=>this.hideContentOverflow()))}hideContentOverflow(){const t=this.querySelector(`#${this.postId}-post-rtjson-content`);if(!t)return;const i=this.querySelector(".post-content")||this.querySelector('div[slot="text-body"]'),s=i?.querySelectorAll("faceplate-img"),o=.2*window.innerHeight,r=(s?.length||0)*o,d=this.getMaxTextBodyHeight(t.clientHeight);t.scrollHeight+r>d&&(this.querySelector(`#${this.postId}-overflow-cover`)?.classList?.remove(e.C),this.readMoreButton?.classList?.remove(e.C),this.readMoreButton?.classList?.add(e.x))}getMaxTextBodyHeight(t){return this.isPDP?Math.max(t,253):208}render(){if(this.isUpdatingPostBody)return t.x` <faceplate-shimmer class="h-[200px] w-full px-md xs:px-0" shape="pill"></faceplate-shimmer> `;if(this.editController?.isEditing)return this.editController?.renderEditor();return t.x`<slot @slotchange="${this.handleTextBodySlotChange}" name="${"text-body"}"></slot>`}};o.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],o.prototype,"postId",void 0),t._([t.n({type:String,attribute:"view-context"})],o.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"view-type"})],o.prototype,"viewType",void 0),t._([t.n({type:String,attribute:"subreddit-prefixed-name"})],o.prototype,"subredditPrefixedName",void 0),t._([t.n({type:Boolean,attribute:"show-full-content"})],o.prototype,"showFullContent",void 0),t._([t.j()],o.prototype,"isUpdatingPostBody",void 0),o=t._([t.e("shreddit-post-text-body")],o);const r="fetch-post-edit";var d=Object.freeze({__proto__:null,EditController:class{get postId(){return this.args.getPostId()}get viewContext(){return this.args.getViewContext()}constructor(e,s){this.host=e,this.args=s,this._isEligibleForPartialUpdate=!1,this._renderedPartial=!1,this.isEditing=!1,this.setEditing=t=>{this._isEligibleForPartialUpdate&&(t&&!this._renderedPartial?this.host.dispatchEvent(new CustomEvent(r)):this.host.requestUpdate(),this.isEditing=t)},this.resetEditing=()=>{this.isEditing=!1,this._renderedPartial=!1},this.getAndRenderPostEditPartial=async()=>{t.p(t.T.PostUpdated,{postId:this.postId,action:i.a.updatePostBodyPending,value:!0});const e=`/svc/shreddit/edit-post/${this.postId}`,s=await this._partialRequest.request(e),o=await(s?.text());if(o){const e=(new DOMParser).parseFromString(o,"text/html").querySelector('[slot="post-editor"]');e?.innerHTML&&(t.aV(o,this.host,t.P.Append),this._renderedPartial=!0)}t.p(t.T.PostUpdated,{postId:this.postId,action:i.a.updatePostBodyPending,value:!1})},this.renderEditor=()=>t.x`<slot name="post-editor"></slot> `,this._partialRequest=new t.aU(e),e.addController(this)}hostConnected(){this._isEligibleForPartialUpdate=this.viewContext===e.P.CommentsPage,this._isEligibleForPartialUpdate&&this.host.addEventListener(r,this.getAndRenderPostEditPartial)}hostDisconnected(){this._isEligibleForPartialUpdate&&this.host.removeEventListener(r,this.getAndRenderPostEditPartial)}},FetchPostEditEvent:r})}));
SML.di("./BIlQ5upx3L.js",import.meta.url,"BIlQ5upx3L");SML.di("./Cg0QcPDSPN.js",import.meta.url,"Cg0QcPDSPN");SML.di("./CBEvrTHeKf.js",import.meta.url,"CBEvrTHeKf");SML.di("./CmYKFGzQfS.js",import.meta.url,"CmYKFGzQfS");SML.di("./BcLz9SQAFR.js",import.meta.url,"BcLz9SQAFR");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./D1jB1lRGDu.js",import.meta.url,"D1jB1lRGDu");SML.di("./B9Z38jXwJn.js",import.meta.url,"B9Z38jXwJn");SML.di("./CCQ28ZUd0-.js",import.meta.url,"CCQ28ZUd0-");SML.di("./CVt1u3m_U2.js",import.meta.url,"CVt1u3m_U2");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./CA_3X1MrHP.js",import.meta.url,"CA_3X1MrHP");SML.di("./CZtlI9NlXS.js",import.meta.url,"CZtlI9NlXS");SML.di("./BEcPDyVyFQ.js",import.meta.url,"BEcPDyVyFQ");SML.di("./CCzrQmnfhp.js",import.meta.url,"CCzrQmnfhp");SML.di("./By2sopqXTk.js",import.meta.url,"By2sopqXTk");SML.di("./hgVDyxZ2rL.js",import.meta.url,"hgVDyxZ2rL");SML.di("./COfLy9zygd.js",import.meta.url,"COfLy9zygd");SML.di("./gMEDXxO5ap.js",import.meta.url,"gMEDXxO5ap");SML.di("./D2VJiRUxKq.js",import.meta.url,"D2VJiRUxKq");SML.di("./BDMOQ0-Tf9.js",import.meta.url,"BDMOQ0-Tf9");SML.di("./vhsAG6S_0w.js",import.meta.url,"vhsAG6S_0w");SML.di("./3jd2bjBQv5.js",import.meta.url,"3jd2bjBQv5");SML.di("./DdQ8ToexAC.js",import.meta.url,"DdQ8ToexAC");SML.di("./CsnZoaUuMa.js",import.meta.url,"CsnZoaUuMa");SML.di("./zQvYWz_gjh.js",import.meta.url,"zQvYWz_gjh");SML.di("./CmAn0qma3f.js",import.meta.url,"CmAn0qma3f");SML.di("./BGnZpZ200J.js",import.meta.url,"BGnZpZ200J");SML.di("./DZiuwGhNTP.js",import.meta.url,"DZiuwGhNTP");SML.di("./DTFTCiYeLz.js",import.meta.url,"DTFTCiYeLz");SML.di("./DuqlmJMEve.js",import.meta.url,"DuqlmJMEve");SML.di("./CEf2DD9Ins.js",import.meta.url,"CEf2DD9Ins");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");SML.di("./DgaC1xItoR.js",import.meta.url,"DgaC1xItoR");SML.di("./CaC8XqiTGs.js",import.meta.url,"CaC8XqiTGs");SML.di("./DJJ9sof-xv.js",import.meta.url,"DJJ9sof-xv");SML.di("./B6C_8s9j0g.js",import.meta.url,"B6C_8s9j0g");SML.di("./BpkEtnKDO3.js",import.meta.url,"BpkEtnKDO3");SML.di("./B5-3_kcphz.js",import.meta.url,"B5-3_kcphz");SML.di("./DG0S1MfCCq.js",import.meta.url,"DG0S1MfCCq");SML.di("./rxXg4kAY8P.js",import.meta.url,"rxXg4kAY8P");SML.di("./DkWJZxM_zm.js",import.meta.url,"DkWJZxM_zm");SML.di("./005PrA1Byk.js",import.meta.url,"005PrA1Byk");SML.di("./C7tY_fu9Em.js",import.meta.url,"C7tY_fu9Em");SML.di("./Hw1PFKH8z9.js",import.meta.url,"Hw1PFKH8z9");SML.di("./B58tzg41t5.js",import.meta.url,"B58tzg41t5");SML.di("./DcxJbk2B3f.js",import.meta.url,"DcxJbk2B3f");SML.di("./HQokY_KEgH.js",import.meta.url,"HQokY_KEgH");SML.di("./41znR01Ful.js",import.meta.url,"41znR01Ful");SML.di("./pihWhdUG1Q.js",import.meta.url,"pihWhdUG1Q");SML.di("./BHY4TeT-gy.js",import.meta.url,"BHY4TeT-gy");SML.di("./CbYjzDlHSg.js",import.meta.url,"CbYjzDlHSg");SML.di("./CVFZT5qG1t.js",import.meta.url,"CVFZT5qG1t");SML.di("./Bv2UEnJP_M.js",import.meta.url,"Bv2UEnJP_M");SML.di("./Cv3__sHJQf.js",import.meta.url,"Cv3__sHJQf");SML.di("./Cb0u53dVtj.js",import.meta.url,"Cb0u53dVtj");SML.di("./CeSKxcW4bq.js",import.meta.url,"CeSKxcW4bq");SML.di("./Bs45UeNO_W.js",import.meta.url,"Bs45UeNO_W");SML.di("./Bb-T49I7YR.js",import.meta.url,"Bb-T49I7YR");SML.di("./G2F6lxYj4X.js",import.meta.url,"G2F6lxYj4X");SML.di("./CEkHpZAUVH.js",import.meta.url,"CEkHpZAUVH");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./BjEk0JHhrS.js",import.meta.url,"BjEk0JHhrS");SML.di("./DbgtMUjGRq.js",import.meta.url,"DbgtMUjGRq");SML.di("./BKIc7C4NNc.js",import.meta.url,"BKIc7C4NNc");SML.di("./CMNh7Qm-HC.js",import.meta.url,"CMNh7Qm-HC");SML.di("./CA7qO1Exxg.js",import.meta.url,"CA7qO1Exxg");SML.di("./CkEEx5T_uL.js",import.meta.url,"CkEEx5T_uL");SML.di("./BoQssu-hw1.js",import.meta.url,"BoQssu-hw1");SML.di("./CcWrGyc4YB.js",import.meta.url,"CcWrGyc4YB");SML.di("./ByPeQQGJ36.js",import.meta.url,"ByPeQQGJ36");SML.di("./DLdgTt_kCu.js",import.meta.url,"DLdgTt_kCu");SML.di("./BibysoM2ZF.js",import.meta.url,"BibysoM2ZF");SML.di("./BvPcMFr1Lr.js",import.meta.url,"BvPcMFr1Lr");SML.di("./BA-YMBSJ68.js",import.meta.url,"BA-YMBSJ68");
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("D5AbX8qLgg",["CYrPuvCiTj"],(async e=>{let s=class extends e.s{constructor(){super(...arguments),this.username=""}firstUpdated(){this.run()}shouldDispatchToast(e){const s=new Date(e).getTime();return!isNaN(s)&&Date.now()-s<=1e4}run(){const s=e.a6.getItem(e.a7.LoginTime);s&&this.shouldDispatchToast(s)&&this.dispatchEvent(e.d("faceplate-alert",{level:e.a0.notice,namedContent:{action:e.x``},message:`Logged in as ${this.username}`,sourceElement:"after-login-toast-dispatcher",cause:"user-login"}))}render(){return e.x``}};e._([e.n({type:String,attribute:"username"})],s.prototype,"username",void 0),s=e._([e.e("after-login-toast-dispatcher")],s)}));
SML.di("./CZtlI9NlXS.js",import.meta.url,"CZtlI9NlXS");SML.di("./BA-YMBSJ68.js",import.meta.url,"BA-YMBSJ68");SML.di("./Cszz6xIhIJ.js",import.meta.url,"Cszz6xIhIJ");SML.di("./hgVDyxZ2rL.js",import.meta.url,"hgVDyxZ2rL");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./COfLy9zygd.js",import.meta.url,"COfLy9zygd");SML.di("./gMEDXxO5ap.js",import.meta.url,"gMEDXxO5ap");SML.di("./D2VJiRUxKq.js",import.meta.url,"D2VJiRUxKq");SML.di("./BDMOQ0-Tf9.js",import.meta.url,"BDMOQ0-Tf9");SML.di("./vhsAG6S_0w.js",import.meta.url,"vhsAG6S_0w");SML.di("./3jd2bjBQv5.js",import.meta.url,"3jd2bjBQv5");SML.di("./DdQ8ToexAC.js",import.meta.url,"DdQ8ToexAC");SML.di("./CsnZoaUuMa.js",import.meta.url,"CsnZoaUuMa");
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./DJJ9sof-xv.js",import.meta.url,"DJJ9sof-xv");SML.di("./DHTUnmCcdt.js",import.meta.url,"DHTUnmCcdt");SML.di("./OlPU10fC99.js",import.meta.url,"OlPU10fC99");SML.di("./DZiuwGhNTP.js",import.meta.url,"DZiuwGhNTP");SML.di("./mllHpUI322.js",import.meta.url,"mllHpUI322");SML.di("./K2R-k6uMNv.js",import.meta.url,"K2R-k6uMNv");SML.di("./Dm8cQHQfWH.js",import.meta.url,"Dm8cQHQfWH");SML.di("./CBp0iHQU2Y.js",import.meta.url,"CBp0iHQU2Y");SML.di("./B_JCIjxvZc.js",import.meta.url,"B_JCIjxvZc");SML.di("./-gARXes9C-.js",import.meta.url,"-gARXes9C-");SML.di("./BkeOOvXyxu.js",import.meta.url,"BkeOOvXyxu");SML.di("./BA-YMBSJ68.js",import.meta.url,"BA-YMBSJ68");SML.di("./CEf2DD9Ins.js",import.meta.url,"CEf2DD9Ins");SML.di("./CcWrGyc4YB.js",import.meta.url,"CcWrGyc4YB");SML.di("./DexfRc7sX8.js",import.meta.url,"DexfRc7sX8");SML.di("./CmYKFGzQfS.js",import.meta.url,"CmYKFGzQfS");SML.di("./BcLz9SQAFR.js",import.meta.url,"BcLz9SQAFR");SML.di("./Ba1OdyQt-v.js",import.meta.url,"Ba1OdyQt-v");SML.di("./B6C_8s9j0g.js",import.meta.url,"B6C_8s9j0g");SML.di("./BpkEtnKDO3.js",import.meta.url,"BpkEtnKDO3");SML.di("./B5-3_kcphz.js",import.meta.url,"B5-3_kcphz");SML.di("./CCzrQmnfhp.js",import.meta.url,"CCzrQmnfhp");SML.di("./By2sopqXTk.js",import.meta.url,"By2sopqXTk");SML.di("./DTFTCiYeLz.js",import.meta.url,"DTFTCiYeLz");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./CZtlI9NlXS.js",import.meta.url,"CZtlI9NlXS");SML.di("./DuqlmJMEve.js",import.meta.url,"DuqlmJMEve");SML.di("./DgaC1xItoR.js",import.meta.url,"DgaC1xItoR");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");SML.di("./CaC8XqiTGs.js",import.meta.url,"CaC8XqiTGs");SML.di("./DG0S1MfCCq.js",import.meta.url,"DG0S1MfCCq");SML.di("./rxXg4kAY8P.js",import.meta.url,"rxXg4kAY8P");SML.di("./DkWJZxM_zm.js",import.meta.url,"DkWJZxM_zm");SML.di("./005PrA1Byk.js",import.meta.url,"005PrA1Byk");SML.di("./B9Z38jXwJn.js",import.meta.url,"B9Z38jXwJn");SML.di("./C7tY_fu9Em.js",import.meta.url,"C7tY_fu9Em");SML.di("./BGnZpZ200J.js",import.meta.url,"BGnZpZ200J");SML.di("./Hw1PFKH8z9.js",import.meta.url,"Hw1PFKH8z9");SML.di("./B58tzg41t5.js",import.meta.url,"B58tzg41t5");SML.di("./DcxJbk2B3f.js",import.meta.url,"DcxJbk2B3f");SML.di("./HQokY_KEgH.js",import.meta.url,"HQokY_KEgH");SML.di("./41znR01Ful.js",import.meta.url,"41znR01Ful");SML.di("./D1jB1lRGDu.js",import.meta.url,"D1jB1lRGDu");SML.di("./pihWhdUG1Q.js",import.meta.url,"pihWhdUG1Q");SML.di("./BHY4TeT-gy.js",import.meta.url,"BHY4TeT-gy");SML.di("./CbYjzDlHSg.js",import.meta.url,"CbYjzDlHSg");SML.di("./CVFZT5qG1t.js",import.meta.url,"CVFZT5qG1t");SML.di("./Bv2UEnJP_M.js",import.meta.url,"Bv2UEnJP_M");SML.di("./CmAn0qma3f.js",import.meta.url,"CmAn0qma3f");SML.di("./Cv3__sHJQf.js",import.meta.url,"Cv3__sHJQf");SML.di("./Cb0u53dVtj.js",import.meta.url,"Cb0u53dVtj");SML.di("./CeSKxcW4bq.js",import.meta.url,"CeSKxcW4bq");SML.di("./Bs45UeNO_W.js",import.meta.url,"Bs45UeNO_W");SML.di("./Bb-T49I7YR.js",import.meta.url,"Bb-T49I7YR");SML.di("./G2F6lxYj4X.js",import.meta.url,"G2F6lxYj4X");SML.di("./CEkHpZAUVH.js",import.meta.url,"CEkHpZAUVH");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./BjEk0JHhrS.js",import.meta.url,"BjEk0JHhrS");SML.di("./DbgtMUjGRq.js",import.meta.url,"DbgtMUjGRq");SML.di("./BKIc7C4NNc.js",import.meta.url,"BKIc7C4NNc");SML.di("./CMNh7Qm-HC.js",import.meta.url,"CMNh7Qm-HC");SML.di("./CA7qO1Exxg.js",import.meta.url,"CA7qO1Exxg");SML.di("./zQvYWz_gjh.js",import.meta.url,"zQvYWz_gjh");SML.di("./CkEEx5T_uL.js",import.meta.url,"CkEEx5T_uL");SML.di("./BoQssu-hw1.js",import.meta.url,"BoQssu-hw1");SML.di("./D2VJiRUxKq.js",import.meta.url,"D2VJiRUxKq");SML.di("./ByPeQQGJ36.js",import.meta.url,"ByPeQQGJ36");SML.di("./DLdgTt_kCu.js",import.meta.url,"DLdgTt_kCu");SML.di("./Cszz6xIhIJ.js",import.meta.url,"Cszz6xIhIJ");SML.di("./BO1LrDxm4o.js",import.meta.url,"BO1LrDxm4o");SML.di("./CA_3X1MrHP.js",import.meta.url,"CA_3X1MrHP");SML.di("./CPc507yujZ.js",import.meta.url,"CPc507yujZ");SML.di("./DiH4zLRIso.js",import.meta.url,"DiH4zLRIso");SML.di("./DNWCS1rLQE.js",import.meta.url,"DNWCS1rLQE");SML.di("./DFvuM_MTkg.js",import.meta.url,"DFvuM_MTkg");SML.di("./BWUv70NGv2.js",import.meta.url,"BWUv70NGv2");SML.di("./CYHAYFiK-j.js",import.meta.url,"CYHAYFiK-j");SML.di("./tXzIaFuSwM.js",import.meta.url,"tXzIaFuSwM");SML.di("./DGvV9ljiFl.js",import.meta.url,"DGvV9ljiFl");SML.di("./Xj9Z_fzyKi.js",import.meta.url,"Xj9Z_fzyKi");SML.di("./CYTfL7o2sC.js",import.meta.url,"CYTfL7o2sC");
SML.dm("DDg8qilm1u",["CYrPuvCiTj","DJJ9sof-xv","DHTUnmCcdt","OlPU10fC99","DZiuwGhNTP","mllHpUI322","K2R-k6uMNv","Dm8cQHQfWH","CBp0iHQU2Y","B_JCIjxvZc","-gARXes9C-","BkeOOvXyxu","BA-YMBSJ68","CEf2DD9Ins","CcWrGyc4YB","DexfRc7sX8","CmYKFGzQfS","BcLz9SQAFR","Ba1OdyQt-v","B6C_8s9j0g","BpkEtnKDO3","B5-3_kcphz","CCzrQmnfhp","By2sopqXTk","DTFTCiYeLz","wzdls1o9Kk","CZtlI9NlXS","DuqlmJMEve","DgaC1xItoR","B39chFHLCe","DGkwklwWNC","CaC8XqiTGs","DG0S1MfCCq","rxXg4kAY8P","DkWJZxM_zm","005PrA1Byk","B9Z38jXwJn","C7tY_fu9Em","BGnZpZ200J","Hw1PFKH8z9","B58tzg41t5","DcxJbk2B3f","HQokY_KEgH","41znR01Ful","D1jB1lRGDu","pihWhdUG1Q","BHY4TeT-gy","CbYjzDlHSg","CVFZT5qG1t","Bv2UEnJP_M","CmAn0qma3f","Cv3__sHJQf","Cb0u53dVtj","CeSKxcW4bq","Bs45UeNO_W","Bb-T49I7YR","G2F6lxYj4X","CEkHpZAUVH","BtqmVQuPYp","C8CrqKCiqJ","BjEk0JHhrS","DbgtMUjGRq","BKIc7C4NNc","CMNh7Qm-HC","CA7qO1Exxg","zQvYWz_gjh","CkEEx5T_uL","BoQssu-hw1","D2VJiRUxKq","ByPeQQGJ36","DLdgTt_kCu","Cszz6xIhIJ","BO1LrDxm4o","CA_3X1MrHP","CPc507yujZ","DiH4zLRIso","DNWCS1rLQE","DFvuM_MTkg","BWUv70NGv2","CYHAYFiK-j","tXzIaFuSwM","DGvV9ljiFl","Xj9Z_fzyKi","CYTfL7o2sC"],(async E=>{let T=class extends E.s{constructor(){super(...arguments),this.isTranslationActive=!1,this.isTranslationFetched=!1,this.isOriginalFetched=!0,this.updateTranslationFetchedState=()=>{const E=this.shadowRoot?.querySelector('slot[name="translated"]');this.isTranslationFetched=(E?.assignedNodes().length||0)>0;const T=this.shadowRoot?.querySelector("slot#original");this.isOriginalFetched=(T?.assignedNodes().length||0)>0}}connectedCallback(){super.connectedCallback(),this.updateTranslationFetchedState()}appendTranslation(E){E&&!this.isTranslationFetched&&(E.setAttribute("slot","translated"),this.appendChild(E))}appendOriginalText(E){E&&!this.isOriginalFetched&&(E.removeAttribute("slot"),this.appendChild(E))}render(){const T=this.isTranslationActive&&this.isTranslationFetched;return E.x` <slot id="original" class="${T?"hidden":"contents"}" @slotchange="${this.updateTranslationFetchedState}"></slot> <slot name="translated" class="${T?"contents":"hidden"}" @slotchange="${this.updateTranslationFetchedState}"></slot> `}};T.styles=[E.t],E._([E.n({type:Boolean,attribute:"is-translation-active",reflect:!0})],T.prototype,"isTranslationActive",void 0),E._([E.j()],T.prototype,"isTranslationFetched",void 0),E._([E.j()],T.prototype,"isOriginalFetched",void 0),T=E._([E.e("translatable-text")],T)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./rxXg4kAY8P.js",import.meta.url,"rxXg4kAY8P");SML.di("./DkWJZxM_zm.js",import.meta.url,"DkWJZxM_zm");
SML.dm("DG0S1MfCCq",["CYrPuvCiTj","rxXg4kAY8P","DkWJZxM_zm"],(async(t,e,s)=>{const i=s.W(t.s);let o=class extends i{constructor(){super(...arguments),this.shareButtonText="",this.permalink="",this.size=t.v.Medium,this.menuSize=e.L.Medium,this.buttonClass="",this.isDesktopViewport=!1,this.ssr=!1,this.appearance="secondary",this.shareMenuFeatureName=t.aL,this.shareMenuTemplateId=s.S,this.useButton=!1,this.useMenu=!1,this.showFullButtons=!1,this.translationLanguage=""}static get styles(){return[t.t]}handlePostShareClick(t){this.isAllowedEvent(t)&&(this.isDesktopViewport?this.handleDesktopShareClick(t):this.handleMobileShareClick(t),this.ssr&&(this.isShareDropdownOpened?this.handleShareDropdownClose():this.handleShareDropdownOpen()))}render(){return this.ssr?t.x`<slot name="ssr-share-button" @click="${this.handlePostShareClick}" @keydown="${this.handlePostShareClick}"></slot>`:this.useMenu?this.renderOnlyShareMenuItem({handleShareClick:this.handlePostShareClick,menuSize:this.menuSize,attributes:{className:this.buttonClass}}):this.useButton?this.renderOnlyShareButton({handleShareClick:this.handlePostShareClick,size:this.size,attributes:{className:this.buttonClass},showFullButtons:this.showFullButtons}):this.renderShareDropdown({handleShareClick:this.handlePostShareClick,appearance:this.appearance,size:this.size,shareButtonText:this.shareButtonText,attributes:{className:this.buttonClass}})}};t._([t.n({type:String,attribute:"share-button-text"})],o.prototype,"shareButtonText",void 0),t._([t.n({type:String})],o.prototype,"permalink",void 0),t._([t.n({type:String})],o.prototype,"size",void 0),t._([t.n({type:String})],o.prototype,"menuSize",void 0),t._([t.n({type:String,attribute:"button-class"})],o.prototype,"buttonClass",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],o.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"ssr"})],o.prototype,"ssr",void 0),t._([t.n({type:String})],o.prototype,"appearance",void 0),t._([t.n({type:String,attribute:"share-menu-feature-name"})],o.prototype,"shareMenuFeatureName",void 0),t._([t.n({type:String,attribute:"share-menu-template-id"})],o.prototype,"shareMenuTemplateId",void 0),t._([t.n({type:Boolean,attribute:"use-button"})],o.prototype,"useButton",void 0),t._([t.n({type:Boolean,attribute:"use-menu"})],o.prototype,"useMenu",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],o.prototype,"showFullButtons",void 0),t._([t.n({type:String})],o.prototype,"translationLanguage",void 0),o=t._([t.e("shreddit-post-share-button")],o)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("DGkwklwWNC",["CYrPuvCiTj"],(async t=>{const e=Math.min,o=Math.max,n=Math.round,i=Math.floor,r=t=>({x:t,y:t}),a={left:"right",right:"left",bottom:"top",top:"bottom"},s={start:"end",end:"start"};function l(t,n,i){return o(t,e(n,i))}function c(t,e){return"function"==typeof t?t(e):t}function p(t){return t.split("-")[0]}function f(t){return t.split("-")[1]}function h(t){return"x"===t?"y":"x"}function u(t){return"y"===t?"height":"width"}function d(t){return["top","bottom"].includes(p(t))?"y":"x"}function m(t){return h(d(t))}function y(t){return t.replace(/start|end/g,(t=>s[t]))}function g(t){return t.replace(/left|right|bottom|top/g,(t=>a[t]))}function v(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function b(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function w(t,e,o){let{reference:n,floating:i}=t;const r=d(e),a=m(e),s=u(a),l=p(e),c="y"===r,h=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,g=n[s]/2-i[s]/2;let v;switch(l){case"top":v={x:h,y:n.y-i.height};break;case"bottom":v={x:h,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y};break;case"left":v={x:n.x-i.width,y};break;default:v={x:n.x,y:n.y}}switch(f(e)){case"start":v[a]-=g*(o&&c?-1:1);break;case"end":v[a]+=g*(o&&c?-1:1)}return v}async function x(t,e){var o;void 0===e&&(e={});const{x:n,y:i,platform:r,rects:a,elements:s,strategy:l}=t,{boundary:p="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:u=!1,padding:d=0}=c(e,t),m=v(d),y=s[u?"floating"===h?"reference":"floating":h],g=b(await r.getClippingRect({element:null==(o=await(null==r.isElement?void 0:r.isElement(y)))||o?y:y.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(s.floating)),boundary:p,rootBoundary:f,strategy:l})),w="floating"===h?{...a.floating,x:n,y:i}:a.reference,x=await(null==r.getOffsetParent?void 0:r.getOffsetParent(s.floating)),P=await(null==r.isElement?void 0:r.isElement(x))&&await(null==r.getScale?void 0:r.getScale(x))||{x:1,y:1},E=b(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:x,strategy:l}):w);return{top:(g.top-E.top+m.top)/P.y,bottom:(E.bottom-g.bottom+m.bottom)/P.y,left:(g.left-E.left+m.left)/P.x,right:(E.right-g.right+m.right)/P.x}}const P=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:r,rects:a,initialPlacement:s,platform:l,elements:h}=e,{mainAxis:d=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:E=!0,...R}=c(t,e);if(null!=(o=r.arrow)&&o.alignmentOffset)return{};const S=p(i),z=p(s)===s,T=await(null==l.isRTL?void 0:l.isRTL(h.floating)),A=b||(z||!E?[g(s)]:function(t){const e=g(t);return[y(t),e,y(e)]}(s));b||"none"===P||A.push(...function(t,e,o,n){const i=f(t);let r=function(t,e,o){const n=["left","right"],i=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return o?e?i:n:e?n:i;case"left":case"right":return e?r:a;default:return[]}}(p(t),"start"===o,n);return i&&(r=r.map((t=>t+"-"+i)),e&&(r=r.concat(r.map(y)))),r}(s,E,P,T));const L=[s,...A],k=await x(e,R),O=[];let C=(null==(n=r.flip)?void 0:n.overflows)||[];if(d&&O.push(k[S]),v){const t=function(t,e,o){void 0===o&&(o=!1);const n=f(t),i=m(t),r=u(i);let a="x"===i?n===(o?"end":"start")?"right":"left":"start"===n?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=g(a)),[a,g(a)]}(i,a,T);O.push(k[t[0]],k[t[1]])}if(C=[...C,{placement:i,overflows:O}],!O.every((t=>t<=0))){var _,B;const t=((null==(_=r.flip)?void 0:_.index)||0)+1,e=L[t];if(e)return{data:{index:t,overflows:C},reset:{placement:e}};let o=null==(B=C.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:B.placement;if(!o)switch(w){case"bestFit":{var D;const t=null==(D=C.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:D[0];t&&(o=t);break}case"initialPlacement":o=s}if(i!==o)return{reset:{placement:o}}}return{}}}};const E=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:r,placement:a,middlewareData:s}=e,l=await async function(t,e){const{placement:o,platform:n,elements:i}=t,r=await(null==n.isRTL?void 0:n.isRTL(i.floating)),a=p(o),s=f(o),l="y"===d(o),h=["left","top"].includes(a)?-1:1,u=r&&l?-1:1,m=c(e,t);let{mainAxis:y,crossAxis:g,alignmentAxis:v}="number"==typeof m?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return s&&"number"==typeof v&&(g="end"===s?-1*v:v),l?{x:g*u,y:y*h}:{x:y*h,y:g*u}}(e,t);return a===(null==(o=s.offset)?void 0:o.placement)&&null!=(n=s.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:r+l.y,data:{...l,placement:a}}}}},R=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(n){const{placement:i,rects:r,platform:a,elements:s}=n,{apply:l=()=>{},...h}=c(t,n),u=await x(n,h),m=p(i),y=f(i),g="y"===d(i),{width:v,height:b}=r.floating;let w,P;"top"===m||"bottom"===m?(w=m,P=y===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(P=m,w="end"===y?"top":"bottom");const E=b-u[w],R=v-u[P],S=!n.middlewareData.shift;let z=E,T=R;if(g){const t=v-u.left-u.right;T=y||S?e(R,t):t}else{const t=b-u.top-u.bottom;z=y||S?e(E,t):t}if(S&&!y){const t=o(u.left,0),e=o(u.right,0),n=o(u.top,0),i=o(u.bottom,0);g?T=v-2*(0!==t||0!==e?t+e:o(u.left,u.right)):z=b-2*(0!==n||0!==i?n+i:o(u.top,u.bottom))}await l({...n,availableWidth:T,availableHeight:z});const A=await a.getDimensions(s.floating);return v!==A.width||b!==A.height?{reset:{rects:!0}}:{}}}};function S(t){return A(t)?(t.nodeName||"").toLowerCase():"#document"}function z(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function T(t){var e;return null==(e=(A(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function A(t){return t instanceof Node||t instanceof z(t).Node}function L(t){return t instanceof Element||t instanceof z(t).Element}function k(t){return t instanceof HTMLElement||t instanceof z(t).HTMLElement}function O(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof z(t).ShadowRoot)}function C(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=F(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function _(t){return["table","td","th"].includes(S(t))}function B(t){const e=D(),o=F(t);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!e&&!!o.backdropFilter&&"none"!==o.backdropFilter||!e&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((t=>(o.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(o.contain||"").includes(t)))}function D(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function $(t){return["html","body","#document"].includes(S(t))}function F(t){return z(t).getComputedStyle(t)}function N(t){return L(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function H(t){if("html"===S(t))return t;const e=t.assignedSlot||t.parentNode||O(t)&&t.host||T(t);return O(e)?e.host:e}function M(t){const e=H(t);return $(e)?t.ownerDocument?t.ownerDocument.body:t.body:k(e)&&C(e)?e:M(e)}function W(t,e,o){var n;void 0===e&&(e=[]),void 0===o&&(o=!0);const i=M(t),r=i===(null==(n=t.ownerDocument)?void 0:n.body),a=z(i);return r?e.concat(a,a.visualViewport||[],C(i)?i:[],a.frameElement&&o?W(a.frameElement):[]):e.concat(i,W(i,[],o))}function V(t){const e=F(t);let o=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=k(t),a=r?t.offsetWidth:o,s=r?t.offsetHeight:i,l=n(o)!==a||n(i)!==s;return l&&(o=a,i=s),{width:o,height:i,$:l}}function j(t){return L(t)?t:t.contextElement}function I(t){const e=j(t);if(!k(e))return r(1);const o=e.getBoundingClientRect(),{width:i,height:a,$:s}=V(e);let l=(s?n(o.width):o.width)/i,c=(s?n(o.height):o.height)/a;return l&&Number.isFinite(l)||(l=1),c&&Number.isFinite(c)||(c=1),{x:l,y:c}}const q=r(0);function Y(t){const e=z(t);return D()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:q}function Q(t,e,o,n){void 0===e&&(e=!1),void 0===o&&(o=!1);const i=t.getBoundingClientRect(),a=j(t);let s=r(1);e&&(n?L(n)&&(s=I(n)):s=I(t));const l=function(t,e,o){return void 0===e&&(e=!1),!(!o||e&&o!==z(t))&&e}(a,o,n)?Y(a):r(0);let c=(i.left+l.x)/s.x,p=(i.top+l.y)/s.y,f=i.width/s.x,h=i.height/s.y;if(a){const t=z(a),e=n&&L(n)?z(n):n;let o=t.frameElement;for(;o&&n&&e!==t;){const t=I(o),e=o.getBoundingClientRect(),n=F(o),i=e.left+(o.clientLeft+parseFloat(n.paddingLeft))*t.x,r=e.top+(o.clientTop+parseFloat(n.paddingTop))*t.y;c*=t.x,p*=t.y,f*=t.x,h*=t.y,c+=i,p+=r,o=z(o).frameElement}}return b({width:f,height:h,x:c,y:p})}function X(t){return Q(T(t)).left+N(t).scrollLeft}function U(t,e,n){let i;if("viewport"===e)i=function(t,e){const o=z(t),n=T(t),i=o.visualViewport;let r=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){r=i.width,a=i.height;const t=D();(!t||t&&"fixed"===e)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:r,height:a,x:s,y:l}}(t,n);else if("document"===e)i=function(t){const e=T(t),n=N(t),i=t.ownerDocument.body,r=o(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=o(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+X(t);const l=-n.scrollTop;return"rtl"===F(i).direction&&(s+=o(e.clientWidth,i.clientWidth)-r),{width:r,height:a,x:s,y:l}}(T(t));else if(L(e))i=function(t,e){const o=Q(t,!0,"fixed"===e),n=o.top+t.clientTop,i=o.left+t.clientLeft,a=k(t)?I(t):r(1);return{width:t.clientWidth*a.x,height:t.clientHeight*a.y,x:i*a.x,y:n*a.y}}(e,n);else{const o=Y(t);i={...e,x:e.x-o.x,y:e.y-o.y}}return b(i)}function G(t,e){const o=H(t);return!(o===e||!L(o)||$(o))&&("fixed"===F(o).position||G(o,e))}function J(t,e,o){const n=k(e),i=T(e),a="fixed"===o,s=Q(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=r(0);if(n||!n&&!a)if(("body"!==S(e)||C(i))&&(l=N(e)),n){const t=Q(e,!0,a,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else i&&(c.x=X(i));return{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function K(t,e){return k(t)&&"fixed"!==F(t).position?e?e(t):t.offsetParent:null}function Z(t,e){const o=z(t);if(!k(t))return o;let n=K(t,e);for(;n&&_(n)&&"static"===F(n).position;)n=K(n,e);return n&&("html"===S(n)||"body"===S(n)&&"static"===F(n).position&&!B(n))?o:n||function(t){let e=H(t);for(;k(e)&&!$(e);){if(B(e))return e;e=H(e)}return null}(t)||o}const tt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:n}=t;const i=k(o),a=T(o);if(o===a)return e;let s={scrollLeft:0,scrollTop:0},l=r(1);const c=r(0);if((i||!i&&"fixed"!==n)&&(("body"!==S(o)||C(a))&&(s=N(o)),k(o))){const t=Q(o);l=I(o),c.x=t.x+o.clientLeft,c.y=t.y+o.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-s.scrollLeft*l.x+c.x,y:e.y*l.y-s.scrollTop*l.y+c.y}},getDocumentElement:T,getClippingRect:function(t){let{element:n,boundary:i,rootBoundary:r,strategy:a}=t;const s=[..."clippingAncestors"===i?function(t,e){const o=e.get(t);if(o)return o;let n=W(t,[],!1).filter((t=>L(t)&&"body"!==S(t))),i=null;const r="fixed"===F(t).position;let a=r?H(t):t;for(;L(a)&&!$(a);){const e=F(a),o=B(a);o||"fixed"!==e.position||(i=null),(r?!o&&!i:!o&&"static"===e.position&&i&&["absolute","fixed"].includes(i.position)||C(a)&&!o&&G(t,a))?n=n.filter((t=>t!==a)):i=e,a=H(a)}return e.set(t,n),n}(n,this._c):[].concat(i),r],l=s[0],c=s.reduce(((t,i)=>{const r=U(n,i,a);return t.top=o(r.top,t.top),t.right=e(r.right,t.right),t.bottom=e(r.bottom,t.bottom),t.left=o(r.left,t.left),t}),U(n,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:Z,getElementRects:async function(t){let{reference:e,floating:o,strategy:n}=t;const i=this.getOffsetParent||Z,r=this.getDimensions;return{reference:J(e,await i(o),n),floating:{x:0,y:0,...await r(o)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return V(t)},getScale:I,isElement:L,isRTL:function(t){return"rtl"===F(t).direction}};function et(t,n,r,a){void 0===a&&(a={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:p="function"==typeof IntersectionObserver,animationFrame:f=!1}=a,h=j(t),u=s||l?[...h?W(h):[],...W(n)]:[];u.forEach((t=>{s&&t.addEventListener("scroll",r,{passive:!0}),l&&t.addEventListener("resize",r)}));const d=h&&p?function(t,n){let r,a=null;const s=T(t);function l(){clearTimeout(r),a&&a.disconnect(),a=null}return function c(p,f){void 0===p&&(p=!1),void 0===f&&(f=1),l();const{left:h,top:u,width:d,height:m}=t.getBoundingClientRect();if(p||n(),!d||!m)return;const y={rootMargin:-i(u)+"px "+-i(s.clientWidth-(h+d))+"px "+-i(s.clientHeight-(u+m))+"px "+-i(h)+"px",threshold:o(0,e(1,f))||1};let g=!0;function v(t){const e=t[0].intersectionRatio;if(e!==f){if(!g)return c();e?c(!1,e):r=setTimeout((()=>{c(!1,1e-7)}),100)}g=!1}try{a=new IntersectionObserver(v,{...y,root:s.ownerDocument})}catch(t){a=new IntersectionObserver(v,y)}a.observe(t)}(!0),l}(h,r):null;let m,y=-1,g=null;c&&(g=new ResizeObserver((t=>{let[e]=t;e&&e.target===h&&g&&(g.unobserve(n),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{g&&g.observe(n)}))),r()})),h&&!f&&g.observe(h),g.observe(n));let v=f?Q(t):null;return f&&function e(){const o=Q(t);!v||o.x===v.x&&o.y===v.y&&o.width===v.width&&o.height===v.height||r();v=o,m=requestAnimationFrame(e)}(),r(),()=>{u.forEach((t=>{s&&t.removeEventListener("scroll",r),l&&t.removeEventListener("resize",r)})),d&&d(),g&&g.disconnect(),g=null,f&&cancelAnimationFrame(m)}}const ot=(t,e,o)=>{const n=new Map,i={platform:tt,...o},r={...i.platform,_c:n};return(async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:a}=o,s=r.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:f}=w(c,n,l),h=n,u={},d=0;for(let o=0;o<s.length;o++){const{name:r,fn:m}=s[o],{x:y,y:g,data:v,reset:b}=await m({x:p,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:u,rects:c,platform:a,elements:{reference:t,floating:e}});p=null!=y?y:p,f=null!=g?g:f,u={...u,[r]:{...u[r],...v}},b&&d<=50&&(d++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:t,floating:e,strategy:i}):b.rects),({x:p,y:f}=w(c,h,l))),o=-1)}return{x:p,y:f,placement:h,strategy:i,middlewareData:u}})(t,e,{...i,platform:r})};function nt(t){return function(t){for(let e=t;e;e=it(e))if(e instanceof Element&&"none"===getComputedStyle(e).display)return null;for(let e=it(t);e;e=it(e)){if(!(e instanceof Element))continue;const t=getComputedStyle(e);if("contents"!==t.display){if("static"!==t.position||"none"!==t.filter)return e;if("BODY"===e.tagName)return e}}return null}(t)}function it(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}var rt=t.i`${t.a2}:host{--arrow-color:var(--color-neutral-background-strong);--arrow-size:6px;--arrow-size-diagonal:calc(var(--arrow-size) * 0.7071);--arrow-padding-offset:calc(var(--arrow-size-diagonal) - var(--arrow-size));display:contents}.popup{position:absolute;isolation:isolate;max-width:var(--auto-size-available-width,none);max-height:var(--auto-size-available-height,none)}.popup--fixed{position:fixed}.popup:not(.popup--active){display:none}.popup--arrow{position:absolute;width:calc(var(--arrow-size-diagonal) * 2);height:calc(var(--arrow-size-diagonal) * 2);rotate:45deg;background:var(--arrow-color)}.popup-safe-area:not(.popup-safe-area--visible){display:none}.popup-safe-area{position:fixed;z-index:calc(var(--faceplate-tooltip-z-index,1) - 1);inset:0;clip-path:polygon(var(--safe-area-top-left-x,0) var(--safe-area-top-left-y,0),var(--safe-area-top-right-x,0) var(--safe-area-top-right-y,0),var(--safe-area-bottom-right-x,0) var(--safe-area-bottom-right-y,0),var(--safe-area-bottom-left-x,0) var(--safe-area-bottom-left-y,0))}`;const at={Top:"top",TopStart:"top-start",TopEnd:"top-end",Bottom:"bottom",BottomStart:"bottom-start",BottomEnd:"bottom-end",Right:"right",RightStart:"right-start",RightEnd:"right-end",Left:"left",LeftStart:"left-start",LeftEnd:"left-end"},st="anchor";class lt extends t.R{constructor(){super(...arguments),this.anchorEl=null,this.active=!1,this.placement=at.Top,this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement=st,this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.safeArea=!1,this.updateSafeArea=()=>{if(!this.safeArea||!this.anchorEl)return;const t=this.anchorEl.getBoundingClientRect(),e=this.popup.getBoundingClientRect();let o=0,n=0,i=0,r=0,a=0,s=0,l=0,c=0;this.placement.includes("top")||this.placement.includes("bottom")?t.top<e.top?(o=t.left,n=t.bottom,i=t.right,r=t.bottom,a=e.left,s=e.top,l=e.right,c=e.top):(o=e.left,n=e.bottom,i=e.right,r=e.bottom,a=t.left,s=t.top,l=t.right,c=t.top):t.left<e.left?(o=t.right,n=t.top,i=e.left,r=e.top,a=t.right,s=t.bottom,l=e.left,c=e.bottom):(o=e.right,n=e.top,i=t.left,r=t.top,a=e.right,s=e.bottom,l=t.left,c=t.bottom),this.style.setProperty("--safe-area-top-left-x",`${o}px`),this.style.setProperty("--safe-area-top-left-y",`${n}px`),this.style.setProperty("--safe-area-top-right-x",`${i}px`),this.style.setProperty("--safe-area-top-right-y",`${r}px`),this.style.setProperty("--safe-area-bottom-left-x",`${a}px`),this.style.setProperty("--safe-area-bottom-left-y",`${s}px`),this.style.setProperty("--safe-area-bottom-right-x",`${l}px`),this.style.setProperty("--safe-area-bottom-right-y",`${c}px`)}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(t){super.updated(t),t.has("active")&&(this.active?this.start():this.stop()),t.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&"string"==typeof this.anchor){const t=this.getRootNode();this.anchorEl=t.getElementById(this.anchor)}else this.anchor instanceof Element||null!==(t=this.anchor)&&"object"==typeof t&&"getBoundingClientRect"in t?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');var t;this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=et(this.anchorEl,this.popup,(()=>{this.reposition()})))}async stop(){return new Promise((t=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame((()=>t()))):t()}))}reposition(){if(!this.active||!this.anchorEl)return;const t=[E({mainAxis:this.distance,crossAxis:this.skidding})];var o;this.sync?t.push(R({apply:({rects:t})=>{const e="width"===this.sync||"both"===this.sync,o="height"===this.sync||"both"===this.sync;this.popup.style.width=e?`${t.reference.width}px`:"",this.popup.style.height=o?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&t.push(P({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:"best-fit"===this.flipFallbackStrategy?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&t.push((void 0===(o={boundary:this.shiftBoundary,padding:this.shiftPadding})&&(o={}),{name:"shift",options:o,async fn(t){const{x:e,y:n,placement:i}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:s={fn:t=>{let{x:e,y:o}=t;return{x:e,y:o}}},...f}=c(o,t),u={x:e,y:n},m=await x(t,f),y=d(p(i)),g=h(y);let v=u[g],b=u[y];if(r){const t="y"===g?"bottom":"right";v=l(v+m["y"===g?"top":"left"],v,v-m[t])}if(a){const t="y"===y?"bottom":"right";b=l(b+m["y"===y?"top":"left"],b,b-m[t])}const w=s.fn({...t,[g]:v,[y]:b});return{...w,data:{x:w.x-e,y:w.y-n}}}})),this.autoSize?t.push(R({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:e})=>{"vertical"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-height",`${e}px`):this.style.removeProperty("--auto-size-available-height"),"horizontal"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&t.push((t=>({name:"arrow",options:t,async fn(o){const{x:n,y:i,placement:r,rects:a,platform:s,elements:p,middlewareData:h}=o,{element:d,padding:y=0}=c(t,o)||{};if(null==d)return{};const g=v(y),b={x:n,y:i},w=m(r),x=u(w),P=await s.getDimensions(d),E="y"===w,R=E?"top":"left",S=E?"bottom":"right",z=E?"clientHeight":"clientWidth",T=a.reference[x]+a.reference[w]-b[w]-a.floating[x],A=b[w]-a.reference[w],L=await(null==s.getOffsetParent?void 0:s.getOffsetParent(d));let k=L?L[z]:0;k&&await(null==s.isElement?void 0:s.isElement(L))||(k=p.floating[z]||a.floating[x]);const O=T/2-A/2,C=k/2-P[x]/2-1,_=e(g[R],C),B=e(g[S],C),D=_,$=k-P[x]-B,F=k/2-P[x]/2+O,N=l(D,F,$),H=!h.arrow&&null!=f(r)&&F!=N&&a.reference[x]/2-(F<D?_:B)-P[x]/2<0,M=H?F<D?F-D:F-$:0;return{[w]:b[w]+M,data:{[w]:N,centerOffset:F-N-M,...H&&{alignmentOffset:M}},reset:H}}}))({element:this.arrowEl,padding:this.arrowPadding}));const n="absolute"===this.strategy?t=>tt.getOffsetParent(t,nt):tt.getOffsetParent;ot(this.anchorEl,this.popup,{placement:this.placement,middleware:t,strategy:this.strategy,platform:{...tt,getOffsetParent:n}}).then((({x:t,y:e,middlewareData:o,placement:n})=>{const i="rtl"===getComputedStyle(this).direction,r={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]];if(this.setAttribute("data-current-placement",n),Object.assign(this.popup.style,{left:`${t}px`,top:`${e}px`}),!this.arrow)return;const a=o.arrow.x,s=o.arrow.y;let l="",c="",p="",f="";if("start"===this.arrowPlacement){const t="number"==typeof a?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";l="number"==typeof s?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",c=i?t:"",f=i?"":t}else if("end"===this.arrowPlacement){const t="number"==typeof a?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";c=i?"":t,f=i?t:"",p="number"==typeof s?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else"center"===this.arrowPlacement?(f="number"==typeof a?"calc(50% - var(--arrow-size-diagonal))":"",l="number"==typeof s?"calc(50% - var(--arrow-size-diagonal))":""):(f="number"==typeof a?`${a}px`:"",l="number"==typeof s?`${s}px`:"");Object.assign(this.arrowEl.style,{top:l,right:c,bottom:p,left:f,[r]:"calc(var(--arrow-size-diagonal) * -1)"})})),requestAnimationFrame((()=>this.updateSafeArea())),this.emitter.dispatch("reposition")}render(){return t.x` <slot name="anchor" @slotchange="${this.handleAnchorChange}"></slot> <span part="safe-area" class="${t.Q({"popup-safe-area":!0,"popup-safe-area--visible":this.safeArea&&this.active})}"></span> <div part="popup" class="${t.Q({popup:!0,"popup--active":this.active,"popup--fixed":"fixed"===this.strategy,"popup--has-arrow":this.arrow})}"> <slot></slot> ${this.arrow?t.x`<div part="arrow" class="popup--arrow" role="presentation"></div>`:""} </div> `}}lt.styles=rt,t._([t.Y(".popup")],lt.prototype,"popup",void 0),t._([t.Y(".popup--arrow")],lt.prototype,"arrowEl",void 0),t._([t.n()],lt.prototype,"anchor",void 0),t._([t.n({type:Boolean,reflect:!0})],lt.prototype,"active",void 0),t._([t.n({reflect:!0})],lt.prototype,"placement",void 0),t._([t.n({reflect:!0})],lt.prototype,"strategy",void 0),t._([t.n({type:Number})],lt.prototype,"distance",void 0),t._([t.n({type:Number})],lt.prototype,"skidding",void 0),t._([t.n({type:Boolean})],lt.prototype,"arrow",void 0),t._([t.n({attribute:"arrow-placement"})],lt.prototype,"arrowPlacement",void 0),t._([t.n({attribute:"arrow-padding",type:Number})],lt.prototype,"arrowPadding",void 0),t._([t.n({type:Boolean})],lt.prototype,"flip",void 0),t._([t.n({attribute:"flip-fallback-placements",converter:{fromAttribute:t=>t.split(" ").map((t=>t.trim())).filter((t=>""!==t))}})],lt.prototype,"flipFallbackPlacements",void 0),t._([t.n({attribute:"flip-fallback-strategy"})],lt.prototype,"flipFallbackStrategy",void 0),t._([t.n({type:Object})],lt.prototype,"flipBoundary",void 0),t._([t.n({attribute:"flip-padding",type:Number})],lt.prototype,"flipPadding",void 0),t._([t.n({type:Boolean})],lt.prototype,"shift",void 0),t._([t.n({type:Object})],lt.prototype,"shiftBoundary",void 0),t._([t.n({attribute:"shift-padding",type:Number})],lt.prototype,"shiftPadding",void 0),t._([t.n({attribute:"auto-size"})],lt.prototype,"autoSize",void 0),t._([t.n()],lt.prototype,"sync",void 0),t._([t.n({type:Object})],lt.prototype,"autoSizeBoundary",void 0),t._([t.n({attribute:"auto-size-padding",type:Number})],lt.prototype,"autoSizePadding",void 0),t._([t.n({attribute:"safe-area",type:Boolean})],lt.prototype,"safeArea",void 0);let ct=class extends lt{};return ct=t._([t.e("rpl-popper")],ct),{P:at}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("DHTUnmCcdt",["CYrPuvCiTj"],(async t=>{t.da(t.i`#shreddit-media-lightbox .lightboxed-content{display:flex;align-items:center;justify-content:center;width:100%;height:100%}#shreddit-media-lightbox .non-lightboxed-content{display:none}#shreddit-media-lightbox .media-lightbox-img{max-height:none}#shreddit-media-lightbox::part(panel){max-width:100svw;max-height:100svh;width:100svw;height:100svh;border-radius:0}`);let i=class extends t.s{constructor(){super(...arguments),this._isConnected=!1,this._push=t.dF,this._lightboxUrl=void 0,this.pubsub=new t.z(this),this.templateRef=t.Z(),this.contentRef=t.Z(),this._hideCloseButtonOnIdle=!1,this.disableAnimations=!1,this.isIdle=!1,this.lightboxOpenHandler=({element:t,attributes:i={}})=>{const e=i.permalink??window.location.href;try{const s=e.startsWith("http")?e:`${window.location.origin}${e}`;this._lightboxUrl=new URL(`${s}#lightbox`),this._push(this._lightboxUrl.href,{onForwardNav:()=>this.showModal({element:t,attributes:i}),onBackNav:()=>this.dialog?.hide()})}catch(s){this.showModal({element:t,attributes:i}),window.Sentry?.captureException?.(`shreddit-media-lightbox: Error parsing permalink ${e}`,s)}},this.showModal=({element:i,attributes:e={}})=>{if(this.dialog?.open)return;const{hideCloseButtonOnIdle:s,onAfterClose:o}=e;this._hideCloseButtonOnIdle=s??!1,this._onAfterClose=o,this._originalParent=i,this._originalParentHeight=i.offsetHeight||i.parentElement?.offsetHeight,this.dialog?.showModal(),this.pubsub.publish(t.T.LightboxOpened)},this.onAfterShow=()=>{const t=document.createElement("div");t.style.height=`${this._originalParentHeight}px`,this.contentRef?.value?.replaceChildren(...(this._originalParent?.children || [])),this._originalParent?.appendChild(t),this._startIdleTimer(),this.isIdle=!1},this.lightboxCloseHandler=()=>{this.dialog?.open&&this.dialog?.hide()},this.onDialogHide=()=>{this.pubsub.publish(t.T.LightboxClosed),this.contentRef?.value?.children&&this._originalParent&&(this._originalParent.replaceChildren(...this.contentRef.value.children),this.contentRef.value.innerHTML=""),this._originalParent=void 0,this._hideCloseButtonOnIdle=!1,this._idleTimeout=void 0,this.isIdle=!1;const i=window.navigation?.currentEntry?.url!==this._lightboxUrl?.href;window.navigation?.canGoBack&&!i&&(this._lightboxUrl=void 0,window.navigation.back())},this.onAfterHide=()=>{this._onAfterClose&&(this._onAfterClose(),this._onAfterClose=void 0)},this._startIdleTimer=()=>{this._hideCloseButtonOnIdle&&(this._stopIdleTimer(),this._idleTimeout=window.setTimeout((()=>{this.isIdle=!0}),1500))}}static get styles(){return[t.t]}connectedCallback(){super.connectedCallback();Array.from(document.getElementsByTagName("shreddit-media-lightbox")).some((t=>t._isConnected))||(this._isConnected=!0,this.pubsub.subscribe(t.T.LightboxOpen,this.lightboxOpenHandler,!1),this.pubsub.subscribe(t.T.LightboxClose,this.lightboxCloseHandler,!1))}firstUpdated(){this.dialog&&this.disableAnimations&&function(i){const e={keyframes:[],options:{duration:0}};["dialog.show","dialog.hide","dialog.denyClose","dialog.overlay.show","dialog.overlay.hide"].forEach((s=>{t.g1(i,s,e)}))}(this.dialog)}disconnectedCallback(){super.disconnectedCallback(),this._isConnected&&(this.dialog?.open&&this.dialog?.hide(),this._isConnected=!1)}_stopIdleTimer(){window.clearTimeout(this._idleTimeout),this._idleTimeout=void 0,this.isIdle=!1}render(){if(this._isConnected){const i=t.x`<div data-testid="lightbox-template" class="relative h-full w-full" @mousemove="${this._startIdleTimer}" @click="${this._startIdleTimer}" @keydown="${this._startIdleTimer}" ${t.$(this.templateRef)}> <div data-testid="lightbox-template-content" class="h-full w-full max-h-dvh" ${t.$(this.contentRef)}></div> ${t.u({size:t.v.Large,appearance:"media",shape:"pill",attributes:{"data-testid":"close-button",className:"absolute top-sm end-sm z-10 duration-300 "+(this.isIdle?"opacity-0 invisible":"opacity-100"),"aria-label":"Close lightbox",onclick:()=>{this.dialog?.hide()}},children:t.al({size:t.I.Medium})})} </div>`;return t.x` <rpl-dialog dialog-id="${"shreddit-media-lightbox"}" @rpl-dialog:after-show="${this.onAfterShow}" @rpl-dialog:hide="${this.onDialogHide}" @rpl-dialog:after-hide="${this.onAfterHide}" .litTemplateChildren="${i}"> </rpl-dialog> `}return""}};t._([t.n({type:Boolean,attribute:"disable-animations"})],i.prototype,"disableAnimations",void 0),t._([t.j()],i.prototype,"isIdle",void 0),t._([t.Y("rpl-dialog")],i.prototype,"dialog",void 0),i=t._([t.e("shreddit-media-lightbox")],i);let e=class extends t.s{constructor(){super(...arguments),this.pubsub=new t.z(this),this.handleInteraction=i=>{t.l(i)&&this.openLightbox()},this.handleTrigger=({postId:t})=>{t===this.postId&&this.openLightbox()},this.openLightbox=()=>{this.pubsub.publish(t.T.LightboxOpen,{element:this,attributes:{permalink:this.permalink}})}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.TriggerLightboxOpen,this.handleTrigger,!1)}render(){return t.x`<slot @click="${this.handleInteraction}" @keypress="${this.handleInteraction}"></slot>`}};e.styles=[t.i`:host{cursor:pointer}`,t.t],t._([t.n({type:String,attribute:"post-id"})],e.prototype,"postId",void 0),t._([t.n({type:String,attribute:"permalink"})],e.prototype,"permalink",void 0),e=t._([t.e("shreddit-media-lightbox-listener")],e)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./B6C_8s9j0g.js",import.meta.url,"B6C_8s9j0g");SML.di("./CCzrQmnfhp.js",import.meta.url,"CCzrQmnfhp");SML.di("./BpkEtnKDO3.js",import.meta.url,"BpkEtnKDO3");SML.di("./B5-3_kcphz.js",import.meta.url,"B5-3_kcphz");SML.di("./By2sopqXTk.js",import.meta.url,"By2sopqXTk");
SML.dm("DJJ9sof-xv",["CYrPuvCiTj","B6C_8s9j0g","CCzrQmnfhp","BpkEtnKDO3","B5-3_kcphz","By2sopqXTk"],(async(t,e,s)=>{let i=class extends t.s{constructor(){super(),this.postId="",this.spoiler=!1,this.nsfw=!1,this.quarantined=!1,this.game=!1,this.app="",this.onPostUpdateAction=({postId:t,action:e,value:i})=>{if(this.postId===t)switch(e){case s.a.markAsNsfw:this.nsfw=i;break;case s.a.markAsSpoiler:this.spoiler=i}},this.pubsubController=new t.z(this)}connectedCallback(){super.connectedCallback(),this.pubsubController.subscribe(t.T.PostUpdated,this.onPostUpdateAction)}renderContentTag(s){const i=e.c(e.g()[s]);return t.x`<span class="h-lg inline-block">${i}</span>`}render(){return this.nsfw||this.spoiler||this.quarantined||this.app?t.x` <div class="content-tags inline-flex gap-xs"> ${this.nsfw?this.renderContentTag(e.C.NSFW):""} ${this.app?t.x`<a target="_blank" href="https://developers.reddit.com/apps/${this.app}?utm=watermark_v1" @click="${()=>this.dispatchEvent(new CustomEvent("tag-click",{detail:{type:e.C.APP}}))}">${this.renderContentTag(this.game?e.C.GAME:e.C.APP)}</a>`:""} ${this.spoiler?this.renderContentTag(e.C.SPOILER):""} ${this.quarantined?this.renderContentTag(e.C.QUARANTINED):""} </div> `:""}};i.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],i.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"spoiler",reflect:!0})],i.prototype,"spoiler",void 0),t._([t.n({type:Boolean,attribute:"nsfw",reflect:!0})],i.prototype,"nsfw",void 0),t._([t.n({type:Boolean,attribute:"quarantined",reflect:!0})],i.prototype,"quarantined",void 0),t._([t.n({type:Boolean})],i.prototype,"game",void 0),t._([t.n({type:String})],i.prototype,"app",void 0),i=t._([t.e("shreddit-content-tags")],i)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("DRyX-d_SeX",["CYrPuvCiTj"],(async e=>{let a=e.ag,t=e.w,i=class extends e.s{constructor(){super(...arguments),this.registry=e.fG,this.pubsub=new e.z(this),this.compareModifiers=(e,a)=>!!e==!!a,this.hasMatchingModifiers=(e,a)=>{if(!a)return!1;const{metaKey:t,altKey:i,shiftKey:n,ctrlKey:s}=e,{meta:o,alt:r,ctrl:l,shift:d}=a,m=!(navigator.userAgent.includes("Mac")||!o||l||!s);return(this.compareModifiers(t,o)||m)&&(this.compareModifiers(s,l)||m)&&this.compareModifiers(n,d)&&this.compareModifiers(i,r)},this.getContextualSubscriber=(a,t,i)=>{const n=a.composedPath();return Array.from(i).find((i=>this.hasMatchingModifiers(a,e.fH.keys[t]?.[i])&&void 0===e.fI[i]&&n?.find((a=>e.fJ.has(a)))))},this.getGlobalSubscriber=(a,t,i)=>Array.from(i).find((i=>this.hasMatchingModifiers(a,e.fH.keys[t]?.[i]))),this.publishHotkeyEvent=async a=>{const i=a.key.toLowerCase(),n=e.fH.keys[i],s=this.getContextualSubscriber(a,i,e.fK),o=this.getGlobalSubscriber(a,i,e.fL),r=s??o;if(n&&(this.enabled||"?"===i)&&(r&&n[r].allowFromInput||!a.composedPath().find((e=>e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement||e instanceof HTMLElement&&e.hasAttribute("contenteditable"))))){if(n[e.cD.SHOW_SHORTCUTS]&&(await t({name:e.fM,bodyParams:{enabled:encodeURIComponent(!!this.enabled),open:"true"}})),s)return this.pubsub.publish(e.T.Hotkeys,{id:s}),void this.cancelEvent(a);o&&(this.pubsub.publish(e.T.Hotkeys,{id:o}),this.cancelEvent(a))}},this.cancelEvent=e=>{e.preventDefault(),e.stopImmediatePropagation()},this.onHotkeysToggle=async t=>{const{detail:{checked:i,target:n}}=t;try{const t=await a({operation:e.af.UpdateAccountPreferences,variables:{input:{isHotkeysEnabled:i}}});if(this.enabled=i,t.errors.length>0)throw new Error("Could not save setting")}catch{n.checked=!i;const a=e.d("faceplate-alert",{level:e.a0.error,cause:"uncategorized",message:"We had some issues saving your changes. Please try again."});this.dispatchEvent(a)}}}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this.publishHotkeyEvent),document.addEventListener(e.fN,this.onHotkeysToggle)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this.publishHotkeyEvent),document.removeEventListener(e.fN,this.onHotkeysToggle)}willUpdate(a){a.has("enabled")&&this.enabled&&!Object.keys(e.fH.keys).length?e.fO(this.registry):a.has("registry")&&(e.fP(),e.fO(this.registry))}};e._([e.n({type:Object})],i.prototype,"registry",void 0),e._([e.n({type:Boolean})],i.prototype,"enabled",void 0),i=e._([e.e("shreddit-hotkeys-controller")],i)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./CEf2DD9Ins.js",import.meta.url,"CEf2DD9Ins");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.dm("DTFTCiYeLz",["CYrPuvCiTj","wzdls1o9Kk"],(async(t,e)=>{const o={options:{dateStyle:"full",timeStyle:"long"}};let s=class extends t.s{constructor(){super(...arguments),this.ts="",this.date=new Date,this.short=!1,this.locale=""}getLocale(){return this.locale||e.by()}createRenderRoot(){return this}render(){const s=this.getLocale(),r=e.bz(this.date,s,o),i=this.formatOptions?{options:this.formatOptions}:{short:this.short},n=e.bz(this.date,s,i);return t.x`<time datetime="${this.date.toISOString()}" title="${r}">${n}</time>`}};t._([t.n({type:String})],s.prototype,"ts",void 0),t._([t.n({attribute:"ts",converter:t=>e.bA(t||"")})],s.prototype,"date",void 0),t._([t.n({type:Boolean})],s.prototype,"short",void 0),t._([t.n({type:String})],s.prototype,"locale",void 0),t._([t.n({type:Object})],s.prototype,"formatOptions",void 0),s=t._([t.e("faceplate-date")],s)}));
SML.di("./K2R-k6uMNv.js",import.meta.url,"K2R-k6uMNv");SML.di("./OlPU10fC99.js",import.meta.url,"OlPU10fC99");SML.di("./Dy9RLodaYV.js",import.meta.url,"Dy9RLodaYV");SML.di("./B4nAYW21C5.js",import.meta.url,"B4nAYW21C5");SML.di("./BA-YMBSJ68.js",import.meta.url,"BA-YMBSJ68");SML.di("./CZtlI9NlXS.js",import.meta.url,"CZtlI9NlXS");SML.di("./Cszz6xIhIJ.js",import.meta.url,"Cszz6xIhIJ");SML.di("./CVt1u3m_U2.js",import.meta.url,"CVt1u3m_U2");SML.di("./CA_3X1MrHP.js",import.meta.url,"CA_3X1MrHP");SML.di("./D-nRtQdfOf.js",import.meta.url,"D-nRtQdfOf");SML.di("./CiiZHZ_xJV.js",import.meta.url,"CiiZHZ_xJV");SML.di("./DHTUnmCcdt.js",import.meta.url,"DHTUnmCcdt");SML.di("./BcLz9SQAFR.js",import.meta.url,"BcLz9SQAFR");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./Dnnn6I8KtA.js",import.meta.url,"Dnnn6I8KtA");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");SML.di("./BKIc7C4NNc.js",import.meta.url,"BKIc7C4NNc");SML.di("./CMNh7Qm-HC.js",import.meta.url,"CMNh7Qm-HC");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./CA7qO1Exxg.js",import.meta.url,"CA7qO1Exxg");SML.di("./zQvYWz_gjh.js",import.meta.url,"zQvYWz_gjh");SML.di("./CkEEx5T_uL.js",import.meta.url,"CkEEx5T_uL");SML.di("./BoQssu-hw1.js",import.meta.url,"BoQssu-hw1");SML.di("./CCzrQmnfhp.js",import.meta.url,"CCzrQmnfhp");SML.di("./By2sopqXTk.js",import.meta.url,"By2sopqXTk");SML.di("./DDeYq3U-lD.js",import.meta.url,"DDeYq3U-lD");
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./DTFTCiYeLz.js",import.meta.url,"DTFTCiYeLz");SML.di("./CZtlI9NlXS.js",import.meta.url,"CZtlI9NlXS");SML.di("./DuqlmJMEve.js",import.meta.url,"DuqlmJMEve");SML.di("./CEf2DD9Ins.js",import.meta.url,"CEf2DD9Ins");SML.di("./DgaC1xItoR.js",import.meta.url,"DgaC1xItoR");SML.di("./CaC8XqiTGs.js",import.meta.url,"CaC8XqiTGs");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./DJJ9sof-xv.js",import.meta.url,"DJJ9sof-xv");SML.di("./DG0S1MfCCq.js",import.meta.url,"DG0S1MfCCq");SML.di("./B6C_8s9j0g.js",import.meta.url,"B6C_8s9j0g");SML.di("./41znR01Ful.js",import.meta.url,"41znR01Ful");SML.di("./B9Z38jXwJn.js",import.meta.url,"B9Z38jXwJn");SML.di("./CmAn0qma3f.js",import.meta.url,"CmAn0qma3f");SML.di("./Cv3__sHJQf.js",import.meta.url,"Cv3__sHJQf");SML.di("./Cb0u53dVtj.js",import.meta.url,"Cb0u53dVtj");SML.di("./CeSKxcW4bq.js",import.meta.url,"CeSKxcW4bq");SML.di("./DkWJZxM_zm.js",import.meta.url,"DkWJZxM_zm");SML.di("./Bs45UeNO_W.js",import.meta.url,"Bs45UeNO_W");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./CCzrQmnfhp.js",import.meta.url,"CCzrQmnfhp");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./D1jB1lRGDu.js",import.meta.url,"D1jB1lRGDu");SML.di("./BjEk0JHhrS.js",import.meta.url,"BjEk0JHhrS");SML.di("./DbgtMUjGRq.js",import.meta.url,"DbgtMUjGRq");SML.di("./pihWhdUG1Q.js",import.meta.url,"pihWhdUG1Q");SML.di("./BKIc7C4NNc.js",import.meta.url,"BKIc7C4NNc");SML.di("./D2VJiRUxKq.js",import.meta.url,"D2VJiRUxKq");SML.di("./CcWrGyc4YB.js",import.meta.url,"CcWrGyc4YB");SML.di("./ByPeQQGJ36.js",import.meta.url,"ByPeQQGJ36");SML.di("./DLdgTt_kCu.js",import.meta.url,"DLdgTt_kCu");SML.di("./BpkEtnKDO3.js",import.meta.url,"BpkEtnKDO3");SML.di("./B5-3_kcphz.js",import.meta.url,"B5-3_kcphz");SML.di("./By2sopqXTk.js",import.meta.url,"By2sopqXTk");SML.di("./rxXg4kAY8P.js",import.meta.url,"rxXg4kAY8P");SML.di("./BHY4TeT-gy.js",import.meta.url,"BHY4TeT-gy");SML.di("./CbYjzDlHSg.js",import.meta.url,"CbYjzDlHSg");SML.di("./CVFZT5qG1t.js",import.meta.url,"CVFZT5qG1t");SML.di("./HQokY_KEgH.js",import.meta.url,"HQokY_KEgH");SML.di("./Bv2UEnJP_M.js",import.meta.url,"Bv2UEnJP_M");SML.di("./005PrA1Byk.js",import.meta.url,"005PrA1Byk");SML.di("./C7tY_fu9Em.js",import.meta.url,"C7tY_fu9Em");SML.di("./BGnZpZ200J.js",import.meta.url,"BGnZpZ200J");SML.di("./Hw1PFKH8z9.js",import.meta.url,"Hw1PFKH8z9");SML.di("./B58tzg41t5.js",import.meta.url,"B58tzg41t5");SML.di("./DcxJbk2B3f.js",import.meta.url,"DcxJbk2B3f");SML.di("./Bb-T49I7YR.js",import.meta.url,"Bb-T49I7YR");SML.di("./G2F6lxYj4X.js",import.meta.url,"G2F6lxYj4X");SML.di("./CEkHpZAUVH.js",import.meta.url,"CEkHpZAUVH");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./CMNh7Qm-HC.js",import.meta.url,"CMNh7Qm-HC");SML.di("./CA7qO1Exxg.js",import.meta.url,"CA7qO1Exxg");SML.di("./zQvYWz_gjh.js",import.meta.url,"zQvYWz_gjh");SML.di("./CkEEx5T_uL.js",import.meta.url,"CkEEx5T_uL");SML.di("./BoQssu-hw1.js",import.meta.url,"BoQssu-hw1");
SML.dm("DZiuwGhNTP",["CYrPuvCiTj","DGkwklwWNC","B39chFHLCe","B6C_8s9j0g","41znR01Ful","B9Z38jXwJn","CmAn0qma3f","Cv3__sHJQf","Cb0u53dVtj","CeSKxcW4bq","DkWJZxM_zm","wzdls1o9Kk","CCzrQmnfhp","C8CrqKCiqJ","D1jB1lRGDu","BjEk0JHhrS","DbgtMUjGRq","pihWhdUG1Q","BKIc7C4NNc","D2VJiRUxKq","ByPeQQGJ36","DLdgTt_kCu","DTFTCiYeLz","CZtlI9NlXS","DuqlmJMEve","CEf2DD9Ins","DgaC1xItoR","CaC8XqiTGs","DJJ9sof-xv","DG0S1MfCCq","Bs45UeNO_W","CcWrGyc4YB","BpkEtnKDO3","B5-3_kcphz","By2sopqXTk","rxXg4kAY8P","BHY4TeT-gy","CbYjzDlHSg","CVFZT5qG1t","HQokY_KEgH","Bv2UEnJP_M","005PrA1Byk","C7tY_fu9Em","BGnZpZ200J","Hw1PFKH8z9","B58tzg41t5","DcxJbk2B3f","Bb-T49I7YR","G2F6lxYj4X","CEkHpZAUVH","BtqmVQuPYp","CMNh7Qm-HC","CA7qO1Exxg","zQvYWz_gjh","CkEEx5T_uL","BoQssu-hw1"],(async(t,e,o,i,s,n,r,a,l,d,p,h,u,c,m,b,v,T,E,g,S,k)=>{const C=72e6,I=[C,C,1296e5,216e6,216e6],y=()=>{const e=localStorage.getItem(t.a7.CrosspostingUpsellExperiment);if(e)return JSON.parse(e)},P=e=>{localStorage.setItem(t.a7.CrosspostingUpsellExperiment,JSON.stringify(e))},N=async e=>{if((()=>{const t=y();if(!t)return!1;const{timer:e,snoozes:o,savedDate:i}=t;return o>=I.length||(new Date).getTime()-i<e})())return;const o=await t.ag({operation:t.af.WhereToCrosspostNewModSuggestions,variables:{postId:e}}),i=o.data?.whereToCrosspostSuggestions?.edges;return i&&i?.length>0&&"Subreddit"===i[0]?.node?.subredditInfo.__typename?i[0]?.node?.subredditInfo:void 0};function R(t,e=!0){t=t||"";const[o,i]=t.split("?");let s=`https://www.reddit.com${("/"!==o[0]&&o.length>0?"/":"")+o}`;return e&&!s.endsWith("/")&&(s+="/"),i&&(s+=`?${i}`),s}let _=class extends t.s{constructor(){super(),this.name="",this.prefixedName="",this.subredditId="",this.isNsfw=!1,this.postId="",this.isOpen=!1,this.wasSeen=!1,this.trackExperimentEvent=(e,o,i)=>{t.k(this,t.c({source:e,action:o,noun:i},{subreddit:{id:this.subredditId,name:this.name,nsfw:this.isNsfw},post:{id:this.postId||""}}))},this.onShareClick=()=>{P({timer:18e5,snoozes:1,savedDate:(new Date).getTime()}),this.isOpen=!1,this.wasSeen=!0,this.trackExperimentEvent("crosspost_prompt","share","button")},this.onSkipClick=()=>{this.onMaybeSetCooldown(),this.isOpen=!1},new t.aB(this,this,{threshold:[.5]})}connectedCallback(){t.aH.subscribe(this.onMaybeSetCooldown,{shouldBeCalledFirst:!0}),super.connectedCallback(),this.addEventListener("faceplate-leave",this.onMaybeSetCooldown),this.trackExperimentEvent("crosspost_prompt","view","coachmark"),setTimeout((()=>{this.onMaybeSetCooldown()}),3e5)}disconnectedCallback(){super.disconnectedCallback(),t.aH.unsubscribe(this.onMaybeSetCooldown),this.removeEventListener("faceplate-leave",this.onMaybeSetCooldown)}onMaybeSetCooldown(){this.wasSeen||this.saveNoShareTimer()}saveNoShareTimer(){const t=y(),e=t?.snoozes||0;P({snoozes:e+1,timer:I[e],savedDate:(new Date).getTime()}),this.trackExperimentEvent("crosspost_prompt","hide","button"),this.wasSeen=!0}render(){return t.x`<rpl-coachmark ?open="${this.isOpen}" placement="${e.P.TopEnd}" appearance="${o.a.Inverted}"> <slot></slot> <rpl-coachmark-card slot="content" appearance="${o.a.Inverted}" class="w-[220px]"> <div slot="title" class="pt-xs pb-2xs"> ${"Share with your newly created community"} </div> <div class="text-12"> ${`${this.prefixedName} might enjoy this post, try sharing it in your community.`} </div> ${t.u({attributes:{slot:"primary-button",href:R(`${this.prefixedName}/submit/?source_id=${this.postId}&crosspost_experiment_referral=true`),target:"_blank",rel:"noopener noreferrer",onclick:this.onShareClick},children:"Share",appearance:"plainInverted",size:t.v.Small})} ${t.u({attributes:{slot:"secondary-button",onclick:this.onSkipClick},children:"Skip",appearance:"plainInverted",size:t.v.Small})} </rpl-coachmark-card> </rpl-coachmark>`;}};_.styles=[t.t],t._([t.n({type:String,attribute:"name"})],_.prototype,"name",void 0),t._([t.n({type:String,attribute:"prefixed-name"})],_.prototype,"prefixedName",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],_.prototype,"subredditId",void 0),t._([t.n({type:Boolean,attribute:"nsfw"})],_.prototype,"isNsfw",void 0),t._([t.n({type:String,attribute:"post-id"})],_.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"open",reflect:!0})],_.prototype,"isOpen",void 0),t._([t.j()],_.prototype,"wasSeen",void 0),_=t._([t.e("crosspost-upsell-coachmark")],_);let D=class extends t.s{constructor(){super(...arguments),this.translationContextValue=t.aN,this.postId="",this.href="",this.withIntervention=!1,this.isImmersiveVisit=!1}canShowInterventionModal(){const e=!!t.a6.getItem(t.a7.I18nTranslationInterventionShown);return!!this.translationContextValue?.isTranslationActive&&this.withIntervention&&!e}onShowOriginalClick(t){t.preventDefault?.(),t.stopPropagation?.(),this.canShowInterventionModal()?this.translationInterventionModal.handleTranslationOverride({isTranslationActive:!1,id:this.postId}):this.navigateToOriginal()}navigateToOriginal(){window.location.href=this.href}render(){const e=t.x`<translation-intervention-modal mode="mtseo-post" page-type="pdp" ?is-immersive-visit="${this.isImmersiveVisit}" @translation-intervention-modal:close="${this.navigateToOriginal}"></translation-intervention-modal>`;return t.x`<a href="${this.href}" class="flex cursor-pointer my-xs ps-md xs:px-0 text-primary text-decoration-none" @click="${this.onShowOriginalClick}"> ${"See original"} </a> ${this.canShowInterventionModal()?e:t.A}`;}};D.styles=[t.t],t._([t.aM({context:t.aO,subscribe:!0}),t.j()],D.prototype,"translationContextValue",void 0),t._([t.Y("translation-intervention-modal")],D.prototype,"translationInterventionModal",void 0),t._([t.n({type:String,attribute:"post-id"})],D.prototype,"postId",void 0),t._([t.n({type:String,attribute:"href"})],D.prototype,"href",void 0),t._([t.n({type:Boolean,attribute:"with-intervention"})],D.prototype,"withIntervention",void 0),t._([t.n({type:Boolean,attribute:"isImmersiveVisit"})],D.prototype,"isImmersiveVisit",void 0),D=t._([t.e("mtseo-show-original-link")],D);const O="toggle__expando",w="toggle__expando-button",x=t.v.Small,L=["flex flex-row justify-center items-center","h-xl","font-semibold","relative"].join(" "),f="thumbnail",A="ssr-share-button",M="share-button",H="mod-content-actions",U="credit-bar",$="post-flair",j="full-post-link",B="mod-content-state-indicators";class V{constructor(e){this.initialized=!1,this.handleToggleEvent=e=>{t.l(e)&&this.toggleExpando()},(this.host=e).addController(this)}get expandoElement(){return this.host.isCompactView?this.host.querySelector(`.${O}`):this.host.shadowRoot?.querySelector('slot[name="expando"]')??null}get hasExpandoContent(){return this.host.isCompactView?!!this.host.querySelector(`.${O}`):!!this.host.shadowRoot?.querySelector('slot[name="expando"]')?.assignedElements().length}get toggleElement(){return(this.host.isCompactView?this.host.querySelector(`button.${w}`)||this.host.shadowRoot?.querySelector(`button.${w}`):this.host.shadowRoot?.querySelector('slot[name="thumbnail"]'))??null}async hostConnected(){await this.host.updateComplete,this.initializeListeners()}hostDisconnected(){this.toggleElement?.removeEventListener("click",this.handleToggleEvent),this.toggleElement?.removeEventListener("keydown",this.handleToggleEvent),this.initialized=!1}async hostUpdated(){await this.host.updateComplete,this.initialized||this.initializeListeners()}initializeListeners(){this.initialized||this.expandoElement&&this.hasExpandoContent&&this.toggleElement&&(this.toggleElement?.addEventListener("click",this.handleToggleEvent),this.toggleElement?.addEventListener("keydown",this.handleToggleEvent),this.initialized=!0)}toggleExpando(){this.expandoElement&&this.hasExpandoContent&&(this.host.showExpando=!this.host.showExpando,this.expandoElement.classList.toggle("hidden",!this.host.showExpando),this.expandoElement.classList.toggle("block",this.host.showExpando))}renderExpandoButton(){const e="Expand content",o={attributes:{className:"icon-expand","aria-hidden":"true"},size:n.I[x]},i=this.host.showExpando?t.al(o):g.e(o),s=this.hasExpandoContent?"":"disabled pointer-all";return t.x` ${n.c({appearance:h.ap()?"bordered":"secondary",attributes:{type:"button",className:`${w} ${L} ${s}`,disabled:!this.hasExpandoContent,"aria-expanded":this.host.showExpando?"true":"false","aria-label":"post content","aria-controls":`${this.host.id}-expando-content`},size:x,leadingIcon:i,screenReaderContent:e})} `;}}class z{constructor(e){this.initializeHotkeys=()=>{this.host.viewContext===c.P.CommentsPage&&(this.subscriberController?.subscribe(t.cD.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.subscribe(t.cD.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.subscribe(t.cD.UPVOTE,this.upvote),this.subscriberController?.subscribe(t.cD.DOWNVOTE,this.downvote),this.subscriberController?.subscribe(t.cD.REPLY_TO_COMMENT,this.onReplyToComment),this.subscriberController?.subscribe(t.cD.HIDE_POST,this.onToggleHide),this.subscriberController?.subscribe(t.cD.TOGGLE_SAVE,this.onToggleSave),this.subscriberController?.subscribe(t.cD.TOGGLE_COLLAPSE_COMMENT,this.onCommentToggleCollapse),this.subscriberController?.subscribe(t.cD.COPY_POST_OR_COMMENT_LINK,this.onCopyLink),this.subscriberController?.subscribe(t.cD.SUBMIT,this.onSubmitComment))},this.findShredditPost=t=>t instanceof K?t:t?.querySelector("shreddit-post, shreddit-ad-post"),this.cleanupHotkeys=()=>{this.host.viewContext===c.P.CommentsPage&&(this.subscriberController?.unsubscribe(t.cD.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.unsubscribe(t.cD.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.unsubscribe(t.cD.UPVOTE,this.upvote),this.subscriberController?.unsubscribe(t.cD.DOWNVOTE,this.downvote),this.subscriberController?.unsubscribe(t.cD.REPLY_TO_COMMENT,this.onReplyToComment),this.subscriberController?.unsubscribe(t.cD.HIDE_POST,this.onToggleHide),this.subscriberController?.unsubscribe(t.cD.TOGGLE_SAVE,this.onToggleSave),this.subscriberController?.unsubscribe(t.cD.TOGGLE_COLLAPSE_COMMENT,this.onCommentToggleCollapse),this.subscriberController?.unsubscribe(t.cD.COPY_POST_OR_COMMENT_LINK,this.onCopyLink),this.subscriberController?.unsubscribe(t.cD.SUBMIT,this.onSubmitComment))},this.nextPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(S.P.NEXT);const e=this.postOrCommentTraversalController?.current instanceof K?"post":"comment";t.k(this.host,c.a0("next",e))},this.prevPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(S.P.PREV);const e=this.postOrCommentTraversalController?.current instanceof K?"post":"comment";t.k(this.host,c.a0("previous",e))},this.upvote=()=>{this.onVote(m.V.Upvote)},this.downvote=()=>{this.onVote(m.V.Downvote)},this.onFocus=t=>{this.host.viewContext===c.P.CommentsPage?this.host.shadowRoot?.querySelector(".shreddit-post-container")?.focus(t):this?.host.querySelector("[slot=full-post-link]")?.focus(t)},this.onVote=async t=>{let e;if(!this.postOrCommentTraversalController?.current)return;e=this.postOrCommentTraversalController?.isCurrentComment?(this.postOrCommentTraversalController?.current).commentActionRow:this.postOrCommentTraversalController?.current;const o=void 0;e&&(e.interactionFromHotkey=!0,t===m.V.Upvote?await e.handleUpvote(o):await e.handleDownvote(o),e.interactionFromHotkey=!1)},this.customPostTraversal=(t,e)=>{if(t===S.P.NEXT){const t=e?.querySelector("shreddit-comment-tree");if(t||"shreddit-comment-tree"===e?.tagName.toLowerCase())return e?.querySelector("shreddit-comment")}else if(!e?.previousElementSibling&&"shreddit-comment-tree"===e?.parentElement?.tagName.toLowerCase())return document.querySelector("shreddit-post")},this.onReplyToComment=()=>{this.postOrCommentTraversalController?.isCurrentPost?this.host.handleClickCommentsButton():this.postOrCommentTraversalController?.current?.querySelector("shreddit-comment-action-row")?.focusOnCommentComposer()},this.onToggleSave=()=>{if(this.postOrCommentTraversalController?.isCurrentComment){const t=this.postOrCommentTraversalController?.current?.overlowMenuItemProps?.find((t=>"save"===t.id));t?.onClick?.()}else this.postOverflowActions?.find((t=>"save"===t.id))?.onClick()},this.onToggleHide=()=>{(this.postOrCommentTraversalController?.isCurrentPost||this.host.isFeed)&&this.postOverflowActions?.find((t=>"hide"===t.id))?.onClick()},this.onCopyLink=()=>{let t;t=this.postOrCommentTraversalController?.isCurrentComment?this.postOrCommentTraversalController?.current?.shareButton:this.host.shareButtonRef?.value,t?.handleCopyLinkClick()},this.onCommentToggleCollapse=()=>{this.postOrCommentTraversalController?.isCurrentComment&&this.postOrCommentTraversalController.current.handleCollapse?.()},this.onSubmitComment=()=>{if(this.postOrCommentTraversalController?.isCurrentComment)this.postOrCommentTraversalController.current?.shredditComposer?.form?.submit();else{const e=t.bL(document.activeElement,"shreddit-composer");e?.form?.submit()}},this.host=e,e.addController(this)}hostConnected(){this.subscriberController=new t.cC(this.host),this.postOrCommentTraversalController=new S.a(this.host,{type:S.b.COMMENTS_PAGE,getFirstElement:()=>this.host,customPostOrCommentDetection:this.findShredditPost,customTraversal:(t,e)=>this.customPostTraversal(t,e)}),this.initializeHotkeys()}hostDisconnected(){this.cleanupHotkeys()}get postOverflowActions(){return this.host.querySelector("shreddit-post-overflow-menu")?.overflowActions}onToggleExpando(){this.host._expandoController?.toggleExpando()}}const F=({isPDP:e,triggerElem:o})=>e?h.cM({triggerElem:o,target:`selector(${d.S})`,attribute:"pageindex",value:"1"}):t.A;const G=p.W(t.W(t.s));let K=class extends G{get readMoreButton(){return this.querySelector(`#${this.id}-read-more-button`)??void 0}getCurrentVoteType(){return this.postVoteType}constructor(){super(),this.archived=!1,this.deleted=!1,this.hidden=!1,this.id="",this.game=!1,this.nsfw=!1,this.promoted=!1,this.spoiler=!1,this.subredditId=void 0,this.isSubscribed=!1,this.postLanguage="",this.translationLanguage="",this.isTranslationOn=!1,this.commentCount=0,this.permalink="",this.viewContext=c.P.AggregateFeed,this.viewType=t.ad.CardView,this.isSlimCard=!1,this.isDesktopViewport=!1,this.isReportingEnabled=!1,this.isLinkPost=!1,this.isAma=!1,this.isEmbed=!1,this.isNotBrandSafe=!1,this.isCrosspost=!1,this.isCrosspostable=!1,this.isEmbeddable=!1,this.isUserLoggedIn=!1,this.disabled=!1,this.showFullContent=!1,this.isTranslatable=!1,this.isTranslationFetched=!1,this.isPostTranslated=!1,this.isPostBodyTranslated=!1,this.isMTSEOUserPage=!1,this.shouldHideOriginalLanguageLink=!1,this.hasMTSEOTranslationInterruption=!1,this.morePostsCursor=void 0,this.isPostLeaveEventsEnabled=!1,this.isLocked=!1,this.isBanned=!1,this.isContestMode=!1,this.isPromoteablePost=!1,this.previousActionsFeature=!1,this.updateAnimation=void 0,this.itemState=v.M.UNMODERATED,this.areReportsExpandable=!1,this.isCompactUIExp=!1,this.isPostCommentTapExp=!1,this.isPdpSeekerM1LO=!1,this.shareButtonSSR=!1,this.interactionFromHotkey=!1,this.applyFeedsSimplification=!1,this.inlineGameTag=!1,this.showPostRemovalBanner=!0,this.showExpando=!1,this.useShortHiddenPostForm=!1,this.isThumbnailSet=!1,this.isUpdatingPostBody=!1,this.displayPostAnalytics=!1,this.isCrosspostingCoachmarkOpen=!1,this.eligibleCrosspostingSubreddit=void 0,this.hasBeenViewed=!1,this.hasBeenConsumed=!1,this._events=new t.E(this),this._outboundLinkTrackingController=new d.O(this,(()=>({pageType:t.N(),postId:this.id,subredditId:this.subredditId}))),this._expandoController=new V(this),this.pubsub=new t.z(this),this.shareButtonRef=t.Z(),this.onSubscriptionChange=async e=>{let o;this.subredditName===e.name&&(o=e.subscribed&&this.isSubscribed!==e.subscribed,this.isSubscribed=e.subscribed),o&&this.isEligibleForRelatedCommunityRecommendations&&(await this._activateFeature({name:t.gE,queryParams:{subredditId:this.subredditId||"",pageType:String(t.N())},root:(this.isHomeFeed||this.isPopularFeed)&&this.parentElement||document,renderMode:this.isHomeFeed||this.isPopularFeed?t.P.Append:void 0}))},this.handleVisibilityChange=t=>{this.isPostInViewport&&t&&(this._hasPageUnloaded=!1,this.isPDP||(this.handleView(c.o(this),!0),this.becameVisibleOnScreenTimestamp=Date.now()))},this.handleCalledFirstVisibilityChange=e=>{this.isPostInViewport&&(e||this._hasPageUnloaded||(this.handleConsume(),this.isPostLeaveEventsEnabled&&t.k(this,c.a1(this))))},this._activateFeature=async e=>t.w(e),this.showShortHiddenPostForm=()=>this.hidden&&this.useShortHiddenPostForm,this.handleLoadMorePosts=async()=>{const t=document.querySelector(`#partial-more-posts-${this.morePostsCursor}`);t&&"true"!==t?.getAttribute("hasBeenLoaded")&&(t?.setAttribute("hasBeenLoaded","true"),await(t?.load()))},this.trackConsume=()=>{t.k(this,c.a2(this))},this.handleRsvpClick=e=>{t.k(this,c.t(this))},this.handleUnRsvpClick=e=>{t.k(this,c.v(this))},this._getPostScoreDelta=t=>m.g(this.postVoteType,t),this._onUpdatePostVoteType=async()=>await m.o(this.id,"post",this.postVoteType),this.trackReadMoreClick=()=>{t.k(this,c.a3(this))},this.onBeforeUnloadCallback=()=>{this.onBeforeUnload()},this.handleCustomPostSnapshotEvent=async()=>{const e=this.querySelector("devvit-post"),o=e?await e.captureSafetyReport():"";this.dispatchEvent(t.d("stage-devplatform-snapshot",{postId:this.id,encodedData:o}))},this.setStateApproved=()=>{this.showPostRemovalBanner=!1,this.itemState=v.M.APPROVED},this.setStateRemoved=()=>{this.showPostRemovalBanner=!0,this.itemState=v.M.REMOVED},this.onPostUpdateAction=({postId:t,action:e,value:o})=>{if(this.id===t)switch(e){case u.a.markAsNsfw:this.nsfw=o;break;case u.a.markAsSpoiler:this.spoiler=o;break;case u.a.delete:this.deleted=o;break;case u.a.hide:this.applyHideChanges(o);break;case u.a.lock:this.isLocked=Boolean(o);break;case u.a.approve:case u.a.approveOptimistic:this.setStateApproved();break;case u.a.remove:case u.a.removeAsSpam:case u.a.confirmRemoval:case u.a.addRemovalReason:case u.a.removeOptimistic:case u.a.removeAsSpamOptimistic:case u.a.confirmRemovalOptimistic:this.setStateRemoved()}},this.applyHideChanges=t=>{this.useShortHiddenPostForm=t,this.hidden=t},this.unhidePost=async()=>{try{await u.n(this.id,!0);const e=t.d("faceplate-alert",{level:t.a0.success,message:"Removed from hidden"});this.dispatchEvent(e);const o={postId:this.id,action:u.a.hide,value:!1};this.pubsub.publish(t.T.PostUpdated,o),t.k(this,c._(this.viewContext))}catch(e){const o=t.d("faceplate-alert",{level:t.a0.error,sourceElement:"unhide-post",cause:"uncategorized",message:"Unable to unhide post"});this.dispatchEvent(o)}},this.addEventListener("click",this.handleClickPost),new t.aB(this,this,{threshold:[.5]})}static get styles(){return[t.t,t.V(".rpl-vote-button-group {\n  /* APPEARANCE AGNOSTIC STYLES */\n  /* PLAIN APPEARANCE */\n  /* SECONDARY APPEARANCE */\n  /* BORDERED APPEARANCE */\n  --vote-button-divider-color: var(--color-neutral-border-weak);\n  /* MEDIA APPEARANCE */\n}\n.rpl-vote-button-group:not([disabled]) .rpl-vote-button-group-label {\n  color: var(--vote-button-label-color);\n}\n.rpl-vote-button-group:not([disabled]):hover.rpl-vote-button-group-label {\n  color: var(--vote-button-label-color-hover);\n}\n.rpl-vote-button-group .rpl-vote-button-group-divider {\n  background-color: var(--vote-button-divider-color);\n}\n.rpl-vote-button-group[disabled] button[rpl]:disabled {\n  --button-color-background-disabled: transparent;\n}\n.rpl-vote-button-group.button-plain {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n}\n.rpl-vote-button-group.button-plain button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain.upvote {\n  --vote-button-label-color: var(--color-upvote-plain);\n}\n.rpl-vote-button-group.button-plain.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-plain-weaker);\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n  --button-color-text-disabled: var(--color-upvote-plain-disabled);\n  --button-color-text-activated: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain.downvote {\n  --vote-button-label-color: var(--color-downvote-plain);\n}\n.rpl-vote-button-group.button-plain.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-plain-weaker);\n  --button-color-text-disabled: var(--color-downvote-plain-disabled);\n  --button-color-text-activated: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n  --vote-button-divider-color: var(--color-neutral-border);\n}\n.rpl-vote-button-group.button-secondary button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary.upvote,\n.rpl-vote-button-group.button-secondary.upvote button[rpl] {\n  --button-color-text-default: var(--color-upvote-onBackground);\n  --button-color-text-hover: var(--color-upvote-onBackground);\n  --button-color-text-disabled: var(--color-upvote-disabled);\n  --button-color-text-activated: var(--color-upvote-onBackground);\n}\n.rpl-vote-button-group.button-secondary.upvote:not([disabled]),\n.rpl-vote-button-group.button-secondary.upvote button[rpl]:not([disabled]) {\n  --button-color-background-default: var(--color-upvote-background);\n  --button-color-background-hover: var(--color-upvote-background-hover);\n  --button-color-background-active: var(--color-upvote-background-hover);\n  --vote-button-divider-color: var(--color-upvote-onBackground);\n  --vote-button-label-color: var(--color-media-onBackground);\n}\n.rpl-vote-button-group.button-secondary.downvote,\n.rpl-vote-button-group.button-secondary.downvote button[rpl] {\n  --button-color-text-default: var(--color-downvote-onBackground);\n  --button-color-text-hover: var(--color-downvote-onBackground);\n  --button-color-text-disabled: var(--color-downvote-disabled);\n  --button-color-text-activated: var(--color-downvote-onBackground);\n}\n.rpl-vote-button-group.button-secondary.downvote:not([disabled]),\n.rpl-vote-button-group.button-secondary.downvote button[rpl]:not([disabled]) {\n  --button-color-background-default: var(--color-downvote-background);\n  --button-color-background-hover: var(--color-downvote-background-hover);\n  --button-color-background-active: var(--color-downvote-background-hover);\n  --vote-button-divider-color: var(--color-upvote-onBackground);\n  --vote-button-label-color: var(--color-media-onBackground);\n}\n.rpl-vote-button-group.button-bordered-cab {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n}\n.rpl-vote-button-group.button-bordered-cab button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab.upvote {\n  --vote-button-label-color: var(--color-upvote-plain);\n}\n.rpl-vote-button-group.button-bordered-cab.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-plain-weaker);\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n  --button-color-text-disabled: var(--color-upvote-plain-disabled);\n  --button-color-text-activated: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab.downvote {\n  --vote-button-label-color: var(--color-downvote-plain);\n}\n.rpl-vote-button-group.button-bordered-cab.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-plain-weaker);\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n  --button-color-text-disabled: var(--color-downvote-plain-disabled);\n  --button-color-text-activated: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-media-cab {\n  --vote-button-label-color: var(--color-media-onBackground);\n  --vote-button-label-color-hover: var(--color-media-onBackground);\n  --vote-button-divider-color: var(--color-media-border-weak);\n}\n.rpl-vote-button-group.button-media-cab button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-onStrongScrim-weaker);\n}\n.rpl-vote-button-group.button-media-cab button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-onStrongScrim-weaker);\n}\n.rpl-vote-button-group.button-media-cab.upvote {\n  --vote-button-label-color: var(--color-upvote-onStrongScrim);\n}\n.rpl-vote-button-group.button-media-cab.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-onStrongScrim-weaker);\n  --button-color-text-activated: var(--color-upvote-onStrongScrim-weaker);\n  --button-color-text-disabled: var(--color-upvote-onStrongScrim-disabled);\n}\n.rpl-vote-button-group.button-media-cab.downvote {\n  --vote-button-label-color: var(--color-downvote-onStrongScrim);\n}\n.rpl-vote-button-group.button-media-cab.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-onStrongScrim-weaker);\n  --button-color-text-activated: var(--color-downvote-onStrongScrim-weaker);\n  --button-color-text-disabled: var(--color-downvote-onStrongScrim-disabled);\n}\n.pdp-flair-slot::slotted(*) {\n  margin: var(--size-2xs) 0;\n}\n.feed-flair-slot::slotted(*) {\n  margin-bottom: var(--size-xs);\n}\n.text-decoration-none {\n  text-decoration: none;\n}\n:host([item-state~='APPROVED']),\n:host([item-state~='REMOVED']) {\n  background-color: var(--color-neutral-background-weak);\n}\n:host([updateAnimation~='light']) {\n  animation: realtimeFade 3s;\n  animation-timing-function: ease-out;\n}\n:host([updateAnimation~='dark']) {\n  animation: realtimeFadeNight 3s;\n  animation-timing-function: ease-out;\n}\n@keyframes realtimeFade {\n  from {\n    background-color: #fff2bd;\n    border: 1px solid #dbaf00;\n  }\n  to {\n    background-color: #f0f5f9;\n    border: 1px solid transparent;\n  }\n}\n@keyframes realtimeFadeNight {\n  from {\n    background-color: #665505;\n    border: 1px solid #382d03;\n  }\n  to {\n    background-color: #030303;\n    border: 1px solid #343536;\n  }\n}\n.condensed-post-title-heading {\n  margin: 0;\n}\n")]}connectedCallback(){super.connectedCallback(),t.g()&&this.initModActionsController(),this.querySelector("shreddit-post-text-body")?.addEventListener(c.R,this.trackReadMoreClick),this.isObserved||this.enableObserver({rootMargin:"0px"}),this.postVoteType=this.voteType,this.postScore=this.score,this.gallery&&this.addEventListener("faceplate-carousel:slide",this.handleCarouselArrowClick),this.addEventListener("faceplate-hovercard:open",this.handleHovercardOpen),this.addEventListener("capture-devplatform-snapshot",this.handleCustomPostSnapshotEvent),t.aH.subscribe(this.onBeforeUnloadCallback,{shouldBeCalledFirst:!0}),t.aI(this.handleVisibilityChange,{immediate:!0}),t.aI(this.handleCalledFirstVisibilityChange,{immediate:!0,shouldBeCalledFirst:!0}),this.pubsub.subscribe(t.T.PostUpdated,this.onPostUpdateAction),this.addEventListener(u.e,this.handleClickCommentsButton),this.addEventListener(u.f,this.handleShareButtonInteraction),this.addEventListener(u.b,this.handleRsvpClick),this.addEventListener(u.E,this.handleUnRsvpClick),this.pubsub.subscribe(t.T.SubredditSubscriptionChange,this.onSubscriptionChange),this.hotkeyController=new z(this)}async initModActionsController(){const{ModActionsController:t}=await SML.di("./Dewa_riF6c.js",import.meta.url,"Dewa_riF6c");new t(this,{getThingIdFn:()=>this.id})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.listingBelowConsumeTimer),this.isObserved&&this.disableObserver(),this.hasBeenViewed=!1,this.isPostInViewport=!1,this.querySelector("shreddit-post-text-body")?.removeEventListener(c.R,this.trackReadMoreClick),this.gallery&&this.removeEventListener("faceplate-carousel:slide",this.handleCarouselArrowClick),this.removeEventListener("faceplate-hovercard:open",this.handleHovercardOpen),t.aH.unsubscribe(this.onBeforeUnloadCallback),t.aJ(this.handleVisibilityChange),t.aJ(this.handleCalledFirstVisibilityChange),this.removeEventListener(u.e,this.handleClickCommentsButton),this.removeEventListener(u.f,this.handleShareButtonInteraction),this.removeEventListener(u.b,this.handleRsvpClick),this.removeEventListener(u.E,this.handleUnRsvpClick),this.removeEventListener("capture-devplatform-snapshot",this.handleCustomPostSnapshotEvent)}get isFeed(){return c.d(this.viewContext)}get isPopularFeed(){return this.isFeed&&c.a4(t.N())}get isHomeFeed(){return this.isFeed&&c.a5(t.N())}get isPDP(){return c.i(this.viewContext)}get isCardView(){return h.cJ(this.viewType)}get isCompactView(){return h.bN(this.viewType)}get shouldInlineGameTag(){return this.inlineGameTag&&h.cJ(this.viewType)}get isEligibleForRelatedCommunityRecommendations(){return this.isUserLoggedIn&&!!this.subredditId&&(this.isPDP&&!this.isDesktopViewport||this.isHomeFeed||this.isPopularFeed)}renderThumbnail(){return t.x` <slot name="${f}" @slotchange="${this.handleThumbnailSlotChange}"></slot>`}renderCommentsButton(){return function({viewContext:e,commentCount:o,permalink:i,pdpTarget:s,onClick:a,isUserLoggedIn:l,isPostCommentTapExp:d}){const p={className:L,onclick:a,name:"comments-action-button","data-post-click-location":t.fx.COMMENTS_BUTTON},u=c.d(e)?{...p,href:i,target:s??"_self"}:{...p,type:"button"};return n.c({appearance:"secondary",attributes:u,size:x,children:[F({isPDP:c.i(e),triggerElem:"closest(button)"}),t.x`<faceplate-number number="${o}" pretty></faceplate-number>`,!l&&d?h.z({triggerElem:"closest(button)",target:"closest(button)",eventName:"reply"}):t.A],leadingIcon:r.c({attributes:{className:"icon-comment","aria-hidden":"true"},size:n.I[x]}),screenReaderContent:"Go to comments"});}({viewContext:this.viewContext,commentCount:this.commentCount,permalink:this.permalink,pdpTarget:this.pdpTarget,onClick:this.handleClickCommentsButton,isUserLoggedIn:this.isUserLoggedIn,isPostCommentTapExp:this.isPostCommentTapExp});}renderVoteButton(){const e=h.bP(),o=e?s.a:s.v,i=e?s.b:s.u,n=e?s.c:s.d,r=this.postScore,a="Vote",l={voteType:this.postVoteType||null,appearance:h.ap()?"bordered":"secondary",size:x,attributes:{disabled:this.archived}},d=i({...l,voteCount:r,initialStateText:a,screenReaderContent:"Upvote",onClick:this.handleUpvote}),p=n({...l,screenReaderContent:"Downvote",onClick:this.handleDownvote});return this.isPDP&&performance.mark(t.ck),t.x` <span class="relative leading-[0] ${this.disabled?"disabled":""}"> ${F({isPDP:this.isPDP})} ${o({attributes:{"data-post-click-location":t.fx.VOTE,className:L},voteCount:r,voteType:this.postVoteType,upvoteButton:d,downvoteButton:p,appearance:l.appearance,size:l.size,initialStateText:a})} </span> `}renderShareButton(){if(this.applyFeedsSimplification)return t.A;const e=t.x` <shreddit-post-share-button data-post-click-location="${t.fx.SHARE}" permalink="${this.permalink}" source-id="${this.id}" ?is-crosspostable="${this.isCrosspostable}" ?is-embeddable="${this.isEmbeddable}" ?is-desktop-viewport="${this.isDesktopViewport}" ?ssr="${this.shareButtonSSR}" ?hide-button-text="${!this.isDesktopViewport}" size="${x}" button-class="${L}" @click="${this.handleShareButtonInteraction}" @keydown="${this.handleShareButtonInteraction}" appearance="${h.ap()?"bordered":"secondary"}" data-faceplate-tracking-context="${JSON.stringify({post:{id:this.id}})}" ${t.$(this.shareButtonRef)}> ${this.shareButtonSSR?t.x`<slot name="${A}" slot="${A}"></slot>`:t.A} </shreddit-post-share-button> `;return this.isCrosspostingV2Enabled&&this.isCrosspostingCoachmarkOpen&&"Subreddit"===this.eligibleCrosspostingSubreddit?.__typename?t.x`<slot name="${M}"> <crosspost-upsell-coachmark post-id="${this.id}" name="${this.eligibleCrosspostingSubreddit?.name}" prefixed-name="${this.eligibleCrosspostingSubreddit?.prefixedName}" subreddit-id="${this.eligibleCrosspostingSubreddit?.id}" ?open="${this.isCrosspostingCoachmarkOpen}"> ${e} </crosspost-upsell-coachmark> </slot> `:t.x` <slot name="${M}"> ${e} </slot> `}renderExpandoButton(){return this.isDesktopViewport?this._expandoController.renderExpandoButton():""}renderReportButton(){const e="Report";return t.x` ${n.c({appearance:"secondary",attributes:{onclick:()=>{var e,o;t.k(this,(e="post",t.c({source:e,action:"click",noun:"report"}))),this.dispatchEvent((o=this.id,t.d(t.ki,{thingId:o})))},type:"button",className:L},size:x,children:this.isDesktopViewport?e:"",leadingIcon:l.r({attributes:{className:"icon-report","aria-hidden":"true"},size:n.I[x]}),screenReaderContent:e})} `}renderActionRow(){if(this.isPDP&&this.isPdpSeekerM1LO)return this.renderSeekerPostInfoRow();const e=["shreddit-post-container flex gap-sm flex-row items-center flex-nowrap justify-start"];return this.isPDP?this.isCompactUIExp?e.push("py-xs px-md xs:px-0"):e.push("h-2xl mt-md px-md xs:px-0"):this.isCardView&&!this.promoted&&!this.isCrosspost&&this.isEmbed&&e.push("pt-xs"),t.x`<div class="${e.join(" ")}" data-testid="action-row" tabindex="0" aria-label="${"Actions available for this post"}"> ${this.renderVoteButton()} ${this.renderCommentsButton()} ${function({applyFeedsSimplification:e,awardCount:o,awardId:i,commentCount:s,feedIndex:n,hasBrandedAward:r,hasIconicAward:a,hideAwardIcon:l,iconUrl:d,iconUrls:p,isAwardable:h,isAwardedByUser:u,postId:c,postScore:m,postType:b,subredditId:v}){return!h||e?t.A:t.x`<award-button appearance="secondary" size="${x}" button-class="${L}" thing-id="${c}" count="${t.aa(o)}" award-id="${t.aa(i)}" icon-url="${t.aa(l?void 0:d)}" icon-urls="${t.aa(l?void 0:JSON.stringify(p))}" ?is-awarded-by-user="${u}" ?has-iconic-award="${a}" ?has-branded-award="${r}" subreddit-id="${t.aa(v)}" post-id="${c}" feed-index="${t.aa(n)}" post-type="${t.aa(b)}" score="${t.aa(m)}" comment-count="${t.aa(s)}"></award-button>`}({applyFeedsSimplification:this.applyFeedsSimplification,awardCount:this.awardCount,awardId:this.awardId,commentCount:this.commentCount,feedIndex:this.feedIndex,hasBrandedAward:this.hasBrandedAward,hasIconicAward:this.hasIconicAward,hideAwardIcon:this.hideAwardIcon,iconUrl:this.awardIconUrl,iconUrls:this.awardIconUrls,isAwardable:this.isAwardable,isAwardedByUser:this.isAwardedByUser,postId:this.id,postScore:this.postScore,postType:this.postType,subredditId:this.subredditId})} ${this.renderShareButton()} ${this.isReportingEnabled&&!this.isFeed?this.renderReportButton():""} <div class="ms-auto flex flex-row"> <slot name="${H}"></slot> <slot name="${"promote-post-button"}"></slot> </div> <slot name="${"action-row-whitespace"}"></slot> </div>`;}renderSeekerPostInfoRow(){return t.x` <div class="px-md xs:px-0 py-xs truncate text-neutral-content-weak text-12 flex items-center gap-2xs font-semibold" data-testid="seeker-post-info-row"> ${void 0!==this.postScore?t.x` ${T.u({size:t.I.Small})} <faceplate-number number="${this.postScore}" pretty></faceplate-number> ${s.e({size:t.I.Small})} `:t.A} ${this.postScore&&this.commentCount?t.x`<span data-testid="seeker-post-info-row-divider" aria-hidden="true">Â·</span>`:t.A} ${this.commentCount?t.x` ${r.c({size:t.I.Small})} <faceplate-number number="${this.commentCount}" pretty></faceplate-number> `:t.A} </div> `}renderMessageBanner(){return t.x` ${this.isLocked?t.x`<slot name="${"post-locked-banner"}"></slot>`:null} ${this.isBanned?t.x`<slot name="${"post-banned-banner"}"></slot>`:null} <slot name="${"post-archived-banner"}"></slot> ${this.showPostRemovalBanner?t.x`<slot name="${"post-removed-banner"}"></slot>`:null} ${this.isContestMode?t.x`<slot name="${"post-contest-mode-banner"}"></slot>`:null} `}trackContentTagClick(t){t.detail.type===i.C.APP&&this.trackWatermarkEvent("v1_badge")}trackWatermarkEvent(e){const o=t.c(b.c({postId:this.id||"",subredditId:this.subredditId||"",blockType:"",pageType:t.N(),action:"click",noun:"watermark",appId:this.appId||"",appInstallationId:this.appInstallationId||"",appVersionNumber:this.appVersionNumber||"",appPublicApiVersion:this.appPublicApiVersion||"",appName:this.appSlug||"",appSlug:this.appSlug||"",userAgent:window.navigator?.userAgent.toLowerCase()||"unknown",watermark:e}));t.k(this,o)}renderPostHeader(){return t.x` <slot name="${U}"></slot> ${this.isEligibleForRelatedCommunityRecommendations?t.x`<slot name="${"related-community-recommendation"}"></slot>`:t.x``} <div id="content-tag-container" class="flex justify-between gap-xs ${t.Q({"px-md":this.isPDP,"xs:px-0":this.isPDP})}"> ${this.renderContentTags()} ${this.shouldInlineGameTag?t.A:this.renderAppPrivacyButton()} </div> ${this.renderPostLinkForMTSEO()} `}renderAppPrivacyButton(){return this.appName?t.x`<rpl-dialog-trigger dialog-id="${this.appSlug}-privacy-dialog" class="block flex"> ${t.u({appearance:"plain",attributes:{onclick:()=>(this.trackWatermarkEvent("v1_privacy_link"),this._activateFeature({name:t.kj,routeParams:{appSlug:this.appSlug,appOwnerId:this.appOwnerId||"null",postId:this.id,subredditId:this.subredditId},queryParams:{appName:this.appName},renderMode:t.P.Contents})),className:"flex gap-xs z-0 relative"},children:"Privacy",leadingIcon:a.i({size:t.I.ExtraSmall}),size:t.v.ExtraSmall})} </rpl-dialog-trigger>`:t.A;}renderPostLinkForMTSEO(){if(!this.isMTSEOUserPage)return"";if(this.shouldHideOriginalLanguageLink)return"";const e=new RegExp(/[^?]+/),o=this.permalink?.match(e);if(!o||0===o.length)return"";const i=t.c9(o[0],t.kl,t.kk);return t.x` <mtseo-show-original-link class="inline-flex" post-id="${this.id}" href="${i}" ?with-intervention="${this.hasMTSEOTranslationInterruption}"></mtseo-show-original-link> `}renderTitle(){const e=t.x`<slot name="${"title"}"></slot>`;return this.showFullContent||this.isPDP?e:t.x`<h2 dir="auto" class="condensed-post-title-heading ${this.shouldInlineGameTag?"flex flex-row justify-between":""}"> ${e} ${this.shouldInlineGameTag?this.renderAppPrivacyButton():t.A} </h2>`}renderTextBody(){return t.x`<slot name="${"text-body"}"></slot>`}renderPostMediaContainer(e){return t.x` <slot name="${"post-media-container"}" class="${e??""}"></slot> `}renderFeedFlair(){return this.isPDP?"":t.x`<div> <slot name="${$}" class="feed-flair-slot"></slot> </div>`}renderPDPFlair(){const e=this.isCompactUIExp?"leading-none":"xs:px-0";return this.isPDP?t.x`<div class="px-md ${e}"> <slot name="${$}" class="pdp-flair-slot"></slot> </div>`:""}renderDeletedPost(){return t.x` <div class="deleted-post h-3xl flex items-center"> <p class="font-semibold text-neutral-content-strong text-14"> ${"Post deleted"} </p> </div> `;}renderHiddenPost(){return t.x` <div class="hidden-post h-3xl flex items-center justify-between px-md"> <div> <p class="m-0 font-semibold text-neutral-content-strong text-14"> ${"Post hidden"} </p> </div> ${t.u({attributes:{onclick:this.unhidePost},size:t.v.Medium,appearance:"secondary",children:"Undo"})} </div> `;}renderCompactView(){const e="grid grid-cols-[1fr_min-content] grid-rows-[auto_auto_auto_auto_auto] xs:grid-cols-[min-content_1fr] xs:grid-rows-[auto_auto_auto_auto]",o="col-start-1 col-end-3 row-start-1 row-end-2 xs:col-start-1 xs:col-end-3 xs:row-start-1 xs:row-end-2",i="col-start-2 col-end-3 row-start-2 row-end-3 xs:col-start-1 xs:col-end-2 xs:row-start-2 xs:row-end-4",s="col-start-1 col-end-2 row-start-2 row-end-3 xs:col-start-2 xs:col-end-3 xs:row-start-2 xs:row-end-3 overflow-hidden",n="col-start-1 col-end-3 row-start-3 row-end-4 xs:hidden",r="col-start-1 col-end-3 row-start-4 row-end-5 xs:col-start-2 xs:col-end-3 xs:row-start-3 xs:row-end-4",a="col-start-1 col-end-3 row-start-5 row-end-6 xs:col-start-2 xs:col-end-3 xs:row-start-4 xs:row-end-5 overflow-hidden",l="col-start-1 col-end-3 row-start-6 row-end-7 xs:col-start-2 xs:col-end-3 xs:row-start-5 xs:row-end-6";return t.x` <slot name="${j}"></slot> <div class="${h.j("grid",e)}"> <div class="${o}"> <slot name="${"recommendation-bar"}"></slot> </div> <div class="${h.j(i,"mt-2xs ml-xs xs:my-2xs xs:ml-0 xs:mr-md")}"> <slot name="${f}"></slot> </div> <div class="${h.j(s,"mt-2xs")}"> <div class="mb-2xs xs:mb-0"> <slot name="${U}"></slot> </div> <div class="overflow-hidden"> ${this.renderTitle()} <slot name="${"content-tags"}"></slot> <slot name="${"app-privacy"}"></slot> <slot name="${$}"></slot> </div> <div> <slot name="${B}"></slot> <slot name="${H}"></slot> </div> <div> <slot name="${"desktop-cta-row"}"></slot> </div> </div> <div class="${n}"> <slot name="${"mobile-cta-row"}"></slot> </div> <div class="${h.j(r,"flex gap-2xs overflow-hidden items-center mb-2xs mt-xs xs:mt-[2px]")}"> <slot name="${"action-bar-ad-cta"}"></slot> ${this.renderExpandoButton()}${this.renderVoteButton()} <slot name="${"overflow-menu-bar"}" class="grow overflow-hidden block"></slot> </div> <div class="${a}"> <slot name="${"expando-content"}"></slot> </div> <div class="${l}">${this.renderPostStatsEntryPoint()}</div> </div> ${this.renderPostStatsContainer()} `}renderPostStatsContainer(){return t.x`<slot name="${"post-insights-panel"}"></slot>`}renderPostStatsEntryPoint(){return t.x`<slot name="${"post-stats-entry-point"}"></slot>`}renderCardViewPostFooter(){return t.x` ${this.renderMessageBanner()} <slot name="${"post-recovery-section"}"></slot> ${this.renderActionRow()} ${this.renderPostStatsEntryPoint()} ${this.renderPostStatsContainer()} `}renderContentTags(){return t.x`<shreddit-content-tags post-id="${this.id}" ?nsfw="${this.nsfw}" ?spoiler="${this.spoiler}" app="${this.shouldInlineGameTag?"":this.appSlug}" ?game="${!this.shouldInlineGameTag&&this.game}" @tag-click="${t=>this.trackContentTagClick(t)}"></shreddit-content-tags>`}renderSlimCardPost(){return t.x` <slot name="${j}"></slot> <slot></slot> <div class="pt-xs">${this.renderCardViewPostFooter()}</div> `}renderCardView(){const e=this.isThumbnailSet?"ml-xs xs:ml-sm":void 0;return t.x` <slot name="${j}"></slot> ${this.renderPostHeader()} <div class="flex"> <div class="flex flex-col grow max-w-full"> ${this.renderTitle()} ${this.renderPDPFlair()} <slot name="${B}"></slot> ${this.isPDP?null:this.renderTextBody()} ${this.renderFeedFlair()} </div> <div class="${t.aa(e)}">${this.renderThumbnail()}</div> </div> ${this.renderPostMediaContainer("xs:pt-md")} ${this.isPDP?this.renderTextBody():null} <slot></slot> ${this.renderCardViewPostFooter()} `}render(){return this.deleted?this.renderDeletedPost():this.showShortHiddenPostForm()?this.renderHiddenPost():this.isCompactView?this.renderCompactView():this.isSlimCard?this.renderSlimCardPost():this.renderCardView()}handleView(e,o,i){!o&&this.isPDP||c.a6(this.viewContext)&&this.hasBeenViewed||t.k(this,e),this.gallery&&t.k(this,E.a(this,0,i)),this.morePostsCursor&&this.handleLoadMorePosts()}handleConsume(){!this.isPDP&&this.becameVisibleOnScreenTimestamp&&Date.now()-this.becameVisibleOnScreenTimestamp>c.c&&!c.a6(this.viewContext)&&this.trackConsume()}handleClick(e,o){e&&t.k(this,e),o&&this.dispatchEvent(o)}handleShareButtonInteraction(){this.isDesktopViewport?this.handleClick(c.a7(this)):this.handleClick(c.a8(this))}handleClickCommentsButton(e){if(t.k(this,c.w(this)),this.isFeed)return;this.isPostCommentTapExp||g.s("smooth");if((e?.currentTarget?.querySelector("faceplate-number")?.number??0)>0&&!this.isPostCommentTapExp){const t=document.querySelector("shreddit-comments-sort-dropdown")?.querySelector("shreddit-sort-dropdown")?.shadowRoot?.querySelector("faceplate-dropdown-menu")?.querySelector("button");t?.focus()}else{if(!this.isUserLoggedIn&&this.isPostCommentTapExp)return;const t=document.querySelector("comment-body-header comment-composer-host");this.isPostCommentTapExp&&t?.scrollIntoView({behavior:"smooth",block:"center"}),t?.focus()}}handleClickPost(t){const e=c.a9(t,this);this.handleClick(e)}handleCarouselArrowClick(t){t.preventDefault();const e=t;E.h(this,e)}async handleUpdatePostVote(e){const o=this.postScore,i=this.postVoteType;if(void 0!==this.postScore){const t=this._getPostScoreDelta(e);this.postScore=this.postScore+t}this.postVoteType=e===this.postVoteType?void 0:e;try{await this._onUpdatePostVoteType(),this.postVoteType&&this.pubsub.publish(this.postVoteType===m.V.Upvote?t.T.PostUpvoted:t.T.PostDownvoted,{postId:this.id})}catch(s){this.postScore=o,this.postVoteType=i,this.dispatchEvent(t.d("faceplate-alert",{level:t.a0.warning,message:s,sourceElement:e,cause:`failed-${e}`}))}}async handleCrosspostingV2Experiment(){const t=await N(this.id);this.eligibleCrosspostingSubreddit=t,this.isCrosspostingCoachmarkOpen=!!t}async handleUpvote(e){const o=this.postVoteType===m.V.Upvote;if(this.isUserLoggedIn)return this.handleClick(o?c.m(this):c.u(this)),await this.handleUpdatePostVote(m.V.Upvote),!o&&this.isCrosspostingV2Enabled&&this.handleCrosspostingV2Experiment(),void(this.isAma&&!o&&this.pubsub.publish(t.T.TriggerAmaRemindMeModal,{postId:this.id}));this.disabled?(this.dispatchEvent(t.d(t.ei.upvoteTry,{thingId:this.id,permalink:this.permalink})),t.k(this,c.aa(this))):this.handleClick(c.u(this),t.d(t.ei.upvote,{thingId:this.id,permalink:this.permalink}))}async handleDownvote(e){if(this.isUserLoggedIn)return this.handleClick(this.postVoteType===m.V.Downvote?c.m(this):c.n(this)),void (await this.handleUpdatePostVote(m.V.Downvote));this.disabled?(this.dispatchEvent(t.d(t.ei.downvoteTry,{thingId:this.id,permalink:this.permalink})),t.k(this,c.aa(this))):this.handleClick(c.n(this),t.d(t.ei.downvote,{thingId:this.id,permalink:this.permalink}))}onBeforeUnload(){this._hasPageUnloaded=!0,this.isPostInViewport&&(this.handleConsume(),this.isPostLeaveEventsEnabled&&t.k(this,c.a1(this)))}handleHovercardOpen(e){if(!(e.target instanceof HTMLElement&&"id"in e.target.dataset))return;const o=e.target.dataset.id;"community-hover-card"===o&&t.k(this,c.ab(this)),"user-hover-card"===o&&t.k(this,c.ac(this))}handleThumbnailSlotChange(t){const e=t.target?.assignedElements();this.isThumbnailSet=e.length>0}observerIsIntersectingCallback(e){this.isNotBrandSafe&&e.target===this&&window.dispatchEvent(t.d(t.ho,{postId:this.id,isInView:!0})),this.isPostInViewport||(this.isPostInViewport=!0,this.becameVisibleOnScreenTimestamp=Date.now(),this.handleView(c.o(this),!this.isPDP),this.isTranslatable&&this.isTranslationV2Enabled&&k.o.post(this,this),this.hasBeenViewed=!0,c.a6(this.viewContext)&&(this.listingBelowConsumeTimer=setTimeout(this.trackConsume,c.c)))}observerIsNotIntersectingCallback(e){clearTimeout(this.listingBelowConsumeTimer),this.isNotBrandSafe&&e.target===this&&window.dispatchEvent(t.d(t.ho,{postId:this.id,isInView:!1}));const o=this.isPostInViewport;this.isPostInViewport=!1,o&&(this.handleConsume(),this.isPostLeaveEventsEnabled&&t.k(this,c.a1(this)))}};return t._([t.n({type:Boolean})],K.prototype,"archived",void 0),t._([t.n({type:Boolean})],K.prototype,"deleted",void 0),t._([t.n({type:Boolean,reflect:!0})],K.prototype,"hidden",void 0),t._([t.n({type:String,attribute:"author-id"})],K.prototype,"authorId",void 0),t._([t.n({type:String,attribute:"created-timestamp"})],K.prototype,"createdTimestamp",void 0),t._([t.n({type:String})],K.prototype,"domain",void 0),t._([t.n({type:String,attribute:"content-href"})],K.prototype,"contentHref",void 0),t._([t.n({type:String})],K.prototype,"id",void 0),t._([t.n({type:String,attribute:"user-id"})],K.prototype,"userId",void 0),t._([t.n({type:String,attribute:"app-id"})],K.prototype,"appId",void 0),t._([t.n({type:String,attribute:"app-slug"})],K.prototype,"appSlug",void 0),t._([t.n({type:Boolean})],K.prototype,"game",void 0),t._([t.n({type:String,attribute:"app-installation-id"})],K.prototype,"appInstallationId",void 0),t._([t.n({type:String,attribute:"app-name"})],K.prototype,"appName",void 0),t._([t.n({type:String,attribute:"app-owner-id"})],K.prototype,"appOwnerId",void 0),t._([t.n({type:String,attribute:"app-version-number"})],K.prototype,"appVersionNumber",void 0),t._([t.n({type:String,attribute:"app-public-api-version"})],K.prototype,"appPublicApiVersion",void 0),t._([t.n({type:Boolean,reflect:!0})],K.prototype,"nsfw",void 0),t._([t.n({type:Boolean})],K.prototype,"promoted",void 0),t._([t.n({type:Number})],K.prototype,"score",void 0),t._([t.n({type:Boolean,reflect:!0})],K.prototype,"spoiler",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],K.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],K.prototype,"subredditName",void 0),t._([t.n({type:Boolean,attribute:"is-subscribed"})],K.prototype,"isSubscribed",void 0),t._([t.n({type:String,attribute:"subreddit-prefixed-name"})],K.prototype,"subredditPrefixedName",void 0),t._([t.n({type:String,attribute:"post-title"})],K.prototype,"postTitle",void 0),t._([t.n({type:String,attribute:"post-type"})],K.prototype,"postType",void 0),t._([t.n({type:String,attribute:"recommendation-source"})],K.prototype,"recommendationSource",void 0),t._([t.n({type:String,attribute:"recommendation-subreddit-id"})],K.prototype,"recommendationSubredditId",void 0),t._([t.n({type:String,attribute:"recommendation-subreddit-name"})],K.prototype,"recommendationSubredditName",void 0),t._([t.n({type:String,attribute:"post-language"})],K.prototype,"postLanguage",void 0),t._([t.n({type:String,attribute:"translation-language"})],K.prototype,"translationLanguage",void 0),t._([t.n({type:Boolean,attribute:"is-translation-on",reflect:!0})],K.prototype,"isTranslationOn",void 0),t._([t.n({type:Number})],K.prototype,"feedIndex",void 0),t._([t.n({type:Boolean,attribute:"stickied"})],K.prototype,"isStickied",void 0),t._([t.n({type:Boolean,attribute:"highlighted"})],K.prototype,"isHighlighted",void 0),t._([t.n({type:Boolean,attribute:"crossposting-v2-enabled"})],K.prototype,"isCrosspostingV2Enabled",void 0),t._([t.n({type:Boolean,attribute:"is-translation-v2-enabled"})],K.prototype,"isTranslationV2Enabled",void 0),t._([t.n({type:Number,attribute:"comment-count"})],K.prototype,"commentCount",void 0),t._([t.n({type:Boolean,attribute:"is-awardable"})],K.prototype,"isAwardable",void 0),t._([t.n({type:Number,attribute:"award-count"})],K.prototype,"awardCount",void 0),t._([t.n({type:String,attribute:"award-id"})],K.prototype,"awardId",void 0),t._([t.n({type:String,attribute:"award-icon-url"})],K.prototype,"awardIconUrl",void 0),t._([t.n({type:Array,attribute:"award-icon-urls"})],K.prototype,"awardIconUrls",void 0),t._([t.n({type:Boolean,attribute:"hide-award-icon"})],K.prototype,"hideAwardIcon",void 0),t._([t.n({type:Boolean,attribute:"is-awarded-by-user"})],K.prototype,"isAwardedByUser",void 0),t._([t.n({type:Boolean,attribute:"has-iconic-award"})],K.prototype,"hasIconicAward",void 0),t._([t.n({type:Boolean,attribute:"has-branded-award"})],K.prototype,"hasBrandedAward",void 0),t._([t.n({type:String})],K.prototype,"permalink",void 0),t._([t.n({type:Boolean})],K.prototype,"gallery",void 0),t._([t.n({type:String,attribute:"view-context"})],K.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"view-type"})],K.prototype,"viewType",void 0),t._([t.n({type:Boolean,attribute:"is-slim-card"})],K.prototype,"isSlimCard",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],K.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"is-reporting-enabled"})],K.prototype,"isReportingEnabled",void 0),t._([t.n({type:Boolean,attribute:"is-link-post"})],K.prototype,"isLinkPost",void 0),t._([t.n({type:Boolean,attribute:"is-ama"})],K.prototype,"isAma",void 0),t._([t.n({type:Boolean,attribute:"is-embed"})],K.prototype,"isEmbed",void 0),t._([t.n({type:Boolean,attribute:"is-not-brand-safe"})],K.prototype,"isNotBrandSafe",void 0),t._([t.n({type:Boolean,attribute:"is-crosspost"})],K.prototype,"isCrosspost",void 0),t._([t.n({type:Boolean,attribute:"is-crosspostable"})],K.prototype,"isCrosspostable",void 0),t._([t.n({type:Boolean,attribute:"is-embeddable"})],K.prototype,"isEmbeddable",void 0),t._([t.n({type:Boolean,attribute:"user-logged-in"})],K.prototype,"isUserLoggedIn",void 0),t._([t.n({type:Boolean,attribute:"disabled"})],K.prototype,"disabled",void 0),t._([t.n({type:String,attribute:"vote-type"})],K.prototype,"voteType",void 0),t._([t.n({type:Boolean,attribute:"show-full-content"})],K.prototype,"showFullContent",void 0),t._([t.n({type:Boolean,attribute:"is-translatable"})],K.prototype,"isTranslatable",void 0),t._([t.n({type:Boolean,attribute:"is-translation-fetched",reflect:!0})],K.prototype,"isTranslationFetched",void 0),t._([t.n({type:Boolean,attribute:"is-post-translated",reflect:!0})],K.prototype,"isPostTranslated",void 0),t._([t.n({type:Boolean,attribute:"is-post-body-translated",reflect:!0})],K.prototype,"isPostBodyTranslated",void 0),t._([t.n({type:Boolean,attribute:"is-mt-seo-user-page",reflect:!0})],K.prototype,"isMTSEOUserPage",void 0),t._([t.n({type:Boolean,attribute:"should-hide-original-language-link"})],K.prototype,"shouldHideOriginalLanguageLink",void 0),t._([t.n({type:Boolean,attribute:"has-mt-seo-translation-interruption"})],K.prototype,"hasMTSEOTranslationInterruption",void 0),t._([t.n({type:String,attribute:"more-posts-cursor"})],K.prototype,"morePostsCursor",void 0),t._([t.n({type:Boolean,attribute:"should-track-post-leave-events"})],K.prototype,"isPostLeaveEventsEnabled",void 0),t._([t.n({type:Boolean,attribute:"locked",reflect:!0})],K.prototype,"isLocked",void 0),t._([t.n({type:Boolean,attribute:"banned",reflect:!0})],K.prototype,"isBanned",void 0),t._([t.n({type:Boolean,attribute:"is-contest-mode",reflect:!0})],K.prototype,"isContestMode",void 0),t._([t.n({type:String,attribute:"pdp-target"})],K.prototype,"pdpTarget",void 0),t._([t.n({type:Boolean,attribute:"is-promoteable-post"})],K.prototype,"isPromoteablePost",void 0),t._([t.n({type:String,attribute:"moderation-verdict"})],K.prototype,"moderationVerdict",void 0),t._([t.n({type:Boolean,attribute:"previous-actions-feature"})],K.prototype,"previousActionsFeature",void 0),t._([t.n({type:String,reflect:!0})],K.prototype,"updateAnimation",void 0),t._([t.n({type:String,attribute:"item-state",reflect:!0})],K.prototype,"itemState",void 0),t._([t.n({type:Boolean,attribute:"are-reports-expandable"})],K.prototype,"areReportsExpandable",void 0),t._([t.n({type:Boolean,attribute:"compact-ui-experiment"})],K.prototype,"isCompactUIExp",void 0),t._([t.n({type:Boolean,attribute:"post-comment-tap-exp"})],K.prototype,"isPostCommentTapExp",void 0),t._([t.n({type:Boolean,attribute:"is-pdp-seeker-m1-lo"})],K.prototype,"isPdpSeekerM1LO",void 0),t._([t.n({type:Boolean,attribute:"share-button-ssr"})],K.prototype,"shareButtonSSR",void 0),t._([t.n({type:Boolean,attribute:"interaction-from-hotkey"})],K.prototype,"interactionFromHotkey",void 0),t._([t.n({type:Boolean,attribute:"apply-feeds-simplification"})],K.prototype,"applyFeedsSimplification",void 0),t._([t.n({type:Boolean,attribute:"inline-game-tag"})],K.prototype,"inlineGameTag",void 0),t._([t.j()],K.prototype,"showPostRemovalBanner",void 0),t._([t.j()],K.prototype,"showExpando",void 0),t._([t.j()],K.prototype,"postVoteType",void 0),t._([t.j()],K.prototype,"postScore",void 0),t._([t.j()],K.prototype,"useShortHiddenPostForm",void 0),t._([t.j()],K.prototype,"isThumbnailSet",void 0),t._([t.j()],K.prototype,"isUpdatingPostBody",void 0),t._([t.j()],K.prototype,"displayPostAnalytics",void 0),t._([t.j()],K.prototype,"isCrosspostingCoachmarkOpen",void 0),t._([t.j()],K.prototype,"eligibleCrosspostingSubreddit",void 0),K=t._([t.e("shreddit-post")],K),{D:x,get S(){return K},a:L}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./DGvV9ljiFl.js",import.meta.url,"DGvV9ljiFl");SML.di("./Xj9Z_fzyKi.js",import.meta.url,"Xj9Z_fzyKi");SML.di("./DLdgTt_kCu.js",import.meta.url,"DLdgTt_kCu");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./CYTfL7o2sC.js",import.meta.url,"CYTfL7o2sC");SML.di("./CEf2DD9Ins.js",import.meta.url,"CEf2DD9Ins");
SML.dm("DexfRc7sX8",["CYrPuvCiTj","DGvV9ljiFl","Xj9Z_fzyKi","DLdgTt_kCu","C8CrqKCiqJ","CYTfL7o2sC","CEf2DD9Ins"],(async(t,a,e,i,r,s)=>{let n=class extends t.s{constructor(){super(...arguments),this.isModTranslationIndicatorsEnabled=!1,this.translationContextValue=t.aN,this.pubsub=new t.z(this),this.getIsTranslationActive=()=>{const a=i.i();return(!this.isModTranslationIndicatorsEnabled||this.translationState!==t.bu.DISABLED)&&("boolean"==typeof this.postTranslated?this.postTranslated:a||!!this.translationContextValue?.isTranslationActive)},this.onPostTranslationOverride=t=>{(t.id===this.postId||t.isContextUpdateEvent)&&(this.postTranslated=t.isTranslationActive)},this.handleClick=()=>{if(!this.postId)return;const a=this.getPageTypeForTranslation(t.N()),e=this.getIsTranslationActive();this.pubsub.publish(t.T.I18nPostTranslationOverride,{id:this.postId,isTranslationActive:!e,pageType:a});const i=document.querySelector(`shreddit-post[id*="${this.postId}"]`);t.k(this,r.q({archived:i?.archived,authorId:i?.authorId,createdTimestamp:i?.createdTimestamp,domain:i?.domain,id:this.postId,nsfw:i?.nsfw,promoted:i?.promoted,score:i?.score,spoiler:i?.spoiler,subredditId:i?.subredditId,subredditPrefixedName:i?.subredditPrefixedName,postTitle:i?.postTitle,postType:i?.postType,recommendationSource:i?.recommendationSource,commentCount:i?.commentCount,permalink:i?.permalink,postLanguage:i?.postLanguage,translationLanguage:this.translationLanguage,isPostTranslated:e}))}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.I18nPostTranslationOverride,this.onPostTranslationOverride,!1);const a=i.P.get();this.isPdpBannerSettingEnabled=a?.isPdpBannerSettingEnabled??!0,this.pageType=t.N()}getPageTypeForTranslation(a){return!!a&&[t.ar.PostDetail,t.ar.ModQueue,t.ar.ModQueueAll,t.ar.ModQueuePdp].includes(a)?s.T.Pdp:s.T.Feed}render(){return this.isPdpBannerSettingEnabled&&this.pageType===t.ar.PostDetail?t.A:t.x` <rpl-tooltip appearance="inverted" placement="top" trigger="hover focus" content="${this.getIsTranslationActive()?"Show original":"Translate"}"> ${t.u({appearance:"plain",attributes:{onclick:this.handleClick,"aria-label":"Toggle post translation"},leadingIcon:this.getIsTranslationActive()?a.t({size:t.I.ExtraSmall,attributes:{"data-testid":"post-translation-status-icon-translated-icon","aria-label":"Post is translated",className:"text-primary-plain"}}):e.t({size:t.I.ExtraSmall,attributes:{"data-testid":"post-translation-status-icon-original-icon","aria-label":"Post is in original language",className:"text-primary-plain"}}),size:t.v.ExtraSmall})} </rpl-tooltip> `;}};n.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],n.prototype,"postId",void 0),t._([t.n({type:String,attribute:"translation-language"})],n.prototype,"translationLanguage",void 0),t._([t.n({type:String,attribute:"translation-state"})],n.prototype,"translationState",void 0),t._([t.n({type:Boolean,attribute:"is-mod-translation-indicators-enabled"})],n.prototype,"isModTranslationIndicatorsEnabled",void 0),t._([t.aM({context:t.aO,subscribe:!0}),t.j()],n.prototype,"translationContextValue",void 0),t._([t.j()],n.prototype,"postTranslated",void 0),t._([t.j()],n.prototype,"isPdpBannerSettingEnabled",void 0),t._([t.j()],n.prototype,"pageType",void 0),n=t._([t.e("post-translation-status-icon")],n)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.dm("DgaC1xItoR",["CYrPuvCiTj","B39chFHLCe","DGkwklwWNC","wzdls1o9Kk"],(async(r,o,t)=>{class e extends o.T{constructor(){super(...arguments),this.variant="plain",this.placement=t.P.Bottom,this.disabled=!1,this.label="",this.distance=8,this.animationNames={show:"coachmark.show",hide:"coachmark.hide",denyClose:"coachmark.denyClose",overlayShow:"coachmark.overlay.show",overlayHide:"coachmark.overlay.hide"}}connectedCallback(){super.connectedCallback(),this.addEventListener("rpl-coachmark-card:close-button-clicked",this.hide)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("rpl-coachmark-card:close-button-clicked",this.hide)}render(){return r.x` <rpl-popper ?active="${this.open}" strategy="${this.hoist?"fixed":"absolute"}" .anchor="${this.anchor}" flip shift arrow safe-area distance="${this.distance}" skidding="${this.skidding}" placement="${r.aa(this.placement)}" exportparts="
          popup:popper--popup,
          arrow:popper--arrow
        " class="${r.Q({coachmark:!0,"coachmark--open":this.open})}" ${r.$(this.popperRef)}> <slot slot="anchor" ${r.$(this.defaultSlotRef)}></slot> <slot name="content" ${r.$(this.bodyRef)} ${r.$(this.contentSlotRef)}></slot> </rpl-popper> `}}r._([r.n({type:String,reflect:!0})],e.prototype,"variant",void 0),r._([r.n({type:String,reflect:!0})],e.prototype,"placement",void 0),r._([r.n({type:Boolean,reflect:!0})],e.prototype,"disabled",void 0),r._([r.n({type:String,reflect:!0})],e.prototype,"label",void 0),r._([r.n()],e.prototype,"anchor",void 0);var a=r.i`${r.a2}:host{--transition-duration:250ms;display:contents}:host,:host([appearance=neutral]){--rpl-coachmark-background-color:var(--color-neutral-background);--rpl-coachmark-color:var(--color-neutral-content-strong)}:host([appearance=inverted]){--rpl-coachmark-background-color:var(--color-inverted-neutral-background);--rpl-coachmark-color:var(--color-inverted-neutral-content-strong)}.coachmark{--arrow-size:var(--rpl-coachmark-arrow-size, 4px);--arrow-color:var(--rpl-coachmark-background-color)}rpl-popper{--arrow-size:8px}rpl-popper[placement^=top]::part(arrow){box-shadow:1px 1px 2px rgba(0,0,0,.05)}rpl-popper[placement^=bottom]::part(arrow){box-shadow:-1px -1px 2px rgba(0,0,0,.05)}rpl-popper[placement^=left]::part(arrow){box-shadow:0 -2px 2px rgba(0,0,0,.05)}rpl-popper[placement^=right]::part(arrow){box-shadow:-2px 0 2px rgba(0,0,0,.05)}rpl-popper::part(popup){z-index:var(--rpl-z-index-tooltip,var(--faceplate-tooltip-z-index,1))}rpl-popper[placement^=top]::part(popup){transform-origin:bottom}rpl-popper[placement^=bottom]::part(popup){transform-origin:top}rpl-popper[placement^=left]::part(popup){transform-origin:right}rpl-popper[placement^=right]::part(popup){transform-origin:left}`;let p=class extends e{};return p.styles=a,p=r._([r.e("rpl-coachmark")],p),{get RPLCoachmark(){return p}}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./rxXg4kAY8P.js",import.meta.url,"rxXg4kAY8P");SML.di("./005PrA1Byk.js",import.meta.url,"005PrA1Byk");SML.di("./B9Z38jXwJn.js",import.meta.url,"B9Z38jXwJn");SML.di("./C7tY_fu9Em.js",import.meta.url,"C7tY_fu9Em");SML.di("./BGnZpZ200J.js",import.meta.url,"BGnZpZ200J");SML.di("./Hw1PFKH8z9.js",import.meta.url,"Hw1PFKH8z9");SML.di("./B58tzg41t5.js",import.meta.url,"B58tzg41t5");SML.di("./HQokY_KEgH.js",import.meta.url,"HQokY_KEgH");
SML.dm("DkWJZxM_zm",["CYrPuvCiTj","rxXg4kAY8P","005PrA1Byk","B9Z38jXwJn","C7tY_fu9Em","BGnZpZ200J","Hw1PFKH8z9","HQokY_KEgH","B58tzg41t5"],(async(e,i,t,s,a,o,n,r)=>{const l="share-menu-template",h="share-menu-copy-link-option",p="share-menu-crosspost-option",u="share-menu-embed-option",d="share-dropdown-menu",c=({source:i,noun:t})=>e.c({source:i||"share",action:"click",noun:t}),k=({source:e}={})=>c({source:e,noun:"share_crosspost"}),m=({source:e}={})=>c({source:e,noun:"share_profile_crosspost"}),T=()=>e.c({source:"comment",action:"click",noun:"share_as_post"},{action_info:{reason:"share_sheet"}}),S=Symbol("mixins/with-share");const E=(e,i,t)=>{const s=["click","keydown"],a=e.querySelector(`.${i}`);for(const e of s)a?.addEventListener(e,t)};return {C:"comment-share-menu-template",E:u,S:l,W:function(I){if(e.dm(I,S))return I;const C=I;class N extends C{constructor(){super(...arguments),this.permalink="",this.sourceId="",this.source=void 0,this.isCrosspostable=!1,this.isEmbeddable=!1,this.disabled=!1,this.isDesktopViewport=!1,this.hideButtonText=!1,this.hideButtonIcon=!1,this.shouldAllowPropagation=!1,this.shareMenuFeatureName=e.aL,this.shareMenuTemplateId=l,this.translationLanguage="",this.isShareMenuInitiated=!1,this.showPostAssignModal=i.s,this.isShareDropdownOpened=!1,this.activateShareMenuFeature=()=>{const i={};return this.isCrosspostable&&(i.isCrosspostable=!0,this.sourceId&&(i.postId=this.sourceId)),this.isEmbeddable&&(i.isEmbeddable=!0),e.w({name:this.shareMenuFeatureName,queryParams:i,renderMode:e.P.Contents})},this.isAllowedEvent=e=>!e||(e instanceof PointerEvent||e instanceof MouseEvent||["Enter"," "].includes(e.key)),this.handleMobileShareClick=async e=>{this.isAllowedEvent(e)&&(await this._copyLink())},this.handleDesktopShareClick=async e=>{if(!this.isAllowedEvent(e))return;if(this.isShareMenuInitiated)return;let i=!1;try{i=Boolean(await this.activateShareMenuFeature())}catch(i){return void this.handleCopyLinkClick(e)}const t=document.querySelector(`#${this.shareMenuTemplateId}`)?.content;if(!t)return void this.handleCopyLinkClick(e);const s=this.getShareDropdownMenus();s?.length&&(s.forEach((e=>{if(e.querySelector("faceplate-menu"))return;const s=t.cloneNode(!0);e.appendChild(s),E(e,h,this.handleCopyLinkClick),E(e,p,this.handleCrosspostClick),E(e,u,this.handleEmbedClick),E(e,"klp-copy-link",this.handleKlpCopyLinkClick),E(e,"share-menu-profile-crosspost-option",this.handleProfileCrosspostClick),i&&e.show?.()})),i&&this.handleShareDropdownOpen(),this.isShareMenuInitiated=!0)},this.handleShareDropdownOpen=()=>{this.isShareDropdownOpened||(this.isShareDropdownOpened=!0,e.k(this,(({source:i}={})=>e.c({source:i||"share",action:"view",noun:"custom_share_sheet"}))({source:this.source})))},this.handleShareDropdownClose=()=>{this.isShareDropdownOpened=!1,e.k(this,(({source:i}={})=>e.c({source:i||"share",action:"dismiss",noun:"custom_share_sheet"}))({source:this.source}))},this.getShareDropdownMenus=()=>{const e=this.shadowRoot?.querySelectorAll(`.${d}`);if(e?.length)return e;const i=this.querySelectorAll(`faceplate-dropdown-menu.${d}`);if(i?.length)return i;const t=this.querySelectorAll("slot");for(const e of t){const i=e.assignedElements?.();if(i?.length){const e=Array.from(i).find((e=>e.classList?.contains(d)||e.querySelector(`.${d}`)));if(e)return[e.classList?.contains(d)?e:e.querySelector(`.${d}`)]}}},this.closeShareMenu=()=>{this.getShareDropdownMenus()?.forEach((e=>e.close?.()))},this.handleCopyLinkClick=async i=>{this.shouldAllowPropagation||i?.stopPropagation(),this.isAllowedEvent(i)&&(e.k(this,(({source:e}={})=>c({source:e,noun:"copy_link"}))({source:this.source})),this.closeShareMenu(),await this._copyLink())},this.handleKlpCopyLinkClick=async e=>{this.isAllowedEvent(e)&&(this.closeShareMenu(),await this._copyLink())},this.handleKlpNotUsefulClick=e=>{this.isAllowedEvent(e)&&this._notUseful()},this.handleKlpUsefulClick=e=>{this.isAllowedEvent(e)&&this._useful()},this.handleCrosspostClick=i=>{const t=r.d(this.sourceId)?T:k;this._handlePostComposerClick(i,`${e.dw.CrosspostSourceId}=${this.sourceId}`,t)},this.handleProfileCrosspostClick=async i=>{(await this.showPostAssignModal(this.sourceId))||this._handlePostComposerClick(i,`${e.dw.CrosspostSourceId}=${this.sourceId}&${e.dw.CrosspostTarget}=profile`,m)},this.handleEmbedClick=i=>{i.stopPropagation(),this.isAllowedEvent(i)&&(e.k(this,(({source:e}={})=>c({source:e,noun:"embed"}))({source:this.source})),this.closeShareMenu(),window.open(`https://publish.reddit.com/embed?url=https://www.reddit.com${this.permalink}`,"RedditEmbed"))},this._handlePostComposerClick=(i,t,s)=>{i.stopPropagation(),this.isAllowedEvent(i)&&(e.k(this,s({source:this.source})),this.closeShareMenu(),window.open(`/submit?${t}`,"_blank"))},this._copyLink=async()=>{if(!this.permalink||!location.origin)return;const i={url:this._buildShareUrl(location.origin,this.permalink)};if(n.S.Clipboard===(await n.s(i,this.isDesktopViewport))){const i=e.d("faceplate-alert",{level:e.a0.success,message:"Link copied"});this.dispatchEvent(i)}},this._notUseful=()=>{const i=e.d("faceplate-alert",{level:e.a0.notice,message:"Thanks for letting us know"});this.dispatchEvent(i)},this._useful=()=>{const i=e.d("faceplate-alert",{level:e.a0.notice,message:"Thanks for letting us know"});this.dispatchEvent(i)},this._buildShareUrl=(e,i)=>{const t=i.includes("?"),s=i.includes("tl=");return e+i+this._getShareQueryParams({source:this.source,term:"1",permalinkHasQuery:t,permalinkHasTlQuery:s})},this._getShareQueryParams=({permalinkHasQuery:e=!1,permalinkHasTlQuery:i=!1,source:t="share",term:s})=>{const a=this._getShareUTMParams({source:t,term:s}),o=i?"":this._getShareTranslationLanguageQueryParams();return e?`&${a}${o}`:`?${a}${o}`},this._getShareTranslationLanguageQueryParams=()=>this.translationLanguage?`&share_tl=${this.translationLanguage}`:"",this._getShareUTMParams=({source:i="share",term:t})=>{const s=e.bd();return`utm_source=${i}&utm_medium=${s}&utm_name=${s}css&utm_term=${t}&utm_content=share_button`},this.renderShareDropdown=({handleShareClick:i,size:a=e.v.Small,appearance:n="plain",attributes:r={},shareButtonText:l})=>{const h=l||"Share",p="link"===n;return e.x` <faceplate-dropdown-menu class="${d} relative ${p?"inline":""}" position="bottom-start" .onopen="${this.isDesktopViewport?this.handleShareDropdownOpen:void 0}" .onclose="${this.isDesktopViewport?this.handleShareDropdownClose:void 0}"> ${p?t.a({attributes:{onclick:i,onkeydown:i,...r},children:this.hideButtonText?void 0:h,suppressVisitedStyle:!0}):s.c({size:a,appearance:n,attributes:{type:"button",onclick:i,onkeydown:i,...r},leadingIcon:this.hideButtonIcon?void 0:o.s({size:s.I[a],attributes:{className:"icon-share","aria-hidden":"true"}}),screenReaderContent:this.hideButtonText?h:void 0,children:this.hideButtonText?void 0:h})} </faceplate-dropdown-menu>`},this.renderOnlyShareButton=({handleShareClick:i,size:t=e.v.Small,appearance:o="plain",attributes:n={},showFullButtons:r=!1})=>{const l="Copy link",h="link"===o;return e.x` ${h?e.A:s.c({size:t,appearance:o,attributes:{type:"button",onclick:i,onkeydown:i,...n,className:`${n.className} relative`,"aria-label":l},children:e.x` <span class="justify-center ${r?"flex s:hidden":"flex"}">${a.l({size:e.I.Small})}</span> <span class="${r?"hidden s:flex":"hidden"}"> ${l} </span> `})}`},this.renderOnlyShareMenuItem=({handleShareClick:e,menuSize:t=i.L.Medium})=>{const s="Copy link";return i.l({leadingIcon:a.l(),label:s,size:t,onClick:e})}}}return N[S]=!0,e._([e.n({type:String})],N.prototype,"permalink",void 0),e._([e.n({type:String,attribute:"source-id"})],N.prototype,"sourceId",void 0),e._([e.n({type:String,attribute:"source"})],N.prototype,"source",void 0),e._([e.n({type:Boolean,attribute:"is-crosspostable"})],N.prototype,"isCrosspostable",void 0),e._([e.n({type:Boolean,attribute:"is-embeddable"})],N.prototype,"isEmbeddable",void 0),e._([e.n({type:Boolean})],N.prototype,"disabled",void 0),e._([e.n({type:Boolean,attribute:"is-desktop-viewport"})],N.prototype,"isDesktopViewport",void 0),e._([e.n({type:Boolean,attribute:"hide-button-text"})],N.prototype,"hideButtonText",void 0),e._([e.n({type:Boolean,attribute:"hide-button-icon"})],N.prototype,"hideButtonIcon",void 0),e._([e.n({type:Boolean,attribute:"should-allow-propagation"})],N.prototype,"shouldAllowPropagation",void 0),e._([e.n({type:String,attribute:"share-menu-feature-name"})],N.prototype,"shareMenuFeatureName",void 0),e._([e.n({type:String,attribute:"share-menu-template-id"})],N.prototype,"shareMenuTemplateId",void 0),e._([e.n({type:String,attribute:"translation-language"})],N.prototype,"translationLanguage",void 0),N},a:d,b:h,c:p};}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("Dm8cQHQfWH",["CYrPuvCiTj"],(async t=>{let e=class extends t.s{constructor(){super(...arguments),this.handleInteraction=e=>{t.l(e)&&this.handleAction()}}static get styles(){return t.i`:host{display:contents}`}handleAction(){this.topic&&t.p(this.topic,this.data)}render(){return t.x`<slot @click="${this.handleInteraction}" @keypress="${this.handleInteraction}"></slot>`}};t._([t.n({type:String})],e.prototype,"topic",void 0),t._([t.n({type:Object})],e.prototype,"data",void 0),e=t._([t.e("shreddit-pubsub-publisher")],e)}));
SML.di("./B-rt8un-ap.js",import.meta.url,"B-rt8un-ap");SML.di("./B4_wn8kr_L.js",import.meta.url,"B4_wn8kr_L");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("DuqlmJMEve",["CYrPuvCiTj"],(async e=>{var r;!function(e){e.CIRCLE="circle",e.RECTANGLE="rectangle",e.PILL="pill"}(r||(r={}));const t=2500;let i=0,s=null,a=class extends e.s{constructor(){super(...arguments),this.shape=r.RECTANGLE,this.calcDelay=e=>{if(0===e)return 0;let r=0;const i=s?.getAnimations()[0];return i&&(r=i.effect?.getComputedTiming().progress*t),(r+200*e)%t}}static get styles(){return e.i`:host{display:inline-flex}:host([shape=pill]) #loader{border-radius:var(--rem8)}:host([shape=circle]) #loader{border-radius:50%}#loader{background:var(--color-shimmer-background);height:100%;width:100%;position:relative;overflow-x:hidden}#shimmer-object{background:var(--color-shimmer-gradient-overlay);border-radius:.5rem;height:100%;width:200%;position:absolute;top:0;inset-inline-start:0;transform:translateX(-100%)}`}firstUpdated(){this.shimmer(i++)}async shimmer(e){await new Promise((e=>requestAnimationFrame(e)));s||(s=this.shimmerObject);const r={duration:t,delay:-1*this.calcDelay(e),iterations:1/0};this.shimmerObject?.animate([{transform:"translateX(50%)"}],r)}render(){return e.x`<div id="loader"> <span id="shimmer-object"></span> </div> `}};e._([e.n({type:String})],a.prototype,"shape",void 0),e._([e.Y("#shimmer-object")],a.prototype,"shimmerObject",void 0),a=e._([e.e("faceplate-shimmer")],a);var o=Object.freeze({__proto__:null,get FaceplateShimmer(){return a},get LOADER_SHAPES(){return r}});return{get L(){return r},get f(){return o}}}));
SML.di("./DTFTCiYeLz.js",import.meta.url,"DTFTCiYeLz");SML.di("./BA-YMBSJ68.js",import.meta.url,"BA-YMBSJ68");SML.di("./B58tzg41t5.js",import.meta.url,"B58tzg41t5");SML.di("./BJdHdrH8mb.js",import.meta.url,"BJdHdrH8mb");SML.di("./DuqlmJMEve.js",import.meta.url,"DuqlmJMEve");SML.di("./tXzIaFuSwM.js",import.meta.url,"tXzIaFuSwM");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./BIuF7VtwPg.js",import.meta.url,"BIuF7VtwPg");SML.di("./6XxMKV9IT2.js",import.meta.url,"6XxMKV9IT2");SML.di("./Jz_-RFIheH.js",import.meta.url,"Jz_-RFIheH");SML.di("./BO1LrDxm4o.js",import.meta.url,"BO1LrDxm4o");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./DcxJbk2B3f.js",import.meta.url,"DcxJbk2B3f");SML.di("./BDJEoZTk8V.js",import.meta.url,"BDJEoZTk8V");SML.di("./h2J0CF1huj.js",import.meta.url,"h2J0CF1huj");SML.di("./By2sopqXTk.js",import.meta.url,"By2sopqXTk");SML.di("./CCzrQmnfhp.js",import.meta.url,"CCzrQmnfhp");SML.di("./DbgtMUjGRq.js",import.meta.url,"DbgtMUjGRq");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./B9Z38jXwJn.js",import.meta.url,"B9Z38jXwJn");SML.di("./HQokY_KEgH.js",import.meta.url,"HQokY_KEgH");SML.di("./BZfyoSUh4H.js",import.meta.url,"BZfyoSUh4H");SML.di("./DS9zIWJSmK.js",import.meta.url,"DS9zIWJSmK");SML.di("./C9yxQSv7E8.js",import.meta.url,"C9yxQSv7E8");SML.di("./rxXg4kAY8P.js",import.meta.url,"rxXg4kAY8P");SML.di("./DdQ8ToexAC.js",import.meta.url,"DdQ8ToexAC");SML.di("./B7k8CRv5Fs.js",import.meta.url,"B7k8CRv5Fs");SML.di("./B07M9gl7Bp.js",import.meta.url,"B07M9gl7Bp");SML.di("./CRqe6iwBP-.js",import.meta.url,"CRqe6iwBP-");SML.di("./NKGs0TL7Ol.js",import.meta.url,"NKGs0TL7Ol");SML.di("./D6195OvUrb.js",import.meta.url,"D6195OvUrb");SML.di("./DSIyHwStgC.js",import.meta.url,"DSIyHwStgC");SML.di("./C6Xqqgad3v.js",import.meta.url,"C6Xqqgad3v");SML.di("./DkSeZptIbU.js",import.meta.url,"DkSeZptIbU");SML.di("./CiSu63MOrp.js",import.meta.url,"CiSu63MOrp");SML.di("./DILjbXLYF3.js",import.meta.url,"DILjbXLYF3");SML.di("./Ck6EAlsKI4.js",import.meta.url,"Ck6EAlsKI4");SML.di("./Dewa_riF6c.js",import.meta.url,"Dewa_riF6c");SML.di("./G2F6lxYj4X.js",import.meta.url,"G2F6lxYj4X");SML.di("./BuFVZG-nP7.js",import.meta.url,"BuFVZG-nP7");SML.di("./CrgF_JGUIv.js",import.meta.url,"CrgF_JGUIv");SML.di("./B74fdX6mon.js",import.meta.url,"B74fdX6mon");SML.di("./BG_G1Cif8U.js",import.meta.url,"BG_G1Cif8U");SML.di("./B3J7HiP0EM.js",import.meta.url,"B3J7HiP0EM");SML.di("./Cv3__sHJQf.js",import.meta.url,"Cv3__sHJQf");SML.di("./iJcINZywq8.js",import.meta.url,"iJcINZywq8");SML.di("./BesoUDZOXX.js",import.meta.url,"BesoUDZOXX");SML.di("./BRVVLb7Eld.js",import.meta.url,"BRVVLb7Eld");SML.di("./CEf2DD9Ins.js",import.meta.url,"CEf2DD9Ins");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");SML.di("./Cwi6AYJAzh.js",import.meta.url,"Cwi6AYJAzh");SML.di("./D4Ab94OqLr.js",import.meta.url,"D4Ab94OqLr");SML.di("./jzmnNb68mH.js",import.meta.url,"jzmnNb68mH");SML.di("./DAeuL7zDX0.js",import.meta.url,"DAeuL7zDX0");SML.di("./BEOg1WTiXx.js",import.meta.url,"BEOg1WTiXx");SML.di("./DyzvzwR0Ee.js",import.meta.url,"DyzvzwR0Ee");SML.di("./BICQS8sewj.js",import.meta.url,"BICQS8sewj");SML.di("./DgaC1xItoR.js",import.meta.url,"DgaC1xItoR");SML.di("./CaC8XqiTGs.js",import.meta.url,"CaC8XqiTGs");SML.di("./CmAn0qma3f.js",import.meta.url,"CmAn0qma3f");SML.di("./BpRbUpfRsm.js",import.meta.url,"BpRbUpfRsm");SML.di("./B2lxgm_IZD.js",import.meta.url,"B2lxgm_IZD");SML.di("./Cszz6xIhIJ.js",import.meta.url,"Cszz6xIhIJ");SML.di("./zWWS8JSAAa.js",import.meta.url,"zWWS8JSAAa");SML.di("./CM4Yt4lwBK.js",import.meta.url,"CM4Yt4lwBK");SML.di("./CeSKxcW4bq.js",import.meta.url,"CeSKxcW4bq");SML.di("./DL2kwGpq8F.js",import.meta.url,"DL2kwGpq8F");SML.di("./DaLHOXfwZg.js",import.meta.url,"DaLHOXfwZg");SML.di("./BXJPp76cO9.js",import.meta.url,"BXJPp76cO9");SML.di("./ZSC2NgWu_7.js",import.meta.url,"ZSC2NgWu_7");SML.di("./CEkHpZAUVH.js",import.meta.url,"CEkHpZAUVH");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");SML.di("./B7CRAos5Iy.js",import.meta.url,"B7CRAos5Iy");SML.di("./CV4Ikkt2q4.js",import.meta.url,"CV4Ikkt2q4");SML.di("./D_RyXU9wQ1.js",import.meta.url,"D_RyXU9wQ1");SML.di("./DkWJZxM_zm.js",import.meta.url,"DkWJZxM_zm");SML.di("./005PrA1Byk.js",import.meta.url,"005PrA1Byk");SML.di("./C7tY_fu9Em.js",import.meta.url,"C7tY_fu9Em");SML.di("./BGnZpZ200J.js",import.meta.url,"BGnZpZ200J");SML.di("./Hw1PFKH8z9.js",import.meta.url,"Hw1PFKH8z9");SML.di("./DG0S1MfCCq.js",import.meta.url,"DG0S1MfCCq");SML.di("./bkw7l1EKUo.js",import.meta.url,"bkw7l1EKUo");SML.di("./BpkEtnKDO3.js",import.meta.url,"BpkEtnKDO3");SML.di("./DNWCS1rLQE.js",import.meta.url,"DNWCS1rLQE");SML.di("./B5-3_kcphz.js",import.meta.url,"B5-3_kcphz");SML.di("./DFvuM_MTkg.js",import.meta.url,"DFvuM_MTkg");
SML.di("./CEkHpZAUVH.js",import.meta.url,"CEkHpZAUVH");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");
SML.di("./DfTwQCpR9f.js",import.meta.url,"DfTwQCpR9f");SML.di("./DY06Z17Odk.js",import.meta.url,"DY06Z17Odk");SML.di("./iX0RBkdKbQ.js",import.meta.url,"iX0RBkdKbQ");SML.di("./cCVwY2iDLw.js",import.meta.url,"cCVwY2iDLw");SML.di("./CEf2DD9Ins.js",import.meta.url,"CEf2DD9Ins");SML.di("./romj5y17wG.js",import.meta.url,"romj5y17wG");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./By24E9DXjo.js",import.meta.url,"By24E9DXjo");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./B2_754HZA-.js",import.meta.url,"B2_754HZA-");SML.di("./BDCIgAVnes.js",import.meta.url,"BDCIgAVnes");SML.di("./Cv4uyJM28X.js",import.meta.url,"Cv4uyJM28X");SML.di("./D61rLtGDFy.js",import.meta.url,"D61rLtGDFy");SML.di("./CdUaC_ScVb.js",import.meta.url,"CdUaC_ScVb");SML.di("./NKGs0TL7Ol.js",import.meta.url,"NKGs0TL7Ol");SML.di("./D6195OvUrb.js",import.meta.url,"D6195OvUrb");SML.di("./BNh_w6AGE-.js",import.meta.url,"BNh_w6AGE-");SML.di("./fqQLNYfMji.js",import.meta.url,"fqQLNYfMji");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");SML.di("./Ck6EAlsKI4.js",import.meta.url,"Ck6EAlsKI4");
SML.dm("FKtK3iXzTK",["DfTwQCpR9f","DY06Z17Odk","iX0RBkdKbQ","cCVwY2iDLw","CEf2DD9Ins","romj5y17wG","CYrPuvCiTj","By24E9DXjo","wzdls1o9Kk","B2_754HZA-","BDCIgAVnes","Cv4uyJM28X","D61rLtGDFy","CdUaC_ScVb","NKGs0TL7Ol","D6195OvUrb","BNh_w6AGE-","fqQLNYfMji","B39chFHLCe","DGkwklwWNC","Ck6EAlsKI4"],(async()=>{SML.di("./CG47sgWgmT.js",import.meta.url,"CG47sgWgmT").then((function(E){return E.r}))}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");
SML.dm("K2R-k6uMNv",["CYrPuvCiTj","C8CrqKCiqJ"],(async(t,e)=>{const i=t.s,s=["allow-forms","allow-orientation-lock","allow-popups","allow-popups-to-escape-sandbox","allow-presentation","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" ");let o=class extends i{constructor(){super(...arguments),this.postId="",this.limitHeight=!1,this.onMessage=t=>{const{data:i}=t;if(!t.source||t.source!==this.iframe?.contentWindow||"tweet-measured"!==i?.action||e.e(i?.id36)!==this.postId)return;this.iframe.height=`${i?.height}px`,this.limitHeight&&i?.height>550?(this.renderRoot?.querySelector(`#${this.postId}-tweet-overflow`)?.classList.remove("hidden"),this?.style.setProperty("height","550px")):this?.style.setProperty("height",`${i?.height+4}px`),this.renderRoot?.querySelector(`#${this.postId}-tweet-loading-placeholder`)?.remove();const s=document.querySelector(`#${this.postId}-post-media-container`),o=s?.querySelector(`#${this.postId}-aspect-ratio`);if(o){const t=this.offsetHeight/this.offsetWidth;o?.style.setProperty("--aspect-ratio",`${t}`);const e=this.offsetHeight-o.offsetHeight;o?.style.setProperty("height",`${e}px`)}}}static get styles(){return[t.t]}connectedCallback(){super.connectedCallback(),window.addEventListener("message",this.onMessage)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("message",this.onMessage)}onIframeLoad(){this.iframe?.contentWindow?.postMessage("twitter-measure-requested","https://www.redditmedia.com")}render(){const i=`${e.h(this.postId)}?responsive=true&is_nightmode=${matchMedia("(prefers-color-scheme: dark)").matches}`;return t.x` <div id="${this.postId}-tweet-loading-placeholder" class="${this.className} bg-neutral-background-weak absolute left-0 right-0 top-0 bottom-0"></div> <div class="overflow-hidden flex justify-center w-100 ${this.limitHeight?"max-h-[550px] ":""}"> <iframe id="${this.postId}-tweet-iframe" scrolling="no" allowfullscreen class="items-center overflow-hidden b-0 border-transparent justify-center bg-neutral-background-weak max-w-[550px] rounded-[14px]" max-width="${"550px"}" width="100%" title="${this.title}" aria-label="Tweet: ${this.title}" src="${i}" sandbox="${s}" @load="${this.onIframeLoad}" allowtransparency="true"></iframe> </div> ${this.limitHeight?t.x`<div id="${this.postId}-tweet-overflow" class="h-[66px] mt-[-66px] w-100 from-[color:var(--color-neutral-background-weak)] bg-gradient-to-t hidden isolate pointer-events-none"></div>`:""} `}};t._([t.n({type:String,attribute:"post-id"})],o.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"limit-height"})],o.prototype,"limitHeight",void 0),t._([t.Y("iframe")],o.prototype,"iframe",void 0),o=t._([t.e("shreddit-tweet-embed")],o)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("OlPU10fC99",["CYrPuvCiTj"],(async e=>{let t=class extends e.s{constructor(){super(...arguments),this._imageElem=null,this._traceCompleted=!1,this._imageStartTiming=0,this._imageLoadedTiming=0,this._imageReadyTiming=0,this._observer=new e.bI,this._hasBeenInView=!1,this.placement="image_post",this.isPromoted=!1,this.onEnter=()=>{this._hasBeenInView=!0,this._imageStartTiming||(this._imageStartTiming=Date.now()),this.applyListeners(),this._timeoutTimer||(this._timeoutTimer=setTimeout((()=>{this._imageElem?.complete&&this._imageElem?.naturalWidth||this.sendImageMetric("download_fail")}),6e4))},this.onLeave=()=>{if(this._traceCompleted||!this._hasBeenInView||!this._imageStartTiming)return;const e=Date.now()-this._imageStartTiming>=150;!this._imageReadyTiming&&e&&this.sendImageMetric("exit_before_visible")},this.onLoad=()=>{this._imageLoadedTiming=Date.now(),this.poll()},this.onError=()=>{this.sendImageMetric("download_fail")},this.checkStatus=e=>{if(e.naturalWidth&&!this._imageReadyTiming)return this._imageLoadedTiming||(this._imageLoadedTiming=Date.now()),this._imageReadyTiming=Date.now(),this.sendImageMetric(),!0;e.complete&&!this._imageLoadedTiming&&(this._imageLoadedTiming=Date.now(),this.poll());const t=Date.now()-this._imageLoadedTiming;return this._pollVisibleInterval&&t>1e4&&this.sendImageMetric("download_fail"),!1}}connectedCallback(){if(super.connectedCallback(),this._traceCompleted)return;if(this._imageElem=this.previousElementSibling,!this._imageElem.tagName.includes("IMG"))throw new Error("<image-observer> must be immediately after the observed <img> in the DOM");this.checkStatus(this._imageElem)||(this._observer.observe(this._imageElem),this._imageElem.addEventListener("faceplate-enter",this.onEnter),this._imageElem.addEventListener("faceplate-leave",this.onLeave))}disconnectedCallback(){super.disconnectedCallback(),this._observer.unobserve(this._imageElem),this._imageElem?.removeEventListener("faceplate-enter",this.onEnter),this._imageElem?.removeEventListener("faceplate-leave",this.onLeave),this.cleanup()}applyListeners(){if(!this._imageElem)return;this.checkStatus(this._imageElem)||(this._imageElem.addEventListener("load",this.onLoad,{once:!0}),this._imageElem.addEventListener("error",this.onError,{once:!0}))}cleanup(){clearInterval(this._pollVisibleInterval),clearTimeout(this._timeoutTimer),this._imageElem?.removeEventListener("load",this.onLoad),this._imageElem?.removeEventListener("error",this.onError),this._imageStartTiming=0,this._imageLoadedTiming=0,this._imageReadyTiming=0}poll(){!this._pollVisibleInterval&&this._hasBeenInView&&(this._pollVisibleInterval=setInterval((()=>{this.checkStatus(this._imageElem)}),25))}sendImageMetric(t=void 0){const i=this._getFeedPostInfo(),s=this._getGalleryInfo();let a,n;i&&({position:n,...a}=i),this.isPromoted&&(a||(a={}),a.promoted=!0,a.type=this.promotedPostType);const o=this._imageStartTiming||this._imageLoadedTiming||this._imageReadyTiming||Date.now(),m=this._imageReadyTiming||Date.now(),r={source:"image",action:"trace",noun:"performance",client_timestamp:Date.now(),image_trace:{get_image_start_timestamp:o,image_ready_timestamp:m,view_visibile_timestamp:o},media:{width:this._imageElem?.naturalWidth,height:this._imageElem?.naturalHeight,url:this._imageElem?.src,placement:this.placement},action_info:{position:n,reason:t,page_type:e.N()}};a&&(r.post=a),s&&(r.gallery=s),this._sendEvent(r),this.cleanup(),"exit_before_visible"!==t&&(this._traceCompleted=!0)}_getFeedPostInfo(){const t=this.closest("shreddit-post, shreddit-ad-post");if(t)return{id:t.id,promoted:t.nodeName.includes("AD"),nsfw:t.nsfw,view_type:t.viewType===e.ad.CompactView?"classic":"card",position:t.feedIndex}}_getGalleryInfo(){if(!this.closest("gallery-carousel"))return;const e=this.closest("li")?.getAttribute("slot");return e?{position:Number(e.split("-")[1])-1}:void 0}_sendEvent(t){e.k(this,t)}createRenderRoot(){return this}};e._([e.n()],t.prototype,"placement",void 0),e._([e.n({type:Boolean,attribute:"is-promoted"})],t.prototype,"isPromoted",void 0),e._([e.n({type:String,attribute:"promoted-post-type"})],t.prototype,"promotedPostType",void 0),t=e._([e.e("image-observer")],t)}));
SML.di("./B-rt8un-ap.js",import.meta.url,"B-rt8un-ap");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.dm("WB4hHiT7Ed",["CYrPuvCiTj","wzdls1o9Kk","B-rt8un-ap"],(async(e,n)=>{let t=class extends e.s{constructor(){super(),this._handleCommunityJoin=this.handleCommunityJoin.bind(this),this._subscribed=!1,this.handleView=()=>{e.k(this,n.h())},this.handleConsume=()=>{e.k(this,n.k())},new n.V(this,{consumeThreshold:2e3,onView:this.handleView,onConsume:this.handleConsume})}get joinButton(){return this.querySelector("shreddit-join-button")}connectedCallback(){super.connectedCallback(),this.joinButton?.addEventListener("click",this._handleCommunityJoin)}disconnectedCallback(){super.disconnectedCallback(),this.joinButton?.removeEventListener("click",this._handleCommunityJoin)}handleCommunityJoin(){e.k(this,n.bt(this._subscribed)),this._subscribed=!this._subscribed}render(){return e.x`<slot></slot>`}};t.styles=[e.t],t=e._([e.e("community-recommendation")],t);const s=e.W(e.s);let i=class extends s{constructor(){super(...arguments),this.isHidden=!1,this._onDismiss=async t=>{t.stopPropagation();try{if(!(await e.fg(e.fi.Dismiss,e.fh.PersonalizedCommunityRecommendationsInHomeFeed)))return void this.dispatchError();this.isHidden=!0,this.onSuccessfulDismissAlert()}catch(e){this.dispatchError()}e.k(this,n.bu())}}static get styles(){return[e.t,e.i`:host{display:contents}`]}connectedCallback(){super.connectedCallback(),this.enableObserver({rootMargin:"0px",threshold:[1]});const e=this.querySelector(".hide-feed-item-icon");e?.addEventListener("click",this._onDismiss)}disconnectedCallback(){super.disconnectedCallback(),this.disableObserver();const e=this.querySelector(".hide-feed-item-icon");e?.removeEventListener("click",this._onDismiss)}observerIsIntersectingCallback(){e.k(this,n.bv()),e.fg(e.fi.View,e.fh.PersonalizedCommunityRecommendationsInHomeFeed),this.disableObserver()}dispatchError(){const n=e.d("faceplate-alert",{level:e.a0.error,cause:"uncategorized",message:"Something went wrong. Try again later."});this.dispatchEvent(n)}onSuccessfulDismissAlert(){const n=e.d("faceplate-alert",{level:e.a0.notice,message:"Youâ€™ll see fewer recommendations like this"});this.dispatchEvent(n)}render(){return e.x` ${this.isHidden?e.x`<slot name="hidden-recommendation-unit"></slot>`:e.x` <div class="flex justify-between"> <slot name="title"></slot> <slot name="menu"></slot> </div> <slot name="recommendations"></slot> `} `}};e._([e.j()],i.prototype,"isHidden",void 0),i=e._([e.e("in-feed-community-recommendations")],i)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./CM4Yt4lwBK.js",import.meta.url,"CM4Yt4lwBK");SML.di("./B8bPYlQRZA.js",import.meta.url,"B8bPYlQRZA");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./BvPcMFr1Lr.js",import.meta.url,"BvPcMFr1Lr");SML.di("./BtqmVQuPYp.js",import.meta.url,"BtqmVQuPYp");
SML.dm("X6wfvkqelP",["CYrPuvCiTj","CM4Yt4lwBK","B8bPYlQRZA","wzdls1o9Kk","BvPcMFr1Lr","BtqmVQuPYp"],(async(s,t)=>{let a=class extends s.s{constructor(){super(...arguments),this.pubsub=new s.z(this),this.requestClientGQL=s.ag,this.isDesktop=!0,this.isDismiss=!1,this.subredditId="",this.authorId="",this._activateFeature=async t=>s.w(t),this.initSmartEscalations=async({thingId:t,removalReasonId:a,authorId:i,subredditId:e,removalReasonDisplayText:o})=>{this.subredditId=e,this.authorId=i,await this._activateFeature({name:s.h8,renderMode:s.P.Contents,queryParams:{thing_id:t,author_id:i,subreddit_id:e,is_moderator:!0,removal_reason_id:a,removal_reason_display_text:o,is_desktop:!!this.isDesktop}})},this.performAction=()=>{this.addRemovalReasonStatus===t.R.SUCCESS&&void 0!==this.smartEscalationsStatus&&(this.pubsub.publish(s.T.AddRemovalReasonClose),this.smartEscalationsStatus===t.S.READY&&this.openSmartEscalations(),this.addRemovalReasonStatus=void 0,this.smartEscalationsStatus=void 0)},this.updateRemovalReasonStatus=({status:s})=>{this.addRemovalReasonStatus=s},this.updateSmartEscalationStatus=({status:s})=>{this.smartEscalationsStatus=s},this.openSmartEscalations=async()=>{await(this.rplDialogSheet?.showModal())},this.closeSmartEscalations=async s=>{this.isDismiss=s?.isDismiss??!1,await(this.rplDialogSheet?.hide())},this.dismissSmartEscalations=async()=>{try{if(!this.isDismiss)return;const t={input:{subredditID:this.subredditId,userID:this.authorId}};this.requestClientGQL({operation:s.af.DismissSmartEscalation,variables:t})}finally{this.isDismiss&&(this.isDismiss=!1),this.subredditId="",this.authorId=""}}}get rplDialogSheet(){return this.querySelector("rpl-dialog-sheet")}get featureRoot(){return document.querySelector("#smart-escalations-content-modal rpl-modal-card")}updated(s){(s.has("addRemovalReasonStatus")||s.has("smartEscalationsStatus"))&&this.performAction()}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(s.T.SmartEscalationsInit,this.initSmartEscalations,!1),this.pubsub.subscribe(s.T.SmartEscalationsDismiss,this.dismissSmartEscalations,!1),this.pubsub.subscribe(s.T.SmartEscalationsClose,this.closeSmartEscalations,!1),this.pubsub.subscribe(s.T.SmartEscalationsOpen,this.openSmartEscalations,!1),this.pubsub.subscribe(s.T.RemovalReasonStatus,this.updateRemovalReasonStatus,!1),this.pubsub.subscribe(s.T.SmartEscalationsStatus,this.updateSmartEscalationStatus,!1)}render(){return s.x` <slot></slot>`}};s._([s.n({type:Boolean,attribute:"is-desktop"})],a.prototype,"isDesktop",void 0),s._([s.j()],a.prototype,"addRemovalReasonStatus",void 0),s._([s.j()],a.prototype,"smartEscalationsStatus",void 0),a=s._([s.e("smart-escalations-provider")],a)}));
SML.di("./01ZDGG9kcr.js",import.meta.url,"01ZDGG9kcr");SML.di("./DdEnbx5jId.js",import.meta.url,"DdEnbx5jId");SML.di("./BqjofAakIy.js",import.meta.url,"BqjofAakIy");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./BSVmU8k8Mu.js",import.meta.url,"BSVmU8k8Mu");SML.di("./DrZBeFNNGE.js",import.meta.url,"DrZBeFNNGE");SML.di("./ByPeQQGJ36.js",import.meta.url,"ByPeQQGJ36");SML.di("./DRyX-d_SeX.js",import.meta.url,"DRyX-d_SeX");
SML.di("./CB-U2-t4en.js",import.meta.url,"CB-U2-t4en");SML.di("./B-rt8un-ap.js",import.meta.url,"B-rt8un-ap");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./CZtlI9NlXS.js",import.meta.url,"CZtlI9NlXS");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.di("./CVk7Sw8fup.js",import.meta.url,"CVk7Sw8fup");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./DP4X4Qu1u8.js",import.meta.url,"DP4X4Qu1u8");SML.di("./BKiUGnj_8v.js",import.meta.url,"BKiUGnj_8v");SML.di("./DAeuL7zDX0.js",import.meta.url,"DAeuL7zDX0");SML.di("./BG_G1Cif8U.js",import.meta.url,"BG_G1Cif8U");SML.di("./DdQ8ToexAC.js",import.meta.url,"DdQ8ToexAC");SML.di("./BEOg1WTiXx.js",import.meta.url,"BEOg1WTiXx");SML.di("./DyzvzwR0Ee.js",import.meta.url,"DyzvzwR0Ee");SML.di("./D4Ab94OqLr.js",import.meta.url,"D4Ab94OqLr");SML.di("./jzmnNb68mH.js",import.meta.url,"jzmnNb68mH");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./D0lCIVsZym.js",import.meta.url,"D0lCIVsZym");SML.di("./CcWrGyc4YB.js",import.meta.url,"CcWrGyc4YB");SML.di("./DAKDAikmKf.js",import.meta.url,"DAKDAikmKf");SML.di("./DijGP8Hw3G.js",import.meta.url,"DijGP8Hw3G");SML.di("./Cke4oMIXaE.js",import.meta.url,"Cke4oMIXaE");SML.di("./C8CrqKCiqJ.js",import.meta.url,"C8CrqKCiqJ");SML.di("./Bu_0OLU9_w.js",import.meta.url,"Bu_0OLU9_w");SML.di("./buPlOxYAo2.js",import.meta.url,"buPlOxYAo2");SML.di("./BesoUDZOXX.js",import.meta.url,"BesoUDZOXX");SML.di("./rxXg4kAY8P.js",import.meta.url,"rxXg4kAY8P");SML.di("./Bh1KT4YiPL.js",import.meta.url,"Bh1KT4YiPL");SML.di("./Beut7Nrs5X.js",import.meta.url,"Beut7Nrs5X");SML.di("./BpkEtnKDO3.js",import.meta.url,"BpkEtnKDO3");SML.di("./DSaTNax_hN.js",import.meta.url,"DSaTNax_hN");SML.di("./C1SFSFuxmZ.js",import.meta.url,"C1SFSFuxmZ");SML.di("./BEcPDyVyFQ.js",import.meta.url,"BEcPDyVyFQ");SML.di("./CVt1u3m_U2.js",import.meta.url,"CVt1u3m_U2");SML.di("./CCzrQmnfhp.js",import.meta.url,"CCzrQmnfhp");SML.di("./By2sopqXTk.js",import.meta.url,"By2sopqXTk");SML.di("./hgVDyxZ2rL.js",import.meta.url,"hgVDyxZ2rL");SML.di("./COfLy9zygd.js",import.meta.url,"COfLy9zygd");SML.di("./gMEDXxO5ap.js",import.meta.url,"gMEDXxO5ap");SML.di("./D2VJiRUxKq.js",import.meta.url,"D2VJiRUxKq");SML.di("./BDMOQ0-Tf9.js",import.meta.url,"BDMOQ0-Tf9");SML.di("./vhsAG6S_0w.js",import.meta.url,"vhsAG6S_0w");SML.di("./3jd2bjBQv5.js",import.meta.url,"3jd2bjBQv5");SML.di("./CsnZoaUuMa.js",import.meta.url,"CsnZoaUuMa");SML.di("./CEBL3uuwif.js",import.meta.url,"CEBL3uuwif");SML.di("./D4iLzhUylu.js",import.meta.url,"D4iLzhUylu");SML.di("./ROxHXWx7xR.js",import.meta.url,"ROxHXWx7xR");SML.di("./DFBfgTBypk.js",import.meta.url,"DFBfgTBypk");SML.di("./CgCqj_GEht.js",import.meta.url,"CgCqj_GEht");SML.di("./D8xWSOudVw.js",import.meta.url,"D8xWSOudVw");SML.di("./B6C_8s9j0g.js",import.meta.url,"B6C_8s9j0g");SML.di("./B5-3_kcphz.js",import.meta.url,"B5-3_kcphz");SML.di("./D5iWiCTki-.js",import.meta.url,"D5iWiCTki-");SML.di("./Bq3qdqopCU.js",import.meta.url,"Bq3qdqopCU");SML.di("./JaGlTj3I-9.js",import.meta.url,"JaGlTj3I-9");SML.di("./BIlQ5upx3L.js",import.meta.url,"BIlQ5upx3L");
SML.dm("g_lXKQxXP5",["CYrPuvCiTj","DP4X4Qu1u8","BKiUGnj_8v","CVk7Sw8fup","DAeuL7zDX0","BG_G1Cif8U","DdQ8ToexAC","BEOg1WTiXx","DyzvzwR0Ee","D4Ab94OqLr","jzmnNb68mH","wzdls1o9Kk","D0lCIVsZym","CcWrGyc4YB","DAKDAikmKf","DijGP8Hw3G","Cke4oMIXaE","C8CrqKCiqJ","Bu_0OLU9_w","buPlOxYAo2","BesoUDZOXX","rxXg4kAY8P","Bh1KT4YiPL","Beut7Nrs5X","BpkEtnKDO3","DSaTNax_hN","C1SFSFuxmZ","BEcPDyVyFQ","CVt1u3m_U2","CCzrQmnfhp","By2sopqXTk","hgVDyxZ2rL","COfLy9zygd","gMEDXxO5ap","D2VJiRUxKq","BDMOQ0-Tf9","vhsAG6S_0w","3jd2bjBQv5","CsnZoaUuMa","CEBL3uuwif","D4iLzhUylu","ROxHXWx7xR","DFBfgTBypk","CgCqj_GEht","D8xWSOudVw","B6C_8s9j0g","B5-3_kcphz","D5iWiCTki-","Bq3qdqopCU","JaGlTj3I-9","BIlQ5upx3L"],(async(E,t,e)=>{class r{constructor(t){this.onKeyDown=E=>{const t="Escape"===E.key,e="Tab"===E.key,r=Boolean(e&&this.host.shadowRoot&&this.host.input&&this.host.shadowRoot.activeElement===this.host.input),o=e&&!E.shiftKey;t&&E.preventDefault(),(t||r||o)&&this.host.handleBlur()},this.getKeyboardNavigableDropdownItems=()=>{const t=`[role="menuitem"],summary[aria-controls*="${E.gA}"],${e.R}`,r=[];return[this.host.suggestedSearchResultsContainer,this.host.recentSearchesContainer,this.host.trendingSearchesContainer,this.host.typeaheadResultsContainer].forEach((E=>{if(!E)return;E.querySelectorAll(t).forEach((E=>{const t=null!==E.offsetParent&&E.offsetHeight>0,e="SUMMARY"===E.tagName,o=E.closest("faceplate-expandable-section-helper");t&&(e||!o||o.open)&&r.push(E)}))})),r},this.handleDropdownKeyDown=E=>{if("ArrowDown"===E.key||"ArrowUp"===E.key){E.preventDefault();const t=E.target,e=this.getKeyboardNavigableDropdownItems();let r=-1;e.forEach(((E,e)=>{E===t&&(r=e)}));const o="ArrowDown"===E.key?r+1:r-1,T=r>=0&&r<e.length?e[o]:void 0;T?T.focus():this.focusSearchInputWithArrowKeys()}},this.host=t}hostConnected(){this.host.addEventListener("keydown",this.onKeyDown)}hostDisconnected(){this.host.removeEventListener("keydown",this.onKeyDown)}handleKeyDown(E){if(!["ArrowDown","ArrowUp"].includes(E.key))return;E.preventDefault();const t=this.getKeyboardNavigableDropdownItems();0!==t.length&&("ArrowDown"===E.key?t[0].focus():"ArrowUp"===E.key&&t[t.length-1].focus())}focusSearchInputWithArrowKeys(){const E=this.host.input?.shadowRoot?.querySelector("input");E?.focus();const t=E?.value.length;t&&E?.setSelectionRange(t,t)}}let o=class extends t.R{constructor(){super(...arguments),this.handleDropdownKeyDown=E=>{super.handleDropdownKeyDown(E),this.keyboardNavigationController?.handleDropdownKeyDown(E)}}handleFocus(){super.handleFocus(),this.keyboardNavigationController||(this.keyboardNavigationController=new r(this),this.addController(this.keyboardNavigationController))}handleBlur(){super.handleBlur(),this.handleScreenLeaveTracking()}handleKeyDown(E){super.handleKeyDown(E),this.keyboardNavigationController?.handleKeyDown(E)}render(){const e=this.showDropdown&&(this.showAskButton||this.homeRevampEnabled);return E.x` <div class="flex w-100"> <div class="reddit-search-bar rounded-5 flex-1 box-border ${E.Q({"shadow-sm":this.isFocused,"bg-neutral-background-strong":this.isFocused,"bg-secondary-background":!this.isFocused,outline:e,"outline-1":e,"outline-[--color-neutral-border-strong]":e})}" data-faceplate-tracking-context="${JSON.stringify(this.searchTelemetryData)}"> <div class="${E.Q({"pb-[.5rem]":this.showDropdown&&!this.isSearchScopeEnabled,"pb-xs":this.showDropdown&&this.isSearchScopeEnabled,"border-b-sm":this.showDropdown,"border-t-0":this.showDropdown,"border-e-0":this.showDropdown,"border-s-0":this.showDropdown,"border-solid":this.showDropdown,"border-neutral-border-weak":this.showDropdown})}"> <form autocomplete="off" class="flex relative items-center text-neutral-content-strong" @submit="${this.handleSubmit}"> ${this.renderSearchInput(!0)} </form> </div> <div class="max-h-[calc(100vh-var(--shreddit-header-height)-15px-10px)] overflow-y-auto overflow-x-hidden m-t ${E.Q({hidden:!this.showDropdown})}" id="${t.S}"> ${this.renderDropdownContent(!0)} </div> </div> ${this.renderShowFiltersEntryPoint()} </div> `}};o=E._([E.e("reddit-search-large")],o)}));
SML.di("./BA-YMBSJ68.js",import.meta.url,"BA-YMBSJ68");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./CEf2DD9Ins.js",import.meta.url,"CEf2DD9Ins");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");SML.di("./B39chFHLCe.js",import.meta.url,"B39chFHLCe");SML.di("./DGkwklwWNC.js",import.meta.url,"DGkwklwWNC");
SML.di("./CB-U2-t4en.js",import.meta.url,"CB-U2-t4en");SML.di("./B-rt8un-ap.js",import.meta.url,"B-rt8un-ap");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./CZtlI9NlXS.js",import.meta.url,"CZtlI9NlXS");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("mllHpUI322",["CYrPuvCiTj"],(async t=>{const s=new DOMParser;let e=class extends t.s{constructor(){super(...arguments),this.postId="",this.flairClass="",this.pubsub=new t.z(this),this.onPostFlairChange=t=>{t.postId===this.postId&&this.renderUpdatedFlair(t.updatedHtml)}}connectedCallback(){super.connectedCallback(),requestAnimationFrame((()=>{this.pubsub.subscribe(t.T.PostFlairUpdated,this.onPostFlairChange)}))}renderUpdatedFlair(t){const e=this.shadowRoot?.querySelector("slot")?.assignedElements({flatten:!0})[0];if(!t&&e)return void e.remove();const i=s.parseFromString(t,"text/html").body.firstChild;if(i){if(this.flairClass&&i instanceof HTMLElement){const t=this.flairClass.split(" ").filter((t=>!!t));i.classList.add(...t)}e?e.replaceWith(i):this.appendChild(i)}}render(){return t.x`<slot></slot>`}};e.styles=[t.t],t._([t.n({type:String,attribute:"post-id"})],e.prototype,"postId",void 0),t._([t.n({type:String,attribute:"flair-class"})],e.prototype,"flairClass",void 0),e=t._([t.e("shreddit-post-flair")],e)}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("rxXg4kAY8P",["CYrPuvCiTj"],(async e=>{var t;!function(e){e.Small="sm",e.Medium="md"}(t||(t={}));const n=e=>{let t;return"boolean"==typeof e&&(t=e?"true":"false"),t},a=a=>{const{anchorAttributes:s,appearance:l,description:c,disabled:o,href:d,innerClassName_DO_NOT_USE:p,label:u,leadingAvatar:x,leadingIcon:f,noXPadding:m=!1,onClick:y,selected:$,size:h=t.Medium,trailingSlot:g,attributes:b,suppressHoverStyles:v=!1}=a,k=!$&&a.hasTransparentBackground,{html:w,createElement:E,ifDefined:S}=e.a(),{role:j,tabindex:M}=b??{},I=Boolean(M??b?.onclick??a.onClick),N=I?parseInt(M??"0"):void 0,T=!v&&(null!=d||I),_=e=>{return t=e,T?t:"";var t},C=["flex justify-between relative",(m?"px-xs -mx-xs":"px-md")+" gap-[0.5rem]","danger"===l?$?"text-danger-content":`text-danger-content ${_("hover:text-danger-content-hover")}`:$?"text-secondary-onBackground":`text-secondary ${_("hover:text-secondary-hover")}`,`${k?"":$?`bg-neutral-background-selected ${_("hover:bg-neutral-background-selected")}`:`${_("active:bg-interactive-pressed")}`} ${_("hover:bg-neutral-background-hover")}`,`${_("hover:no-underline")}`,`${_("cursor-pointer")}`,o?"opacity-60 pointer-events-none":"",h===t.Medium?"py-xs":"py-2xs"," -outline-offset-1",p].join(" "),D=w` <span class="flex items-center gap-xs min-w-0 shrink"> ${f?w` <span class="flex shrink-0 items-center justify-center h-xl w-xl text-20 leading-4"> ${f} </span>`:void 0} ${x?w`<span class="flex shrink-0 items-center justify-center h-xl w-xl"> <span class="text-20 leading-4">${x}</span> </span>`:void 0} <span class="flex flex-col justify-center min-w-0 shrink py-[var(--rem6)]"> <span class="text-14">${u}</span> <span class="text-12 text-secondary-weak">${c}</span> </span> </span> ${i(g)} `;return d?E("a",{...s,role:j,href:d,tabindex:N,onclick:y,className:`${C} ${s?.className?s.className:""} no-underline`,style:`padding-inline-end: ${r(a)}`},D):w`<div aria-disabled="${S(n(o)||b?.["aria-disabled"])}" aria-selected="${S(n($)||b?.["aria-selected"])}" role="${S(j)}" tabindex="${S(N)}" class="${C}" @click="${y}" @keydown="${e=>{"Enter"!==e.code&&"Space"!==e.code||!y||y(e)}}" style="padding-inline-end:${r(a)}"> ${D} </div>`};function r({trailingSlot:e}){if("object"!=typeof e||!("type"in e))return"16px";switch(e.type){case"iconButton":return"58px";case"switchInput":return"80px";default:return"16px"}}const s=t=>{if("object"!=typeof t||!("type"in t))return null;const{html:n}=e.a();return n`<div class="absolute top-1/2" style="inset-inline-end:${function(e){if("object"!=typeof e||!("type"in e))return"16px";switch(e.type){case"iconButton":return"10px";case"switchInput":return"8px";default:return"16px"}}(t)};transform:translateY(-50%)"> ${t.content} </div>`},i=t=>{if("object"==typeof t&&"type"in t)return null;const{html:n}=e.a();return n`<span class="flex items-center shrink-0"> <span class="flex items-center justify-center h-lg">${t}</span> </span>`};let l=e.w;return{get L(){return t},l:t=>{const{attributes:n,trailingSlot:r,selected:i,liRole:l}=t,{html:c,createElement:o}=e.a(),{role:d,tabindex:p,"aria-disabled":u,"aria-selected":x,...f}=n||{},m=c`${a(t)} ${s(r)}`;return o("li",{...f,className:`relative list-none mt-0 ${n?.className||""}`,rpl:!0,rplSelected:i,role:l||"presentation"},m)},s:async(t,{isEditMode:n=!1,preselectFlairId:a}={})=>{try{return await l({name:e.gU,renderMode:e.P.Contents,queryParams:{postId:t,isEditMode:n?"true":"false",...void 0!==a&&{preselectFlairId:a}}}),!0}catch{return!1}}}}));
SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");
SML.dm("wzdls1o9Kk",["CYrPuvCiTj"],(async e=>{const t=(e,n)=>{if(!e||!n)return!1;if(e===n)return!0;if(0===e.childElementCount&&!(e instanceof HTMLSlotElement))return!1;if(e.contains(n))return!0;if(e instanceof HTMLSlotElement&&e.assignedElements().some((e=>t(e,n))))return!0;if(e instanceof Element&&e.shadowRoot&&t(e.shadowRoot,n))return!0;for(const r of e.querySelectorAll("slot"))if(r.assignedElements().some((e=>t(e,n))))return!0;return!1};const n=new WeakMap;function r(e,t=document){let r=n.get(t);r||(r=new Map,n.set(t,r));let a=r.get(e);return a||(a={key:e},r.set(e,a)),a}const a=Symbol("mixins/pagination"),i=function(t){const n=new WeakMap,a=e.gR();return{getContextKey:(e,t)=>r(e,t),appointLeader(e,r){if(n.has(r)){if(n.get(r).isConnected)throw new Error(`Cannot appoint leader for key "${r.key}" in the same context twice.`)}n.set(r,e);const i=a.getRegisteredElements(r);if(i)for(const n of i)t(e,n)},dismissLeader(e,t){const r=n.get(t);r&&r===e&&n.delete(t)},getLeader:e=>n.get(e),registerFollower(e,r){a.register(r,e);const i=n.get(r);i&&t(i,e)},unregisterFollower(e,t){a.unregister(t,e)},getFollowers:e=>a.getRegisteredElements(e)}}(((e,t)=>{t.syncPagination(e)}));const o="https://www.google.com/recaptcha/enterprise.js",s=1e3,l=3,c=new Map,d=new Map;function u(e=s){return new Promise(((t,n)=>{const r=Math.ceil(e/50);let a=0;const i=()=>{h()?t():a>=r?n(new Error("reCAPTCHA SDK load timeout")):(a++,setTimeout(i,50))};i()}))}function h(){return"function"==typeof window.grecaptcha?.enterprise?.execute}class m{constructor(e){this.checkInteraction=e,this.startingState=null,this.mouseIsDown=!1}create(){this.startingState=this.checkInteraction(),this.mouseIsDown=!0}reset(){this.mouseIsDown=!1,this.startingState=null}get hasStateChanged(){return null!==this.startingState&&this.checkInteraction()!==this.startingState}}const g=e=>!e.hasAttribute("disabled"),p=e=>e.tabIndex=0,f=e=>e.tabIndex=-1,b=e=>0===e.tabIndex&&g(e),N=e=>(p(e),e.focus(),e),v=e=>(f(e),e),I=e=>{for(let t=0;t<e.length;t++){const n=e[t];if(b(n))return[n,t]}return null},T=e=>{for(const t of e)if(g(t))return t;return null},_=e=>{const t=T(e);return t?N(t):null},k=e=>{const t=(e=>{for(let t=0;t<e.length;t++){const n=e[e.length-1-t];if(g(n))return n}return null})(e);return t?N(t):null},E=Symbol.for("rpl-menu-item");function C(e){return e.assignedNodes({flatten:!0}).filter((e=>!!(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)))).length>0;}function y(e){const t={};return(n,r)=>{const a=((e,t)=>t?e+JSON.stringify(t):e)(n,r);return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=new e(n,r)}}const w=y(Intl.NumberFormat),S=y(Intl.RelativeTimeFormat),R=y(Intl.DateTimeFormat);function x(e){return "string"!=typeof e?e:e.startsWith("selector(")?e.replace(/^selector\(/,"").replace(/\)$/,""):e;}function A(e){return{...e,trigger:"object"==typeof e.trigger?O(e.trigger):e.trigger,target:x(e.target),template:x(e.template),triggerElem:x(e.triggerElem)}}function O(e){if("event"in e)return e.filters?`event(${e.event}(${JSON.stringify(e.filters)}))`:`event(${e.event})`;if("topic"in e)return e.filters?`subscribe(${e.topic}(${JSON.stringify(e.filters)}))`:`subscribe(${e.topic})`;if("intersection"in e){if("enter"===e.intersection)return e.observerArgs?`view(args(${JSON.stringify(e.observerArgs)}))`:"view";if("leave"===e.intersection)return e.observerArgs?`leave(${e.observerArgs})`:"leave"}return""}function D(t){return n=>t(e.x,e.aa,n)}const M=D((function(e,t,n){return e`<ac-activate ?once="${(n=A(n)).once}" ?scoped="${n.scoped}" args="${t(n.args?JSON.stringify(n.args):void 0)}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" name="${n.name.toString()}" query-params="${t(n.queryParams?JSON.stringify(n.queryParams):void 0)}" render-mode="${t(n.renderMode)}" route-params="${t(n.routeParams?JSON.stringify(n.routeParams):void 0)}" target="${t(n.target)}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-activate>`})),P=D((function(e,t,n){return e`<ac-dispatch ?once="${(n=A(n)).once}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" detail="${t(n.detail?JSON.stringify(n.detail):void 0)}" event-name="${n.eventName}" target="${t(n.target)}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-dispatch>`})),$=D((function(e,t,n){return e`<ac-set ?once="${(n=A(n)).once}" attribute="${t(n.attribute)}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" property="${n.property}" target="${n.target}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}" value="${n.value}"></ac-set>`})),L=D((function(e,t,n){return e`<ac-track ?once="${(n=A(n)).once}" data-faceplate-tracking-context="${t(n.faceplateTrackingContext?JSON.stringify(n.faceplateTrackingContext):void 0)}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" san="${n.san}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-track>`})),F=D((function(e,t,n){return e`<ac-toggle ?once="${(n=A(n)).once}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" force="${t(n.force)}" target-class="${n.targetClass}" target="${t(n.target)}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-toggle>`})),U=Symbol.for("lit-nothing");let H="RelativeTimeFormat"in Intl;const z=6e4;function j(e){const t=Math.abs(e.diff);switch(e.unit){case"minutes":return`${t} min. ago`;case"hours":return`${t} hr. ago`;case"days":return t>1?`${t} days ago`:`${t} day ago`;case"months":return`${t} mo. ago`;case"years":return`${t} yr. ago`;default:!function(e){throw new Error("Unexpected object: "+e)}(e.unit)}}const G=()=>e.am.get(e.lF),K=()=>e.am.get(e.lH),B=t=>t.placement===e.ah.FEED,V=t=>t.placement===e.ah.COMMENTS_PAGE||t.placement===e.ah.COMMENT_TREES,J=({post:t,placement:n})=>t&&V(t)&&t.isPdpCombined?e.ah.COMMENTS_PAGE:n||t?.placement,W=t=>{const n=t.closest("shreddit-ad-post")||t.closest("shreddit-comments-page-ad")||t.closest("ad-event-tracker")||t.closest("shreddit-sidebar-ad");if(n)return n;{const n=t.getRootNode(),r=n instanceof ShadowRoot?n.host:null;return r?.tagName===e.lJ||r?.tagName===e.lK?r:null}};function Z(t){t&&e.a6.setItem(e.a7.AdEvents,JSON.stringify(t))}function q(t){t&&e.a6.setItem(e.a7.AdUserTargeting,JSON.stringify(t))}const Y="combined";const X=function(e){return e};const Q=new Map([["image/png",e.lM.Png],["image/x-png",e.lM.Png],["image/gif",e.lM.Gif],["image/jpeg",e.lM.Jpeg],["image/webp",e.lM.Webp],["video/mp4",e.lM.Mp4],["video/quicktime",e.lM.Quicktime]]);let ee={uploadErrorMessage:()=>"There was an error uploading the file.",uploadToS3ErrorMessage:()=>"Failed to upload file to S3.",genericErrorMessage:()=>"Something went wrong",unsupportedMimetype:e=>`${e} files are not supported.`};function te(e,t){const n=new FormData;return t?.forEach((({header:e,value:t})=>{t&&n.append(e,t)})),n.append("file",e),n}function ne(e){return(new DOMParser).parseFromString(e,"text/xml")}function re(e){window.Sentry?.captureMessage?.(e)}function ae(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var a=1,i="";if("?"===e[s=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--a){s++;break}}else if("("===e[s]&&(a++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));i+=e[s++]}else i+=e[s++]+e[s++];if(a)throw new TypeError("Unbalanced pattern at ".concat(n));if(!i)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:i}),n=s}else{for(var o="",s=n+1;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;o+=e[s++]}if(!o)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:o}),n=s}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,a=void 0===r?"./":r,i=t.delimiter,o=void 0===i?"/#?":i,s=[],l=0,c=0,d="",u=function(e){if(c<n.length&&n[c].type===e)return n[c++].value},h=function(e){var t=u(e);if(void 0!==t)return t;var r=n[c],a=r.type,i=r.index;throw new TypeError("Unexpected ".concat(a," at ").concat(i,", expected ").concat(e))},m=function(){for(var e,t="";e=u("CHAR")||u("ESCAPED_CHAR");)t+=e;return t},g=function(e){var t=s[s.length-1],n=e||(t&&"string"==typeof t?t:"");if(t&&!n)throw new TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!n||function(e){for(var t=0,n=o;t<n.length;t++){var r=n[t];if(e.indexOf(r)>-1)return!0}return!1}(n)?"[^".concat(ie(o),"]+?"):"(?:(?!".concat(ie(n),")[^").concat(ie(o),"])+?")};c<n.length;){var p=u("CHAR"),f=u("NAME"),b=u("PATTERN");if(f||b){var N=p||"";-1===a.indexOf(N)&&(d+=N,N=""),d&&(s.push(d),d=""),s.push({name:f||l++,prefix:N,suffix:"",pattern:b||g(N),modifier:u("MODIFIER")||""})}else{var v=p||u("ESCAPED_CHAR");if(v)d+=v;else if(d&&(s.push(d),d=""),u("OPEN")){N=m();var I=u("NAME")||"",T=u("PATTERN")||"",_=m();h("CLOSE"),s.push({name:I||(T?l++:""),pattern:I&&!T?g(N):T,prefix:N,suffix:_,modifier:u("MODIFIER")||""})}else h("END")}}return s}function ie(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");}const oe="moderator";function se(t){return t===e.ea.Post}const le=(e,t,n)=>{const r={id:t,title:n};return se(e)?{post_flair:r}:{user_flair:r}};function ce(){return "Something went wrong";}let de=e.ag;const ue=e.dL(class extends e.dM{constructor(){super(...arguments),this.key=e.A}render(e,t){return this.key=e,t}update(t,[n,r]){return n!==this.key&&(e.dQ(t),this.key=n),r}});const he={"3xs":"w-[1rem] h-[1rem]","2xs":"w-[1rem] h-[1rem]",xs:"w-[1.5rem] h-[1.5rem]",sm:"w-[2rem] h-[2rem]",md:"w-[2.5rem] h-[2.5rem]",lg:"w-[3rem] h-[3rem]",xl:"w-[3.5rem] h-[3.5rem]","2xl":"w-[4rem] h-[4rem]","3xl":"w-[5.5rem] h-[5.5rem]"},me={"3xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]","2xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]",xs:"w-[1.5rem] h-[1.5rem] min-w-[1.5rem] min-h-[1.5rem]",sm:"w-[2rem] h-[2rem] min-w-[2rem] min-h-[2rem]",md:"w-[2.5rem] h-[2.5rem] min-w-[2.5rem] min-h-[2.5rem]",lg:"w-[3rem] h-[3rem] min-w-[3rem] min-h-[3rem]",xl:"w-[2.875rem] h-[2.875rem] min-w-[2.875rem] min-h-[2.875rem]","2xl":"w-[3.25rem] h-[3.25rem] min-w-[3.25rem] min-h-[3.25rem]","3xl":"w-[4.5rem] h-[4.5rem] min-w-[4.5rem] min-h-[4.5rem]"},ge={"3xs":"outline-offset-[0.125rem]","2xs":"outline-offset-[0.125rem]",xs:"outline-offset-[0.125rem]",sm:"outline-offset-[0.125rem]",md:"outline-offset-[0.125rem]",lg:"outline-offset-[0.1875rem]",xl:"outline-offset-[0.1875rem]","2xl":"outline-offset-[0.1875rem]","3xl":"outline-offset-[.25rem]"},pe={"3xs":"border","2xs":"border",xs:"border",sm:"border",md:"border-md",lg:"border-md",xl:"border-md","2xl":"border-lg","3xl":"border-lg"},fe={"3xs":"outline-1","2xs":"outline-1",xs:"outline-1",sm:"outline-1",md:"outline-2",lg:"outline-2",xl:"outline-2","2xl":"outline-4","3xl":"outline-4"},be={"3xs":2,"2xs":2,xs:2,sm:4,md:4,lg:4,xl:6,"2xl":6,"3xl":6},Ne={"3xs":-5.4,"2xs":-5.4,xs:-5.4,sm:-7,md:-7,lg:-7,xl:-8.3,"2xl":-8.3,"3xl":-8.3},ve={"3xs":"-right-[0.0625rem]","2xs":"right-0",xs:"right-[0.05rem]",sm:"right-[0.10rem]",md:"-right-[0.0825rem]",lg:"-right-[0.125rem]",xl:"-right-[0.125rem]","2xl":"-right-[.65rem]","3xl":"-right-[.75rem]"},Ie={"3xs":"w-[.25rem] h-[.25rem] border","2xs":"w-[.25rem] h-[.25rem] border",xs:"w-[.25rem] h-[.25rem] border",sm:"w-[.375rem] h-[.375rem] border-2",md:"w-[.375rem] h-[.375rem] border-2",lg:"w-[.625rem] h-[.625rem] border-2",xl:"w-[.625rem] h-[.625rem] border-2","2xl":"w-[1rem] h-[1rem] border-2","3xl":"w-[1.25rem] h-[1.25rem] border-2"},Te={"3xs":"rounded-1","2xs":"rounded-1",xs:"rounded-1",sm:"rounded-2",md:"rounded-2",lg:"rounded-2",xl:"rounded-[.75rem]","2xl":"rounded-[.75rem]","3xl":"rounded-4"},_e=({ringColorClassName:e,size:t})=>e?`${e} outline ${fe[t]} ${ge[t]}`:"",ke=({...t})=>{const{html:n,ifDefined:r}=e.a(),{attributes:a,children:i,position:o="relative",size:s,status:l}=t;return n`<span class="inline-flex snoovatar ${o} ${r(a?.className)}">${i}${ye({status:l,size:s})} </span>`},Ee=({children:t,snoovatarSrc:n,avatarBgClassName:r,appearance:a})=>{const{html:i}=e.a();return i` <span style="${r||!n?"":`background: ${"media"===a?"var(--color-avatar-media-gradient)":"var(--color-avatar-gradient)"}`}" class="rounded-full absolute h-full w-full inline-flex justify-center ${r||""}"> ${t??e.A} </span>`},Ce=t=>{const{appearance:n}=t;return"collectible"===n?(({snoovatarSrc:t,snoovatarAlt:n,size:r,attributes:a,status:i,flip:o,lazy:s})=>{const{html:l}=e.a();return ke({flip:o,size:r,status:i,children:l`${Re()} ${Se({size:r})}${we({snoovatarSrc:t,snoovatarAlt:n,size:r,lazy:s})}`,attributes:{...a,className:`${me[r]}`}})})(t):(({attributes:t,ringLayer:n,children:r,snoovatarAlt:a,snoovatarSrc:i,avatarBgClassName:o,size:s,ringColorClassName:l,status:c,appearance:d,flip:u,lazy:h})=>{const{html:m}=e.a(),g="default"===d?"box-border [&>:first-child]:rounded-[inherit] overflow-hidden":"",p=m`<span class="absolute rounded-full inset-0 border border-solid border-neutral-border-weak bg-transparent"></span>`;return ke({flip:u,size:s,status:c,position:n?"absolute":"relative",attributes:{...t,className:`${_e({ringColorClassName:l,size:s})} fp-avatar-container rounded-full ${me[s]} isolate box-content`},children:m` ${i?e.A:Ee({snoovatarSrc:i,appearance:d,avatarBgClassName:o,children:m`<span class="relative rounded-full overflow-hidden ${n?"border border-solid border-neutral-background":""} inline-flex w-full h-full ${g}">${r} ${"default"===d&&n?p:e.A} </span>`})} ${i?xe({snoovatarSrc:i,snoovatarAlt:a,size:s,ringColorClassName:l,avatarBgClassName:o,appearance:d,lazy:h}):e.A}`})})(t)},ye=({status:t,size:n})=>{const{html:r}=e.a();return t?r` <span class="${"online"===t?"bg-online":""} flex absolute bottom-0 rounded-full border-solid border-neutral-background bg-neutral-background ${ve[n]} ${pe[n]} ${Ie[n]}"> ${"online"===t?"":t} </span> `:""},we=({size:t,snoovatarAlt:n,snoovatarSrc:r,lazy:a})=>{const{html:i,svg:o}=e.a(),s=Math.random().toString(16).slice(2);return i`<div class="absolute h-full w-full" style="transform:translateY(${Ne[t]}%)"> <svg width="100%" height="100%" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden"> <defs> <clipPath id="${s}"> <path d="M120 0H0V96H22.0602C22.5169 98.2109 23.896 100.155 25.8949 101.309L56          118.691C58.4752 120.12 61.5248 120.12 64 118.691L94.1051 101.309C96.104 100.155 97.4831          98.2109 97.9398 96H120V0Z"/> </clipPath> </defs> ${a?o`<foreignObject clip-path="url(#${s})" width="100%" height="100%"> <img src="${r}" alt="${n}" loading="lazy"> </foreignObject>`:o`<image href="${r}" alt="${n}" clip-path="url(#${s})" height="100%" width="100%">`} </svg> </div>`},Se=({size:t})=>{const{html:n}=e.a();return n`<span class="absolute h-full w-full start-0"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 72 72" fill="none"> <path d="M34 3.4641C35.2376 2.74957 36.7624 2.74957 38 3.4641L63.1769 18C64.4145 18.7145 65.1769 20.035 65.1769 21.4641V50.5359C65.1769 51.965 64.4145 53.2855 63.1769 54L38 68.5359C36.7624 69.2504 35.2376 69.2504 34 68.5359L8.82309 54C7.58548 53.2855 6.82309 51.965 6.82309 50.5359V21.4641C6.82309 20.035 7.58548 18.7145 8.82309 18L34 3.4641Z" stroke="url(#paint0_diamond_26526_186798)" stroke-width="${be[t]}" stroke-linejoin="round"/> <defs> <radialGradient id="paint0_diamond_26526_186798" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-7.4247 26.0998) rotate(15.9097) scale(50.0682 24082.5)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> </defs> </svg> </span>`},Re=()=>{const{html:t}=e.a();return t`<div class="absolute h-full w-full" style="transform:scale(${.95})"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 64 64" fill="none"> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint0_diamond_26026_173944)"/> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint1_linear_26026_173944)"/> <defs> <radialGradient id="paint0_diamond_26026_173944" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-6.59974 23.1999) rotate(15.9097) scale(44.5051 21406.7)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> <linearGradient id="paint1_linear_26026_173944" x1="23.5687" y1="22.7061" x2="44.1183" y2="53.4817" gradientUnits="userSpaceOnUse"> <stop stop-color="#004E5F"/> <stop offset="1" stop-color="#727CD8" stop-opacity="0.81"/> </linearGradient> </defs> </svg> </div>`},xe=({size:t,snoovatarAlt:n,snoovatarSrc:r,attributes:a,avatarBgClassName:i,appearance:o,lazy:s})=>{const{html:l,svg:c,createElement:d}=e.a(),u=Math.random().toString(16).slice(2);return d("span",{...a,className:"absolute start-0 end-0 bottom-0 mx-auto inline-flex shrink-0 justify-center box-border h-full w-full"},l`${Ee({snoovatarSrc:r,avatarBgClassName:i,appearance:o})} <svg viewBox="0 0 121 122" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden absolute bottom-0 ${he[t]}"> <defs> <clipPath id="${u}"> <path d="M0 0V79L28.1628 105.5C35.013 115.465 46.4934 122 59.5 122C72.5066 122 83.987 115.465 90.8372 105.5L120.5 79V0H0Z"/> </clipPath> </defs> ${s?c`<foreignObject clip-path="url(#${u})" width="100%" height="100%"> <img src="${r}" alt="${n}" loading="lazy"> </foreignObject>`:c`<image href="${r}" alt="${n}" clip-path="url(#${u})" height="100%" width="100%">`} </svg>`)},Ae=e.dL(class extends e.dM{constructor(e){super(e),this.tt=new WeakMap}render(e){return[e]}update(t,[n]){if(e.lN(this.et)&&(!e.lN(n)||this.et.strings!==n.strings)){const n=e.lO(t).pop();let r=this.tt.get(this.et.strings);if(void 0===r){const t=document.createDocumentFragment();r=e.aR(e.A,t),r.setConnected(!1),this.tt.set(this.et.strings,r)}e.dQ(r,[n]),e.lP(r,void 0,n)}if(e.lN(n)){if(!e.lN(this.et)||this.et.strings!==n.strings){const r=this.tt.get(n.strings);if(void 0!==r){const n=e.lO(r).pop();e.lQ(t),e.lP(t,void 0,n),e.dQ(t,[n])}}this.et=n}else this.et=void 0;return this.render(n)}});var Oe=e.a3("close-outline",e.al);const De={plain:"plain",plainInverted:"plainInverted",error:"destructive",brand:"brand",caution:"plain",success:"success"};const Me="highlight_card_";const Pe={rootMargin:"0px",threshold:[1]};class $e extends e.bi{constructor(t,n){super(t),this._isInViewport=!1,this._hasBeenImpressed=!1,this._hasBeenConsumed=!1,this._hasPageUnloaded=!1,this.onVisible=e=>{this._isInViewport&&e&&(this._hasPageUnloaded=!1,this._becameVisibleOnScreenTimestamp=Date.now())},this.onHidden=e=>{this._isInViewport&&(e||this._hasPageUnloaded||this.handlePotentialConsume())},this.onBeforeUnloadCallback=()=>{this._hasPageUnloaded=!0,this._isInViewport&&this.handlePotentialConsume()},this.onEnter=()=>{this._isInViewport||(this._isInViewport=!0,this._becameVisibleOnScreenTimestamp=Date.now(),this.handlePotentialImpression())},this.onLeave=()=>{this._isInViewport&&(this.handlePotentialConsume(),this._isInViewport=!1)},t.addController(this),this._config={...n,observerConfig:n.observerConfig??Pe},this._observerController=new e.aB(this,t,this._config.observerConfig);const r=new e.E(this,(()=>t));r.define("faceplate-enter",this.onEnter),r.define("faceplate-leave",this.onLeave)}hostConnected(){super.hostConnected(),e.aI(this.onVisible,{immediate:!0}),e.aI(this.onHidden,{immediate:!0,shouldBeCalledFirst:!0}),e.aH.subscribe(this.onBeforeUnloadCallback,{shouldBeCalledFirst:!0})}hostDisconnected(){super.hostDisconnected(),e.aJ(this.onHidden),e.aJ(this.onVisible),e.aH.unsubscribe(this.onBeforeUnloadCallback)}handlePotentialImpression(){this._hasBeenImpressed||(this._hasBeenImpressed=!0,this._config.onView?.())}handlePotentialConsume(){!this._hasBeenConsumed&&this._becameVisibleOnScreenTimestamp&&Date.now()-this._becameVisibleOnScreenTimestamp>this._config.consumeThreshold&&(this._hasBeenConsumed=!0,this._observerController.hostDisconnected(),this._config.onConsume?.())}}const Le="component-reload";const Fe=(t,n,r)=>e.c({source:"custom_feeds",...t},{customFeed:{id:n},...(r ? {subreddit:{id:r}} : {})}),Ue=new Set,He=new Set(["reddit","config","special"]),ze=new Set(["edit","revisions","settings","discussions","pages","create"]),je=new Set(["config/description","config/sidebar","config/stylesheet","config/submit_text"]);const Ge=Object.entries({16:"icon32",24:"icon48",32:"icon64",40:"icon96",48:"icon96",56:"icon96",88:"icon96"});const Ke=1e3,Be=1e6,Ve=1e9,Je=({num:e,divider:t,defaultFixed:n=0,maxDigits:r,removeZeroDecimal:a})=>{const i=e/t;if(!r){const e=i.toFixed(n);return a&&Number(e)%1==0?Math.floor(i).toString():i.toFixed(Math.floor(n))}return i.toString().slice(0,r+1)};const We=(e,t,n=1)=>{const r=Math.pow(10,n);return(Math.floor(e/(t/r))/r).toFixed(n)},Ze=/(?:\/|-)nftv2_([a-z0-9%]+)_([a-z]+)_([a-z0-9-]{36})(?:-headshot)?\.(?:png|svg)/i;const qe=(e,t)=>{"complete"!==document.readyState?window.addEventListener("load",e,t):e()},Ye="preview";var Xe=Object.freeze({__proto__:null,AdStorageController:class{constructor(e){this.host=e}getParentAdPost(){const e=this.host.closest("ad-event-tracker");return e||null}storeAdDataInStorage(){const e=this.getParentAdPost();e&&(Z({impressionId:e.impressionId,adEvents:e.adEvents,clickRedirectUrl:e.outboundLinkUrl,encryptedTrackingPayload:e.encryptedTrackingPayload,additionalEventMetadata:e.additionalEventMetadata}),e.adUserTargeting&&q(e.adUserTargeting))}}});return {$:"pdp-ama-comment-tab-wrapper",A:class{constructor(t,n){this._batchTimer=0,this._batchDisplay=()=>{if(this._batchTimer=0,!this._batchQueue||!this._batchQueue.length)return;const t=e.lR(this._batchQueue);for(const e of t)this.options.onAlert(e);this._batchQueue.length=0},t.addController(this),this.host=t,this.options=n,n.batchWindow&&n.batchWindow>0&&(this._batchQueue=[])}hostConnected(){e.lS(this.host).then((t=>{t&&(this._reporter=t,e.lT.register(t,this))}))}hostDisconnected(){this._reporter&&(e.lT.unregister(this._reporter,this),this._reporter=void 0),this._batchTimer&&window.clearTimeout(this._batchTimer),this._batchQueue&&(this._batchQueue.length=0)}shouldDisplayAlert(e){if(!this.options.isOnline()&&!e.showWhenOffline)return!1;const t=this.options;if("number"==typeof e.level){if(t.max&&e.level>t.max)return!1;if(t.min&&e.level<t.min)return!1}else if(void 0!==t.min||void 0!==t.max)return!1;return!t.name||t.name===e.name}displayAlert(e){if(this._batchQueue){if(this._batchQueue.push(e),this._batchTimer)return;this._batchTimer=window.setTimeout(this._batchDisplay,this.options.batchWindow)}else this.options.onAlert(e)}},B:F,C:class{constructor(t,n){this.isLoading=!1,this.hasReloadError=!1,this.handleReload=async e=>{if(!this.reloadUrl)return;this._currentAbortController&&this._currentAbortController.abort(),this._currentAbortController=new AbortController;const t=this._currentAbortController;this.isLoading=!0,this.hasReloadError=!1,this.host.requestUpdate();try{await this.getAndReplacePartial(e.detail?.queryParameters,t.signal)}catch(e){t.signal.aborted||(this.hasReloadError=!0)}this._currentAbortController===t&&(this.isLoading=!1,this._currentAbortController=void 0,this.host.requestUpdate())};const{reloadUrl:r,containerSelector:a,mode:i=e.P.Contents}=n||{};(this.host=t).addController(this),this._partialRequest=new e.aU(this.host),this._reloadUrl=r,this.containerSelector=a||this.host.tagName.toLowerCase(),this._mode=i}get reloadUrl(){return this._reloadUrl}set reloadUrl(e){this._reloadUrl=e}get mode(){return this._mode}set mode(e){this._mode=e}hostConnected(){this.host.addEventListener(Le,this.handleReload)}hostDisconnected(){this.host.removeEventListener(Le,this.handleReload)}async getAndReplacePartial(t={},n){const r=this.reloadUrl&&Array.from(Object.entries(t)).reduce(((t,[n,r])=>e.c9(t,n,r)),this.reloadUrl),a=await this._partialRequest.request(r);if(n?.aborted)return;const i=await(a?.text());if(n?.aborted)return;if(!i)throw new Error("Unable to reload content");const o=(new DOMParser).parseFromString(i,"text/html").querySelector(this.containerSelector);if(!o)throw new Error(`Element ${this.containerSelector} not found in reload response`);if(!n?.aborted)if(this.mode!==e.P.Contents)e.aV(o.outerHTML,this.host,this.mode);else{if(!o?.innerHTML)throw new Error("No content to reload");e.aV(o.innerHTML,this.host,this.mode)}}},D:()=>"Comment deleted by user",E:(e,t)=>{const n=e.composedPath(),r=Array.isArray(t)?t.map((e=>e.toUpperCase())):[t.toUpperCase()];for(const e of n)if(r.includes(e.tagName))return!0;return!1},F:"flair-form-can-submit-change",G:function(e,t){const n=e.composedPath();for(const e of n){const n=e.dataset,r=n&&n[t];if(null!=r)return r}return null},H:"flair-settings__flair-copy",I:class{constructor(e,t){this.observedElements=[],this.handleSlotChange=e=>{this.observer.disconnect();const t=e.target;t instanceof HTMLSlotElement&&(this.observedElements=t.assignedElements(),this.observedElements.forEach((e=>this.observer.observe(e))))},this.observer=new IntersectionObserver(this.handleIntersection.bind(this),t),(this.host=e).addController(this)}hostConnected(){this.observedElements.forEach((e=>this.observer.observe(e)))}hostDisconnected(){this.observer.disconnect()}isLoadableFaceplatePartial(t){return t instanceof e.bK&&t.loading===e.C.Programmatic&&!t.isLoading}async handleIntersection(e){e.forEach((e=>{e.isIntersecting&&this.isLoadableFaceplatePartial(e.target)&&e.target.load()}))}},J:"flair-settings__flair-delete",K:"flair-form-success",L:"flair-settings__table-feature-id",M:"flair-settings__flair-delete-modal",N:"flair-settings__flair-form",O:"observe-gallery-item-impression",P:t=>e.c({source:oe,action:"click",noun:se(t)?"remove_post_flair_confirm":"remove_flair_confirm"}),Q:function(e){return e.replace(Me,"")},R:function(e,t=0,n=!1){let r=!1,a=null;const i=function(...o){r?n&&(a=[this,o]):(e.apply(this,o),r=!0,setTimeout((()=>{r=!1,a&&(i.apply(a[0],a[1]),a=null)}),t))};return i},S:"subreddit-posting-eligibility-modal",T:Q,U:async function(e,t){const n=await window.fetch(t.uploadLeaseUrl,{method:"POST",body:te(e,t.uploadLeaseHeaders)});if(n.ok){const e=function(e){const t=ne(e);return t.querySelector("Location")?.textContent?.trim()}(await n.text());return e||re("Unable to retrieve S3 url for uploaded resource."),e}throw (re(`Failed to upload file to S3 with error code: ${function(e){const t=ne(e);return t.querySelector("Code")?.textContent?.trim()}(await n.text())}`), new Error(ee.uploadToS3ErrorMessage()))},V:$e,W:function(e){if(a in e)return e;class t extends e{constructor(){super(...arguments),this.pages=1,this._pageIndex=1,this._pageNames=void 0}get pageIndex(){return this._pageIndex}set pageIndex(e){if(e===this._pageIndex)return;const t=this._pageIndex;this._pageIndex=e,this.pageIndexChangedCallback(t)}get pageNames(){return this._pageNames}set pageNames(e){e&&(this.pages=e.length),this._pageNames=e}syncLinkedPageables(){if(this._paginationLeaderContext){const e=i.getFollowers(this._paginationLeaderContext);if(!e||!e.size)return;for(const t of e)t.syncPagination(this)}if(this._paginationFollowerContext){const e=i.getLeader(this._paginationFollowerContext);e&&(e.pageIndex=this._pageIndex)}}syncPagination(e){this.pageIndex=e.pageIndex,this.pages=e.pages,this.pageNames=e.pageNames}getPaginationContext(){const e=this.getRootNode();if(e!==this&&(e instanceof Document||e instanceof ShadowRoot))return e}connectedCallback(){super.connectedCallback&&super.connectedCallback();const e=this.getPaginationContext();if(!e)return;const t=this.getAttribute("for");t&&(this._paginationFollowerContext=i.getContextKey(t,e),i.registerFollower(this,this._paginationFollowerContext)),this.id&&!t&&(this._paginationLeaderContext=i.getContextKey(this.id,e),i.appointLeader(this,this._paginationLeaderContext))}disconnectedCallback(){super.connectedCallback&&super.connectedCallback(),this._paginationLeaderContext&&(i.dismissLeader(this,this._paginationLeaderContext),this._paginationLeaderContext=void 0),this._paginationFollowerContext&&(i.unregisterFollower(this,this._paginationFollowerContext),this._paginationFollowerContext=void 0)}nextPage(){this.pageIndex=Math.min(this.pages,this.pageIndex+1)}previousPage(){this.pageIndex=Math.max(1,this.pageIndex-1)}pageIndexChangedCallback(e){this.syncLinkedPageables()}}return t[a]=!0,t},X:function(e,t){if(!e)return{color:"",icon:"",backgroundColor:""};const n=function(e){const t=e?.primaryColor,n=e?.mobileKeyColor,r=e?.legacyPrimaryColor;return t||n||r||null}(e)||"",r=function(e,t){if(!t)return e?.icon??null;for(const[n,r]of Ge){const a=e?.[r];if(a&&t<=parseInt(n,10))return a}return e?.icon??null}(e,t),a=e?.legacyIcon?.url;return{color:n,icon:r||a||"",backgroundColor:e?.backgroundColor||""}},Y:()=>{const e=K(),t=G();return"true"===e||void 0===e&&void 0===t?window.matchMedia("(prefers-reduced-motion: reduce)")?.matches:"false"!==t},Z:"clear-search-input",_:"reddit-search:close",a:Le,a$:L,a0:class{hostConnected(){}constructor(e,t){this.host=e,this.config=t,this._interactionTrigger=null,this.mouseFrame=new m((()=>this.config.isInteractedWith(this.host))),this.eventUsedMap=new WeakMap,this.handleBlur=e=>{if(this.hasTrigger("focus")||this.hasTrigger("focus-visible")){const t=()=>this.host.finishInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayEnd(this.host)):t()}},this.handleClick=e=>{if(this.eventUsedMap.has(e))return this.mouseFrame.reset();this.eventUsedMap.set(e,!0),this.hasTrigger("click")&&!this.mouseFrame.hasStateChanged&&(this.config.isInteractedWith(this.host)?this.host.finishInteraction(e,"click"):this.host.startInteraction(e,"click")),this.mouseFrame.reset()},this.handleFocus=e=>{const t=this.hasTrigger("focus"),n=this.hasTrigger("focus-visible");if((!(!t&&n&&e.target instanceof HTMLElement)||e.target.matches(":focus-visible"))&&(t||n)&&!this.mouseFrame.mouseIsDown){const t=()=>this.host.startInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayStart(this.host)):t()}},this.handleMouseEnter=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.startInteraction(e,"hover")),this.config.hoverDelayStart(this.host))},this.handleMouseLeave=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.finishInteraction(e,"hover")),this.config.hoverDelayEnd(this.host))},this.handleMouseDown=()=>{this.hasTrigger("click")&&this.mouseFrame.create()},this.handleMouseUp=()=>{this.hasTrigger("click")&&(this.mouseFrame.mouseIsDown=!1)},this.host.addController(this)}set interactionTrigger(e){this._interactionTrigger=e,this.host.requestUpdate()}get interactionTrigger(){return this._interactionTrigger}delayInteraction(e,t){clearTimeout(this.delayTimeout),this.delayTimeout=window.setTimeout(e,t)}hasTrigger(e){return this.host.trigger.split(" ").includes(e)}},a1:t,a2:b,a3:p,a4:f,a5:T,a6:t=>Object.values(e.c4).includes(t),a7:I,a8:v,a9:g,aA:e=>!!e&&(e.indexOf("profileIcon_snoo")>-1||e.indexOf("snoovatar/avatars")>-1||e.endsWith("snoovatar_anonymous.svg")),aB:function(e){return!!e&&Ze.test(e)},aC:"https://chat.reddit.com/",aD:(e,t)=>new CustomEvent("rpl:menu-clicked-item",{bubbles:!0,composed:!0,cancelable:!0,detail:{type:e,item:t}}),aE:t=>Object.values(e.d8).includes(t),aF:({item:e,reason:t})=>new CustomEvent("rpl:menu-close",{bubbles:!0,composed:!0,detail:{item:e,reason:t,itemPath:[e]}}),aG:t=>Object.values(e.d9).includes(t),aH:E,aI:"request",aJ:Ze,aK:ze,aL:He,aM:"config/automoderator",aN:"config/post_removal_message",aO:je,aP:50,aQ:100,aR:"templateSelector",aS:async function(t){const n={input:t},{data:r,errors:a}=await de({operation:e.af.RemoveHighlightedPost,variables:n});if(a?.length)throw new Error(ce());const{removeHighlightedPost:i}=r;if(!i?.ok)throw new Error(ce())},aT:class{constructor(e){this.isRegistered=!1,this.config=e}async loadScript(){const{siteKey:e,nonce:t,timeout:n=s}=this.config,r=`${o}?render=${e}`;if(this.isRegistered)return await c.get(e),void (await u(n));if(c.has(e)){const t=c.get(e);this.isRegistered=!0;const r=d.get(e)||0;return d.set(e,r+1),await t,void (await u(n));}const a=document.querySelector(`script[src*="${r}"]`);if(a){const t=Promise.resolve(a);c.set(e,t),this.isRegistered=!0;const r=d.get(e)||0;return d.set(e,r+1),void (await u(n));}const i=new Promise(((n,a)=>{const i=document.createElement("script");i.src=r,i.async=!0,t&&(i.nonce=t),i.onload=()=>n(i),i.onerror=()=>a(new Error(`Failed to load reCAPTCHA script for site key: ${e}`)),document.body.appendChild(i)}));c.set(e,i),this.isRegistered=!0;const l=d.get(e)||0;d.set(e,l+1),await i,await u(n)}async generateToken(e){const t=e||this.config.action;if(!t)throw new Error("Action is required for token generation");return this.generateRecaptchaToken({siteKey:this.config.siteKey,action:t,maxRetries:this.config.maxRetries,retryDelay:this.config.retryDelay})}async generateTokenSafe(e){try{return await this.generateToken(e)}catch(e){return window.Sentry?.captureException(e),null}}async loadAndGenerateTokenSafe(e){return await this.loadScript(),this.generateTokenSafe(e)}destroy(){if(!this.isRegistered)return;const{siteKey:e}=this.config,t=d.get(e)||0,n=Math.max(0,t-1);if(0===n){const t=`${o}?render=${e}`,n=document.querySelector(`script[src*="${t}"]`);n&&n.remove(),c.delete(e),d.delete(e)}else d.set(e,n);this.isRegistered=!1}async generateRecaptchaToken(t){const{siteKey:n,action:r,maxRetries:a=l,retryDelay:i=s}=t;let o=0;for(;o<a;)try{if(!h())throw new Error("reCAPTCHA not ready");const e=await(window.grecaptcha?.enterprise?.execute?.(n,{action:r}));if("string"!=typeof e||!e)throw new Error("Failed to retrieve a valid reCAPTCHA token.");return e}catch(t){if(t instanceof Error&&t.message.includes("Invalid site key or not loaded in api.js")&&(o++,o<a)){await e.e4(i);continue}throw t}throw new Error("Failed to generate reCAPTCHA token after maximum retries")}},aU:function(e){return`${Me}${e}`},aV:(e,t)=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return Math.floor(n.top)>=Math.floor(r.top)&&Math.ceil(n.bottom)<=Math.ceil(r.bottom)&&Math.ceil(n.right)<=Math.ceil(r.right)&&Math.floor(n.left)>=Math.floor(r.left)},aW:t=>e.c({source:oe,action:"click",noun:se(t)?"clear_post_flair_name":"clear_flair_name"}),aX:()=>"CO-HOST",aY:()=>"OP",aZ:()=>"ADMIN",a_:()=>"MOD",aa:N,ab:_,ac:e=>{const t=I(e);return t?(v(t[0]),t):null},ad:k,ae:(e,t,n)=>{if(!t)return k(e);const r=((e,t,n)=>{for(let r=1;r<e.length;r++){const a=(t-r+e.length)%e.length,i=e[a];if(a>t&&!n)return null;if(g(i))return i}return g(e[t])?e[t]:null})(e,t[1],n);return r?N(r):null},af:(e,t,n)=>{if(!t)return _(e);const r=((e,t,n)=>{for(let r=1;r<e.length;r++){const a=(t+r)%e.length,i=e[a];if(a<t&&!n)return null;if(g(i))return i}return g(e[t])?e[t]:null})(e,t[1],n);return r?N(r):null},ag:e=>E in e,ah:{MenuItem:"menuitem",Button:"button",Link:"link",Checkbox:"menuitemcheckbox",Radio:"menuitemradio"},ai:C,aj:e=>{try{return new URL(e).hostname.endsWith("reddit.com")}catch(e){return!1}},ak:W,al:e=>e.startsWith("https://alb.reddit.com/cr"),am:function({el:t,outboundUrl:n,clickLocation:r,galleryIndex:a}){const i=W(t),o=i?.placement||("placement"in t?t.placement:void 0),s=i?.id||t?.id||("postId"in t?t?.postId:""),l=i?.impressionId||("impressionId"in t?t?.impressionId:""),c=e.d("observe-ad-click",{postId:s,impressionId:l,outboundUrl:n,galleryIndex:a,clickLocation:r});t.dispatchEvent(c),e.a6.isAvailable()&&(e.a6.setItem(e.a7.LastClickedAdId,s),e.a6.setItem(e.a7.ImpressionId,l),e.a6.setItem(e.a7.AdPlacement,o||""))},an:Z,ao:q,ap:function(){return"button_appearance"===e.aw(e.lL)||e.aw(e.lL)===Y},aq:U,ar:2e3,as:"reddit-search:open",at:"onboarding",au:"dismiss",av:function(e){return!!e},aw:(e,t)=>Fe({action:"add",noun:"subreddit"},e,t),ax:(e,t)=>Fe({action:"remove",noun:"subreddit"},e,t),ay:ue,az:5,b:class{constructor(e){this.host=e,this.slotsCache=new Map,this.hasContentsCache=new Map,this.slotTextCache=new Map,this.handleSlotChange=e=>{if(!(e.target instanceof HTMLSlotElement))return;const t=e.target,n=t.hasAttribute("name")?t.name:"default",r=this.hasContentsCache.get(n),a=C(t);this.slotsCache.set(n,t),this.hasContentsCache.set(n,C(t)),this.slotTextCache.delete(n),r!==a&&this.host.requestUpdate()},e.addController(this)}hostConnected(){}getSlot(e){const t=this.slotsCache.get(e);if(void 0!==t)return t;const n=this.host.shadowRoot?.querySelector("default"===e?"slot:not([name])":`slot[name="${e}"]`);return n instanceof HTMLSlotElement?(this.slotsCache.set(e,n),n):null}hasSlotContent(e){return this.hasContentsCache.get(e)??!1}getSlotText(e){const t=this.slotTextCache.get(e);if(void 0!==t)return t;if(!(this.hasContentsCache.get(e)??!1))return this.slotTextCache.set(e,null),null;const n=this.getSlot(e);if(!n)return null;const r=(e=>{const t=e.assignedNodes({flatten:!0}),n=[];for(const e of t)e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)&&n.push(e.textContent.trim()),e.nodeType===Node.ELEMENT_NODE&&e.textContent?.match(/\S/)&&n.push(e.textContent.trim());return n.length>0?n.join(" "):null})(n);return this.slotTextCache.set(e,r),r}},b$:function(e,t,n){var r;const a=function(e,t){const n=t.getTime()-e.getTime(),r=Math.round(n/31104e6),a=Math.round(n/2592e6),i=Math.round(n/864e5),o=Math.round(n/36e5),s=n/z;let l="minutes",c=0;return Math.abs(Math.round(s))<60?c=s>-1&&s<1?Math.sign(s)*Math.ceil(Math.abs(s)):Math.round(s):Math.abs(o)<24?(l="hours",c=o):Math.abs(i)<29?(l="days",c=i):Math.abs(a)<11?(l="months",c=a):(l="years",c=r),{unit:l,diff:c}}(new Date,e);try{if(H){return function(e,t,n){return S(t,{localeMatcher:"lookup",numeric:"always",style:n}).format(e.diff,e.unit)}(a,t,null!==(r=null==n?void 0:n.format)&&void 0!==r?r:(null==n?void 0:n.short)?"short":"long")}}catch(e){}return ((null==n?void 0:n.short)||"short"===(null==n?void 0:n.format))&&a.diff<0&&t.match(/en.*/)?j(a):R(t,{dateStyle:"short",timeStyle:"short"}).format(e);},b0:(t,n)=>e.c({source:oe,action:"click",noun:se(t)?"enable_post_flair":"enable_user_flair"},{action_info:{setting_value:n?"toggle on":"toggle off"}}),b1:(t,n)=>e.c({source:oe,action:"click",noun:se(t)?"let_users_assign_post_flair":"let_users_assign_flair"},{action_info:{setting_value:n?"toggle on":"toggle off"}}),b2:t=>e.c({source:oe,action:"click",noun:se(t)?"reorder_post_flair_dialog":"reorder_flair_dialog"}),b3:()=>e.c({source:"post_detail",action:"click",noun:"load_more_comments"}),b4:e=>Fe({action:"delete",noun:"custom_feed"},e),b5:"table-pagination__paginate-previous",b6:"table-pagination__paginate-next",b7:J,b8:B,b9:V,bA:function(e){return new Date(e.replace("+0000","+00:00"))},bB:function(t){return t===e.ad.ModQueueCompactView},bC:1,bD:25,bE:"table-pagination__page-size-updated",bF:function(e){return e?"Settings saved.":"Failed to save settings. Please try again.";},bG:function(e=!1){return e?"Saved":"Save changes";},bH:function(e,{displayFull:t,roundDown:n,maxDigits:r,removeZeroDecimal:a}={}){return t?(e=>{const t=e.split(".");return [t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")].concat(t.slice(1)).join(".");})(e.toString()):e>=99999999949?`${Je({num:e,divider:Ve,maxDigits:r,removeZeroDecimal:a})}b`:e>=999999949&&e<99999999949?`${Je({num:e,divider:Ve,defaultFixed:1,maxDigits:r,removeZeroDecimal:a})}b`:e>=99999949&&e<999999949?`${Je({num:e,divider:Be,maxDigits:r,removeZeroDecimal:a})}m`:e>=999949&&e<99999949?`${Je({num:e,divider:Be,defaultFixed:1,maxDigits:r,removeZeroDecimal:a})}m`:e>=99949&&e<999949?`${Je({num:e,divider:Ke,maxDigits:r,removeZeroDecimal:a})}k`:e>=Ke&&e<99949?n?`${We(e,Ke)}k`:`${Je({num:e,divider:Ke,defaultFixed:1,maxDigits:r,removeZeroDecimal:a})}k`:String(e);},bI:"wiki-banned-users__unban",bJ:"wiki-banned-users__ban",bK:"wiki-banned-users__edit",bL:"wiki-banned-contributors-confirmation-modal",bM:"wiki-banned-contributors-ban-modal",bN:function(t){return t===e.ad.CompactView},bO:()=>"[deleted]",bP:function(){return"vote_component"===e.aw(e.lL)||e.aw(e.lL)===Y},bQ:"comment-post",bR:"list-reply-comment",bS:(t="post_detail",n)=>e.c({source:t,action:"click",noun:"downvote_comment"},{action_info:{trigger_type:n}}),bT:(t="post_detail",n)=>e.c({source:t,action:"click",noun:"upvote_comment"},{action_info:{trigger_type:n}}),bU:(t="post_detail",n)=>e.c({source:t,action:"click",noun:"clearvote_comment"},{action_info:{trigger_type:n}}),bV:t=>e.c({source:"achievements",action:"click",noun:"card_icon"},{action_info:{page_type:t}}),bW:t=>e.c({source:"achievements",action:"click",noun:"profile_showcase"},{action_info:{page_type:t}}),bX:"view",bY:"auth_modal",bZ:"send",b_:R,ba:t=>e.c({source:oe,action:"click",noun:se(t)?"change_post_flair_color":"change_flair_color"}),bb:(t,n,r)=>e.c({source:oe,action:"click",noun:se(t)?"post_flair_edit_save":"flair_edit_save"},le(t,n,r)),bc:(t,n,r)=>e.c({source:oe,action:"click",noun:se(t)?"create_post_flair_confirm":"create_flair_confirm"},le(t,n,r)),bd:function(t,n){return e.u({attributes:n,appearance:De[t],leadingIcon:Oe()})},be:function(t,n){if(!t)return;const{html:r}=e.a();return r` <span class="flex items-center justify-center">${Array.isArray(t)?r`${t.map((t=>e.u({...t,appearance:De[n]})))}`:e.u(t)}</span>`},bf:"click",bg:"back",bh:function(t){const n=e.a6.getItem(e.a7.AdEvents);if(null===n)return null;let r;try{r=JSON.parse(n)}catch{return null}return r.impressionId!==t?null:(e.a6.removeItem(e.a7.AdEvents),r)},bi:function(){const t=e.a6.getItem(e.a7.AdUserTargeting);if(null===t)return null;let n;try{n=JSON.parse(t)}catch{return null}return e.a6.removeItem(e.a7.AdUserTargeting),n},bj:()=>e.c({source:"comment",action:"click",noun:"load_more_comments"}),bk:()=>e.c({source:"post_detail",action:"click",noun:"comment_image"}),bl:"comment-composer-cancel-draft",bm:"comment-edit-success",bn:"reloadPollingDurationMs",bo:()=>e.c({source:"post_detail",action:"click",noun:"collapse_comment"}),bp:()=>e.c({source:"post_detail",action:"click",noun:"expand_comment"}),bq:"/svc/shreddit/edit-comment",br:(t,{communityId:n,communityName:r})=>e.k(t,e.c({source:"community_page",action:"click",noun:"communities_menu",subreddit:{name:r,id:n}})),bs:ce,bt:function(e){return{source:"feed_experience",action:e?"unsubscribe":"subscribe",noun:"subreddit"}},bu:function(){return{source:"feed_experience_overflow",noun:"hide",action:"click"}},bv:function(){return{source:"feed_experience",action:"impression",noun:"feed_experience"}},bw:"login",bx:t=>e.c({source:oe,action:"click",noun:se(t)?"reorder_post_flair_confirm":"reorder_flair_confirm"}),by:function(){return document&&document.documentElement.lang?document.documentElement.lang:navigator&&navigator.language?navigator.language:"en-US"},bz:function(e,t,n){return!0===(null==n?void 0:n.short)?e.toLocaleDateString(t,{month:"short",day:"numeric"}):e.toLocaleString(t,null==n?void 0:n.options)},c:r,c$:function(t){const n={[e.ih.Female]:"Woman",[e.ih.Male]:"Man",[e.ih.NonBinary]:"Non-binary",[e.ih.OptOut]:"I prefer not to say",[e.ih.UserDefined]:"I refer to myself as..."};return t?n[t]:n},c0:function(e=!1){return e?"Saved":"Save";},c1:X,get c2(){return ee},c3:{STREAK_EXTENDED:"streak_progressed",TROPHY_UNLOCKED:"achievement_unlocked",TROPHY_PROGRESSED:"achievement_progress"},c4:"saved-responses__reorder",c5:(e,t,n)=>{for(const n of t)if(n[0]===e)return(0,n[1])();return null==n?void 0:n()},c6:"achievement-progress-toast",c7:({attributes:t,title:n,titleDataTestId:r,description:a,buttonProps:i,creative:o,creativeSafe:s=!0})=>{const{html:l,createElement:c}=e.a();return c("div",{...t,className:"flex flex-col items-center w-full",rpl:!0,"rpl-empty-state":!0},l`<div class="w-full flex flex-col items-center overflow-hidden box-border ${!s&&"p-md"}"> ${o} </div> <div class="flex flex-col w-full items-center box-border px-md gap-md ${n||a?"pb-md":""}"> ${n||a?l` <div class="max-w-[480px] flex flex-col items-center text-center"> <div class="text-24 font-bold text-neutral-content-strong" data-testid="${e.aa(r)}"> ${n} </div> <div class="text-16 text-neutral-content-weak">${a}</div> </div> `:""} ${i?l`<div>${e.u(i)}</div>`:""} </div>`)},c8:Ae,c9:"saved-responses__saved",cA:class{get matches(){return this.mediaQuery.matches}constructor(e,t){this.host=e,this.query=t,this.rafId=null,this.handleMediaChange=()=>{this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame((()=>{this.rafId=null,this.host.requestUpdate("matches",!this.matches)}))},e.addController(this),this.mediaQuery=window.matchMedia(t),this.mediaQuery.addEventListener("change",this.handleMediaChange)}async hostConnected(){}async hostDisconnected(){}},cB:w,cC:M,cD:G,cE:(t,n,r)=>{e.aS({name:e.lF}),e.ao({name:e.lF,country:n,value:`${t}`,options:{...e.b1,domain:r}})},cF:K,cG:(t,n,r)=>{e.aS({name:e.lH}),e.ao({name:e.lH,country:n,value:`${t}`,options:{...e.b1,domain:r}})},cH:()=>e.am.get(e.lG),cI:(t,n,r)=>{e.aS({name:e.lG}),e.ao({name:e.lG,country:n,value:`${t}`,options:{...e.b1,domain:r}})},cJ:function(t){return t===e.ad.CardView},cK:"emote|",cL:"giphy|",cM:$,cN:function({fieldErrors:e,defaultMessage:t}){return e?.[0]?.message??t},cO:"wiki-revision-note-modal-dialog",cP:"wiki-page-tabs",cQ:"hidePostSubmitLink",cR:"isTranslatable",cS:"targetLanguage",cT:({adjacentElement:t})=>{if(!e.kS(e.kT()))return()=>{};const n=document.createElement("input");return n.setAttribute("type","text"),n.style.position="absolute",n.style.opacity="0",n.style.height="0",n.style.fontSize="16px",t.insertAdjacentElement("afterend",n),n.focus(),()=>n.remove()},cU:"comment-deletion-modal",cV:t=>e.c({source:t,action:"click",noun:"follow"}),cW:t=>e.c({source:t,action:"undo",noun:"follow"}),cX:"list-reply-comment-button",cY:t=>e.c({source:t,action:"click",noun:"save"}),cZ:t=>e.c({source:t,action:"click",noun:"unsave"}),c_:e=>!e||e.includes("avatar_default_"),ca:e=>Fe({action:"duplicate",noun:"custom_feed"},e),cb:e=>Fe({action:"create",noun:"custom_feed"},e),cc:t=>e.k(t,e.c({source:"community_page",action:"click",noun:"all_communities"})),cd:t=>e.k(t,e.c({source:"community_page",action:"click",noun:"favorites"})),ce:t=>e.k(t,e.c({source:"community_search",action:"view",noun:"search_bar"})),cf:t=>e.k(t,e.c({source:"community_search",action:"view",noun:"query_prompt"})),cg:t=>e.k(t,e.c({source:"community_search",action:"click",noun:"search_bar"})),ch:"saved-responses__create",ci:"saved-responses__exit-create-view",cj:"saved-responses__delete",ck:"saved-responses__update-item",cl:"saved-responses__submit",cm:"saved-responses__open-reorder-modal",cn:"saved_responses__cancel_update",co:"saved-responses-table__partial_id",cp:"saved_responses__response_delete_modal_id",cq:function(e){return`add-ama-collaborators-modal-${e}`},cr:"wiki-page-settings-done-button",cs:"wiki-page-settings-close-button",ct:"wiki-page-setting-modal-dialog",cu:"skip",cv:"https://www.reddit.com/redditchat/",cw:"chat-mobile-xpromo",cx:{Total:"#D2DADD",Posts:"#0E8A00",Negative:"#372F8C",Positive:"#008675",Neutral:"#629FFF",Score:"#D93A00",Performance:"#6A5CFF",Comments:"#D93900",Upvotes:"#6A5CFF","Post Upvotes":"#DE019F","Comment Upvotes":"#5BA200","Total Upvotes":"#97AFBC","Total Mentions":"#6A5CFF"},cy:e=>e.startsWith("a2_")?e.replace("a2_",""):e.startsWith("t2_")?e.replace("t2_",""):e,cz:e=>/^award_.+\|t\d_.+$/.test(e),d:function(e,t){return function(e,t){void 0===t&&(t={});var n=function(e){return e&&e.sensitive?"":"i"}(t),r=t.encode,a=void 0===r?function(e){return e}:r,i=t.validate,o=void 0===i||i,s=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),n)}));return function(t){for(var n="",r=0;r<e.length;r++){var i=e[r];if("string"!=typeof i){var l=t?t[i.name]:void 0,c="?"===i.modifier||"*"===i.modifier,d="*"===i.modifier||"+"===i.modifier;if(Array.isArray(l)){if(!d)throw new TypeError('Expected "'.concat(i.name,'" to not repeat, but got an array'));if(0===l.length){if(c)continue;throw new TypeError('Expected "'.concat(i.name,'" to not be empty'))}for(var u=0;u<l.length;u++){var h=a(l[u],i);if(o&&!s[r].test(h))throw new TypeError('Expected all "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(h,'"'));n+=i.prefix+h+i.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!c){var m=d?"an array":"a string";throw new TypeError('Expected "'.concat(i.name,'" to be ').concat(m))}}else{h=a(String(l),i);if(o&&!s[r].test(h))throw new TypeError('Expected "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(h,'"'));n+=i.prefix+h+i.suffix}}else n+=i}return n}}(ae(e,t),t)},get d0(){return Xe},e:({size:t="sm",appearance:n="default",snoovatarAlt:r="User Avatar",ringLayer:a,attributes:i,...o})=>{const{html:s,ifDefined:l}=e.a(),c="icon"===n||"subreddit"===n;return s`<span class="inline-flex items-center justify-center ${he[t]} ${i?.className}" rpl avatar ?flip="${o.flip}" id="${l(i?.id)}" slot="${l(i?.slot)}"> ${a&&!c?a:""} ${c?(({attributes:t,children:n,size:r,appearance:a,status:i,ringColorClassName:o})=>{const s="icon"===a?"rounded-full":Te[r],{html:l,ifDefined:c}=e.a();return l`<span rpl id="${c(t?.id)}" slot="${c(t?.slot)}" class="inline-block ${s} ${_e({ringColorClassName:o,size:r})} relative [&>:first-child]:h-full [&>:first-child]:w-full [&>:first-child]:mb-0 [&>:first-child]:rounded-[inherit] h-full w-full [&>:first-child]:overflow-hidden [&>:first-child]:max-h-full"> ${n}${ye({status:i,size:r})} </span>`})({size:t,attributes:i,appearance:n,...o}):Ce({attributes:i,snoovatarAlt:r,appearance:n,ringLayer:a,size:t,...o})}</span>`},get f(){return Oe},g:function(e){return Array.from(function*(e){for(let t=1;t<=e;t++)yield t}(e))},h:function(){return{source:"feed_experience",action:"impression",noun:"subreddit"}},i:({listId:e,seeButtonId:t})=>{const n=document.querySelector(`#${e}`),r=n?.querySelectorAll(".hidden"),a=n?.querySelector(`#${t}`),i=a?.getAttribute("data-see-less-label"),o=a?.getAttribute("data-see-more-label");if((!a||!Ue.has(a))&&n&&a&&r&&i&&o){let e=!0;a.addEventListener("click",(()=>{Array.from(r).forEach((t=>{e?t.classList.remove("hidden"):t.classList.add("hidden")})),a.textContent=e?i:o,e=!e})),Ue.add(a)}},j:(...e)=>e.filter(Boolean).join(" "),k:function(){return{source:"feed_experience",action:"consume",noun:"subreddit"}},l:t=>e.c({source:"global",action:"view",noun:"screen"},{action_info:{page_type:e.ar.AchievementDetail,...(t ? {type:t} : {})}}),m:function(e="#preview"){qe((function(){const t=document.querySelector(e);t?.classList.contains(Ye)||t?.classList.add(Ye)}))},n:(e,t=e.tagName.toLowerCase())=>{const n=e=>(""===e&&(e="generic"),t+":"+e);return{dispatch:(t,r={bubbles:!0,cancelable:!0,composed:!0})=>e.dispatchEvent(new CustomEvent(n(t),r)),eventId:n}},o:function(e,t){return null!==e.querySelector(`:scope > [slot="${t}"]`)},p:()=>e.c({source:"comment",action:"click",noun:"share"}),q:()=>e.c({source:"comment",action:"click",noun:"share_copy"}),r:e=>{window.location.href=e||window.location.href},s:qe,t:function({el:t,clickLocation:n,galleryIndex:r}){try{const a=W(t),i=a?.placement||("placement"in t?t?.placement:void 0),o=a?.postId||("postId"in t?t?.postId:""),s=a?.impressionId||("impressionId"in t?t?.impressionId:""),l=a?a.querySelector(`[click-location=${e.K.MEDIA}]`):t.querySelector(`[click-location=${e.K.MEDIA}]`);let c;l&&(c=l.getBoundingClientRect());const d=e.cy();e.k(t,(({postId:t,adMedia:n,impressionId:r,post:a,clickLocation:i=e.K.UNKNOWN,galleryIndex:o,page_request_id:s,placement:l})=>{const c={post:{id:t,subreddit_id:a?.subredditId,author_id:a?.authorId,promoted:!0},ad_click:{location:i},ad_metadata:{impression_id:r,placement:J({post:a,placement:l})},feed:e.eU(),action_info:{page_request_id:s}};return a&&B(a)&&(c.action_info||(c.action_info={}),c.action_info.position=a.feedIndex,c.screen||(c.screen={}),c.screen={},c.screen.view_type=e.eV(a.viewType)),a?.galleryItems&&(c.gallery={position:o,num_items:a.galleryItems.length}),a?.countryCode&&(c.geo={country_code:a.countryCode}),n&&(c.media={height:Math.round(n?.height),width:Math.round(n?.width)}),e.c(e.lI,c)})({postId:o,impressionId:s,post:a,adMedia:c,clickLocation:n,galleryIndex:r||0,page_request_id:d,placement:i}))}catch(e){const t="Sentry"in window?window.Sentry:void 0;t?.captureException&&(e.message&&(e.message=`post/click/ad exception: ${e.message}`),t.captureException(e))}},u:(t,n)=>{e.a6.isAvailable()&&e.a6.setItem(t,JSON.stringify(n))},v:t=>{if(!e.a6.isAvailable())return;const n=e.a6.getItem(t);if(n)try{return JSON.parse(n)}catch{return}},w:function(){return window.matchMedia("(pointer: coarse)").matches},x:t=>{return n=e.x,r=e.aa,n`<ac-call ?once="${(a=A(a=t)).once}" debounce="${r(a.debounce)}" delay="${r(a.delay)}" method="${a.method}" target="${a.target}" throttle="${r(a.throttle)}" trigger-elem="${r(a.triggerElem)}" trigger="${r(a.trigger)}"></ac-call>`;var n,r,a},y:t=>{return n=e.x,r=e.aa,n`<ac-toggle-attribute ?once="${(a=A(a=t)).once}" debounce="${r(a.debounce)}" delay="${r(a.delay)}" force="${r(a.force)}" target-attribute="${a.targetAttribute}" target="${r(a.target)}" throttle="${r(a.throttle)}" trigger-elem="${r(a.triggerElem)}" trigger="${r(a.trigger)}"></ac-toggle-attribute>`;var n,r,a},z:P};}));
SML.di("./DHTUnmCcdt.js",import.meta.url,"DHTUnmCcdt");SML.di("./aGdqhtcSjm.js",import.meta.url,"aGdqhtcSjm");SML.di("./CYrPuvCiTj.js",import.meta.url,"CYrPuvCiTj");SML.di("./wzdls1o9Kk.js",import.meta.url,"wzdls1o9Kk");